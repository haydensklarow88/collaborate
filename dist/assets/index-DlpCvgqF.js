function xP(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _P(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var o=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return e[s]}})}),n}var Bh={exports:{}},wl={},zh={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function wP(){if(lx)return it;lx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),u=Symbol.iterator;function h(H){return H===null||typeof H!="object"?null:(H=u&&H[u]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function C(H,ee,xe){this.props=H,this.context=ee,this.refs=w,this.updater=xe||y}C.prototype.isReactComponent={},C.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=C.prototype;function j(H,ee,xe){this.props=H,this.context=ee,this.refs=w,this.updater=xe||y}var E=j.prototype=new P;E.constructor=j,b(E,C.prototype),E.isPureReactComponent=!0;var L=Array.isArray,D=Object.prototype.hasOwnProperty,A={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function O(H,ee,xe){var q,Y={},se=null,re=null;if(ee!=null)for(q in ee.ref!==void 0&&(re=ee.ref),ee.key!==void 0&&(se=""+ee.key),ee)D.call(ee,q)&&!I.hasOwnProperty(q)&&(Y[q]=ee[q]);var ge=arguments.length-2;if(ge===1)Y.children=xe;else if(1<ge){for(var we=Array(ge),Oe=0;Oe<ge;Oe++)we[Oe]=arguments[Oe+2];Y.children=we}if(H&&H.defaultProps)for(q in ge=H.defaultProps,ge)Y[q]===void 0&&(Y[q]=ge[q]);return{$$typeof:e,type:H,key:se,ref:re,props:Y,_owner:A.current}}function F(H,ee){return{$$typeof:e,type:H.type,key:ee,ref:H.ref,props:H.props,_owner:H._owner}}function K(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function ne(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(xe){return ee[xe]})}var de=/\/+/g;function te(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?ne(""+H.key):ee.toString(36)}function ie(H,ee,xe,q,Y){var se=typeof H;(se==="undefined"||se==="boolean")&&(H=null);var re=!1;if(H===null)re=!0;else switch(se){case"string":case"number":re=!0;break;case"object":switch(H.$$typeof){case e:case t:re=!0}}if(re)return re=H,Y=Y(re),H=q===""?"."+te(re,0):q,L(Y)?(xe="",H!=null&&(xe=H.replace(de,"$&/")+"/"),ie(Y,ee,xe,"",function(Oe){return Oe})):Y!=null&&(K(Y)&&(Y=F(Y,xe+(!Y.key||re&&re.key===Y.key?"":(""+Y.key).replace(de,"$&/")+"/")+H)),ee.push(Y)),1;if(re=0,q=q===""?".":q+":",L(H))for(var ge=0;ge<H.length;ge++){se=H[ge];var we=q+te(se,ge);re+=ie(se,ee,xe,we,Y)}else if(we=h(H),typeof we=="function")for(H=we.call(H),ge=0;!(se=H.next()).done;)se=se.value,we=q+te(se,ge++),re+=ie(se,ee,xe,we,Y);else if(se==="object")throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return re}function be(H,ee,xe){if(H==null)return H;var q=[],Y=0;return ie(H,q,"","",function(se){return ee.call(xe,se,Y++)}),q}function ve(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(xe){(H._status===0||H._status===-1)&&(H._status=1,H._result=xe)},function(xe){(H._status===0||H._status===-1)&&(H._status=2,H._result=xe)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var pe={current:null},W={transition:null},J={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:W,ReactCurrentOwner:A};function ae(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:be,forEach:function(H,ee,xe){be(H,function(){ee.apply(this,arguments)},xe)},count:function(H){var ee=0;return be(H,function(){ee++}),ee},toArray:function(H){return be(H,function(ee){return ee})||[]},only:function(H){if(!K(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},it.Component=C,it.Fragment=n,it.Profiler=o,it.PureComponent=j,it.StrictMode=s,it.Suspense=p,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,it.act=ae,it.cloneElement=function(H,ee,xe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var q=b({},H.props),Y=H.key,se=H.ref,re=H._owner;if(ee!=null){if(ee.ref!==void 0&&(se=ee.ref,re=A.current),ee.key!==void 0&&(Y=""+ee.key),H.type&&H.type.defaultProps)var ge=H.type.defaultProps;for(we in ee)D.call(ee,we)&&!I.hasOwnProperty(we)&&(q[we]=ee[we]===void 0&&ge!==void 0?ge[we]:ee[we])}var we=arguments.length-2;if(we===1)q.children=xe;else if(1<we){ge=Array(we);for(var Oe=0;Oe<we;Oe++)ge[Oe]=arguments[Oe+2];q.children=ge}return{$$typeof:e,type:H.type,key:Y,ref:se,props:q,_owner:re}},it.createContext=function(H){return H={$$typeof:d,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:l,_context:H},H.Consumer=H},it.createElement=O,it.createFactory=function(H){var ee=O.bind(null,H);return ee.type=H,ee},it.createRef=function(){return{current:null}},it.forwardRef=function(H){return{$$typeof:f,render:H}},it.isValidElement=K,it.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:ve}},it.memo=function(H,ee){return{$$typeof:v,type:H,compare:ee===void 0?null:ee}},it.startTransition=function(H){var ee=W.transition;W.transition={};try{H()}finally{W.transition=ee}},it.unstable_act=ae,it.useCallback=function(H,ee){return pe.current.useCallback(H,ee)},it.useContext=function(H){return pe.current.useContext(H)},it.useDebugValue=function(){},it.useDeferredValue=function(H){return pe.current.useDeferredValue(H)},it.useEffect=function(H,ee){return pe.current.useEffect(H,ee)},it.useId=function(){return pe.current.useId()},it.useImperativeHandle=function(H,ee,xe){return pe.current.useImperativeHandle(H,ee,xe)},it.useInsertionEffect=function(H,ee){return pe.current.useInsertionEffect(H,ee)},it.useLayoutEffect=function(H,ee){return pe.current.useLayoutEffect(H,ee)},it.useMemo=function(H,ee){return pe.current.useMemo(H,ee)},it.useReducer=function(H,ee,xe){return pe.current.useReducer(H,ee,xe)},it.useRef=function(H){return pe.current.useRef(H)},it.useState=function(H){return pe.current.useState(H)},it.useSyncExternalStore=function(H,ee,xe){return pe.current.useSyncExternalStore(H,ee,xe)},it.useTransition=function(){return pe.current.useTransition()},it.version="18.3.1",it}var cx;function Nm(){return cx||(cx=1,zh.exports=wP()),zh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function bP(){if(ux)return wl;ux=1;var e=Nm(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,v){var g,u={},h=null,y=null;v!==void 0&&(h=""+v),p.key!==void 0&&(h=""+p.key),p.ref!==void 0&&(y=p.ref);for(g in p)s.call(p,g)&&!l.hasOwnProperty(g)&&(u[g]=p[g]);if(f&&f.defaultProps)for(g in p=f.defaultProps,p)u[g]===void 0&&(u[g]=p[g]);return{$$typeof:t,type:f,key:h,ref:y,props:u,_owner:o.current}}return wl.Fragment=n,wl.jsx=d,wl.jsxs=d,wl}var dx;function SP(){return dx||(dx=1,Bh.exports=bP()),Bh.exports}var a=SP(),S=Nm();const U=di(S),zw=xP({__proto__:null,default:U},[S]);var ku={},Hh={exports:{}},Rn={},Wh={exports:{}},qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function CP(){return fx||(fx=1,(function(e){function t(W,J){var ae=W.length;W.push(J);e:for(;0<ae;){var H=ae-1>>>1,ee=W[H];if(0<o(ee,J))W[H]=J,W[ae]=ee,ae=H;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var J=W[0],ae=W.pop();if(ae!==J){W[0]=ae;e:for(var H=0,ee=W.length,xe=ee>>>1;H<xe;){var q=2*(H+1)-1,Y=W[q],se=q+1,re=W[se];if(0>o(Y,ae))se<ee&&0>o(re,Y)?(W[H]=re,W[se]=ae,H=se):(W[H]=Y,W[q]=ae,H=q);else if(se<ee&&0>o(re,ae))W[H]=re,W[se]=ae,H=se;else break e}}return J}function o(W,J){var ae=W.sortIndex-J.sortIndex;return ae!==0?ae:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],v=[],g=1,u=null,h=3,y=!1,b=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var J=n(v);J!==null;){if(J.callback===null)s(v);else if(J.startTime<=W)s(v),J.sortIndex=J.expirationTime,t(p,J);else break;J=n(v)}}function L(W){if(w=!1,E(W),!b)if(n(p)!==null)b=!0,ve(D);else{var J=n(v);J!==null&&pe(L,J.startTime-W)}}function D(W,J){b=!1,w&&(w=!1,P(O),O=-1),y=!0;var ae=h;try{for(E(J),u=n(p);u!==null&&(!(u.expirationTime>J)||W&&!ne());){var H=u.callback;if(typeof H=="function"){u.callback=null,h=u.priorityLevel;var ee=H(u.expirationTime<=J);J=e.unstable_now(),typeof ee=="function"?u.callback=ee:u===n(p)&&s(p),E(J)}else s(p);u=n(p)}if(u!==null)var xe=!0;else{var q=n(v);q!==null&&pe(L,q.startTime-J),xe=!1}return xe}finally{u=null,h=ae,y=!1}}var A=!1,I=null,O=-1,F=5,K=-1;function ne(){return!(e.unstable_now()-K<F)}function de(){if(I!==null){var W=e.unstable_now();K=W;var J=!0;try{J=I(!0,W)}finally{J?te():(A=!1,I=null)}}else A=!1}var te;if(typeof j=="function")te=function(){j(de)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,be=ie.port2;ie.port1.onmessage=de,te=function(){be.postMessage(null)}}else te=function(){C(de,0)};function ve(W){I=W,A||(A=!0,te())}function pe(W,J){O=C(function(){W(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,ve(D))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(W){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var ae=h;h=J;try{return W()}finally{h=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=h;h=W;try{return J()}finally{h=ae}},e.unstable_scheduleCallback=function(W,J,ae){var H=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?H+ae:H):ae=H,W){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,W={id:g++,callback:J,priorityLevel:W,startTime:ae,expirationTime:ee,sortIndex:-1},ae>H?(W.sortIndex=ae,t(v,W),n(p)===null&&W===n(v)&&(w?(P(O),O=-1):w=!0,pe(L,ae-H))):(W.sortIndex=ee,t(p,W),b||y||(b=!0,ve(D))),W},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(W){var J=h;return function(){var ae=h;h=J;try{return W.apply(this,arguments)}finally{h=ae}}}})(qh)),qh}var hx;function kP(){return hx||(hx=1,Wh.exports=CP()),Wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function jP(){if(px)return Rn;px=1;var e=Nm(),t=kP();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){d(r,i),d(r+"Capture",i)}function d(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},u={};function h(r){return p.call(u,r)?!0:p.call(g,r)?!1:v.test(r)?u[r]=!0:(g[r]=!0,!1)}function y(r,i,c,m){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,c,m){if(i===null||typeof i>"u"||y(r,i,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function w(r,i,c,m,x,k,R){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=r,this.type=i,this.sanitizeURL=k,this.removeEmptyString=R}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new w(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];C[i]=new w(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new w(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new w(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new w(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new w(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new w(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new w(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new w(r,5,!1,r.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function j(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(P,j);C[i]=new w(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(P,j);C[i]=new w(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(P,j);C[i]=new w(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new w(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new w(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,i,c,m){var x=C.hasOwnProperty(i)?C[i]:null;(x!==null?x.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,c,x,m)&&(c=null),m||x===null?h(i)&&(c===null?r.removeAttribute(i):r.setAttribute(i,""+c)):x.mustUseProperty?r[x.propertyName]=c===null?x.type===3?!1:"":c:(i=x.attributeName,m=x.attributeNamespace,c===null?r.removeAttribute(i):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,m?r.setAttributeNS(m,i,c):r.setAttribute(i,c))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ne=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),W=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,H;function ee(r){if(H===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);H=i&&i[1]||""}return`
`+H+r}var xe=!1;function q(r,i){if(!r||xe)return"";xe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Z){var m=Z}Reflect.construct(r,[],i)}else{try{i.call()}catch(Z){m=Z}r.call(i.prototype)}else{try{throw Error()}catch(Z){m=Z}r()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var x=Z.stack.split(`
`),k=m.stack.split(`
`),R=x.length-1,V=k.length-1;1<=R&&0<=V&&x[R]!==k[V];)V--;for(;1<=R&&0<=V;R--,V--)if(x[R]!==k[V]){if(R!==1||V!==1)do if(R--,V--,0>V||x[R]!==k[V]){var z=`
`+x[R].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=R&&0<=V);break}}}finally{xe=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?ee(r):""}function Y(r){switch(r.tag){case 5:return ee(r.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return r=q(r.type,!1),r;case 11:return r=q(r.type.render,!1),r;case 1:return r=q(r.type,!0),r;default:return""}}function se(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case A:return"Portal";case F:return"Profiler";case O:return"StrictMode";case te:return"Suspense";case ie:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ne:return(r.displayName||"Context")+".Consumer";case K:return(r._context.displayName||"Context")+".Provider";case de:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case be:return i=r.displayName||null,i!==null?i:se(r.type)||"Memo";case ve:i=r._payload,r=r._init;try{return se(r(i))}catch{}}return null}function re(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(i);case 8:return i===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ge(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function we(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oe(r){var i=we(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),m=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,k=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(R){m=""+R,k.call(this,R)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ue(r){r._valueTracker||(r._valueTracker=Oe(r))}function le(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),m="";return r&&(m=we(r)?r.checked?"true":"false":r.value),r=m,r!==c?(i.setValue(r),!0):!1}function Fe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Nt(r,i){var c=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function bt(r,i){var c=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;c=ge(i.value!=null?i.value:c),r._wrapperState={initialChecked:m,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function mn(r,i){i=i.checked,i!=null&&E(r,"checked",i,!1)}function gn(r,i){mn(r,i);var c=ge(i.value),m=i.type;if(c!=null)m==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(m==="submit"||m==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?tn(r,i.type,c):i.hasOwnProperty("defaultValue")&&tn(r,i.type,ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function rr(r,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,c||i===r.value||(r.value=i),r.defaultValue=i}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function tn(r,i,c){(i!=="number"||Fe(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var on=Array.isArray;function Mn(r,i,c,m){if(r=r.options,i){i={};for(var x=0;x<c.length;x++)i["$"+c[x]]=!0;for(c=0;c<r.length;c++)x=i.hasOwnProperty("$"+r[c].value),r[c].selected!==x&&(r[c].selected=x),x&&m&&(r[c].defaultSelected=!0)}else{for(c=""+ge(c),i=null,x=0;x<r.length;x++){if(r[x].value===c){r[x].selected=!0,m&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function gi(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function jr(r,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(on(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}r._wrapperState={initialValue:ge(c)}}function vi(r,i){var c=ge(i.value),m=ge(i.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),i.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),m!=null&&(r.defaultValue=""+m)}function dt(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function go(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yi(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?go(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ss,Ln=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,m,x){MSApp.execUnsafeLocalFunction(function(){return r(i,c,m,x)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ss.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function sr(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xi=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(r){xi.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),es[i]=es[r]})});function Pr(r,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||es.hasOwnProperty(r)&&es[r]?(""+i).trim():i+"px"}function Tr(r,i){r=r.style;for(var c in i)if(i.hasOwnProperty(c)){var m=c.indexOf("--")===0,x=Pr(c,i[c],m);c==="float"&&(c="cssFloat"),m?r.setProperty(c,x):r[c]=x}}var kn=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _i(r,i){if(i){if(kn[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function ts(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function ns(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vn=null,Nr=null,yn=null;function vo(r){if(r=ol(r)){if(typeof vn!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Vc(i),vn(r.stateNode,r.type,i))}}function bi(r){Nr?yn?yn.push(r):yn=[r]:Nr=r}function Cs(){if(Nr){var r=Nr,i=yn;if(yn=Nr=null,vo(r),i)for(r=0;r<i.length;r++)vo(i[r])}}function ks(r,i){return r(i)}function Si(){}var Er=!1;function B(r,i,c){if(Er)return r(i,c);Er=!0;try{return ks(r,i,c)}finally{Er=!1,(Nr!==null||yn!==null)&&(Si(),Cs())}}function ue(r,i){var c=r.stateNode;if(c===null)return null;var m=Vc(c);if(m===null)return null;c=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var ce=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){ce=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch{ce=!1}function Ae(r,i,c,m,x,k,R,V,z){var Z=Array.prototype.slice.call(arguments,3);try{i.apply(c,Z)}catch(he){this.onError(he)}}var Pe=!1,He=null,at=!1,lt=null,Et={onError:function(r){Pe=!0,He=r}};function ir(r,i,c,m,x,k,R,V,z){Pe=!1,He=null,Ae.apply(Et,arguments)}function xt(r,i,c,m,x,k,R,V,z){if(ir.apply(this,arguments),Pe){if(Pe){var Z=He;Pe=!1,He=null}else throw Error(n(198));at||(at=!0,lt=Z)}}function St(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function Ye(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Ze(r){if(St(r)!==r)throw Error(n(188))}function Vt(r){var i=r.alternate;if(!i){if(i=St(r),i===null)throw Error(n(188));return i!==r?null:r}for(var c=r,m=i;;){var x=c.return;if(x===null)break;var k=x.alternate;if(k===null){if(m=x.return,m!==null){c=m;continue}break}if(x.child===k.child){for(k=x.child;k;){if(k===c)return Ze(x),r;if(k===m)return Ze(x),i;k=k.sibling}throw Error(n(188))}if(c.return!==m.return)c=x,m=k;else{for(var R=!1,V=x.child;V;){if(V===c){R=!0,c=x,m=k;break}if(V===m){R=!0,m=x,c=k;break}V=V.sibling}if(!R){for(V=k.child;V;){if(V===c){R=!0,c=k,m=x;break}if(V===m){R=!0,m=k,c=x;break}V=V.sibling}if(!R)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:i}function xn(r){return r=Vt(r),r!==null?On(r):null}function On(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=On(r);if(i!==null)return i;r=r.sibling}return null}var js=t.unstable_scheduleCallback,Ps=t.unstable_cancelCallback,Ea=t.unstable_shouldYield,Ra=t.unstable_requestPaint,et=t.unstable_now,rs=t.unstable_getCurrentPriorityLevel,Ci=t.unstable_ImmediatePriority,yc=t.unstable_UserBlockingPriority,yo=t.unstable_NormalPriority,tf=t.unstable_LowPriority,zn=t.unstable_IdlePriority,ki=null,Yt=null;function Aa(r){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ki,r,void 0,(r.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:sf,nf=Math.log,rf=Math.LN2;function sf(r){return r>>>=0,r===0?32:31-(nf(r)/rf|0)|0}var Ts=64,xo=4194304;function ji(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Pi(r,i){var c=r.pendingLanes;if(c===0)return 0;var m=0,x=r.suspendedLanes,k=r.pingedLanes,R=c&268435455;if(R!==0){var V=R&~x;V!==0?m=ji(V):(k&=R,k!==0&&(m=ji(k)))}else R=c&~x,R!==0?m=ji(R):k!==0&&(m=ji(k));if(m===0)return 0;if(i!==0&&i!==m&&(i&x)===0&&(x=m&-m,k=i&-i,x>=k||x===16&&(k&4194240)!==0))return i;if((m&4)!==0&&(m|=c&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=m;0<i;)c=31-Dn(i),x=1<<c,m|=r[c],i&=~x;return m}function _o(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ti(r,i){for(var c=r.suspendedLanes,m=r.pingedLanes,x=r.expirationTimes,k=r.pendingLanes;0<k;){var R=31-Dn(k),V=1<<R,z=x[R];z===-1?((V&c)===0||(V&m)!==0)&&(x[R]=_o(V,i)):z<=i&&(r.expiredLanes|=V),k&=~V}}function Ia(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ns(){var r=Ts;return Ts<<=1,(Ts&4194240)===0&&(Ts=64),r}function Ma(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function Ni(r,i,c){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Dn(i),r[i]=c}function of(r,i){var c=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var m=r.eventTimes;for(r=r.expirationTimes;0<c;){var x=31-Dn(c),k=1<<x;i[x]=0,m[x]=-1,r[x]=-1,c&=~k}}function La(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var m=31-Dn(c),x=1<<m;x&i|r[m]&i&&(r[m]|=i),c&=~x}}var vt=0;function xc(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var _c,Ei,Rr,wc,bc,Oa=!1,wo=[],or=null,Ar=null,ar=null,Ri=new Map,Ai=new Map,Ir=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(r,i){switch(r){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Ri.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(i.pointerId)}}function Ii(r,i,c,m,x,k){return r===null||r.nativeEvent!==k?(r={blockedOn:i,domEventName:c,eventSystemFlags:m,nativeEvent:k,targetContainers:[x]},i!==null&&(i=ol(i),i!==null&&Ei(i)),r):(r.eventSystemFlags|=m,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function lf(r,i,c,m,x){switch(i){case"focusin":return or=Ii(or,r,i,c,m,x),!0;case"dragenter":return Ar=Ii(Ar,r,i,c,m,x),!0;case"mouseover":return ar=Ii(ar,r,i,c,m,x),!0;case"pointerover":var k=x.pointerId;return Ri.set(k,Ii(Ri.get(k)||null,r,i,c,m,x)),!0;case"gotpointercapture":return k=x.pointerId,Ai.set(k,Ii(Ai.get(k)||null,r,i,c,m,x)),!0}return!1}function Cc(r){var i=Fi(r.target);if(i!==null){var c=St(i);if(c!==null){if(i=c.tag,i===13){if(i=Ye(c),i!==null){r.blockedOn=i,bc(r.priority,function(){Rr(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function bo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=Fa(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var m=new c.constructor(c.type,c);wi=m,c.target.dispatchEvent(m),wi=null}else return i=ol(c),i!==null&&Ei(i),r.blockedOn=c,!1;i.shift()}return!0}function Da(r,i,c){bo(r)&&c.delete(i)}function cf(){Oa=!1,or!==null&&bo(or)&&(or=null),Ar!==null&&bo(Ar)&&(Ar=null),ar!==null&&bo(ar)&&(ar=null),Ri.forEach(Da),Ai.forEach(Da)}function Mi(r,i){r.blockedOn===i&&(r.blockedOn=null,Oa||(Oa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cf)))}function We(r){function i(x){return Mi(x,r)}if(0<wo.length){Mi(wo[0],r);for(var c=1;c<wo.length;c++){var m=wo[c];m.blockedOn===r&&(m.blockedOn=null)}}for(or!==null&&Mi(or,r),Ar!==null&&Mi(Ar,r),ar!==null&&Mi(ar,r),Ri.forEach(i),Ai.forEach(i),c=0;c<Ir.length;c++)m=Ir[c],m.blockedOn===r&&(m.blockedOn=null);for(;0<Ir.length&&(c=Ir[0],c.blockedOn===null);)Cc(c),c.blockedOn===null&&Ir.shift()}var Mr=L.ReactCurrentBatchConfig,ss=!0;function uf(r,i,c,m){var x=vt,k=Mr.transition;Mr.transition=null;try{vt=1,So(r,i,c,m)}finally{vt=x,Mr.transition=k}}function df(r,i,c,m){var x=vt,k=Mr.transition;Mr.transition=null;try{vt=4,So(r,i,c,m)}finally{vt=x,Mr.transition=k}}function So(r,i,c,m){if(ss){var x=Fa(r,i,c,m);if(x===null)Af(r,i,m,Co,c),Sc(r,m);else if(lf(x,r,i,c,m))m.stopPropagation();else if(Sc(r,m),i&4&&-1<af.indexOf(r)){for(;x!==null;){var k=ol(x);if(k!==null&&_c(k),k=Fa(r,i,c,m),k===null&&Af(r,i,m,Co,c),k===x)break;x=k}x!==null&&m.stopPropagation()}else Af(r,i,m,null,c)}}var Co=null;function Fa(r,i,c,m){if(Co=null,r=ns(m),r=Fi(r),r!==null)if(i=St(r),i===null)r=null;else if(c=i.tag,c===13){if(r=Ye(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Co=r,null}function kc(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rs()){case Ci:return 1;case yc:return 4;case yo:case tf:return 16;case zn:return 536870912;default:return 16}default:return 16}}var Lr=null,Ua=null,Va=null;function jc(){if(Va)return Va;var r,i=Ua,c=i.length,m,x="value"in Lr?Lr.value:Lr.textContent,k=x.length;for(r=0;r<c&&i[r]===x[r];r++);var R=c-r;for(m=1;m<=R&&i[c-m]===x[k-m];m++);return Va=x.slice(r,1<m?1-m:void 0)}function ko(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function $a(){return!0}function Pc(){return!1}function _n(r){function i(c,m,x,k,R){this._reactName=c,this._targetInst=x,this.type=m,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(c=r[V],this[V]=c?c(k):k[V]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?$a:Pc,this.isPropagationStopped=Pc,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),i}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=_n(Es),Li=ae({},Es,{view:0,detail:0}),ff=_n(Li),za,Ha,Oi,jo=ae({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Oi&&(Oi&&r.type==="mousemove"?(za=r.screenX-Oi.screenX,Ha=r.screenY-Oi.screenY):Ha=za=0,Oi=r),za)},movementY:function(r){return"movementY"in r?r.movementY:Ha}}),Tc=_n(jo),hf=ae({},jo,{dataTransfer:0}),pf=_n(hf),mf=ae({},Li,{relatedTarget:0}),Wa=_n(mf),qt=ae({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=_n(qt),gf=ae({},Es,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),N=_n(gf),_=ae({},Es,{data:0}),T=_n(_),M={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _e(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=oe[r])?!!i[r]:!1}function Te(){return _e}var Xe=ae({},Li,{key:function(r){if(r.key){var i=M[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ko(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(r){return r.type==="keypress"?ko(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ko(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ut=_n(Xe),yt=ae({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mt=_n(yt),Po=ae({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),vf=_n(Po),Nc=ae({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),yf=_n(Nc),Ec=ae({},jo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xf=_n(Ec),Rc=[9,13,27,32],Ga=f&&"CompositionEvent"in window,Di=null;f&&"documentMode"in document&&(Di=document.documentMode);var Ac=f&&"TextEvent"in window&&!Di,Ka=f&&(!Ga||Di&&8<Di&&11>=Di),Xa=" ",To=!1;function No(r,i){switch(r){case"keyup":return Rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Rs=!1;function _f(r,i){switch(r){case"compositionend":return Ya(i);case"keypress":return i.which!==32?null:(To=!0,Xa);case"textInput":return r=i.data,r===Xa&&To?null:r;default:return null}}function wf(r,i){if(Rs)return r==="compositionend"||!Ga&&No(r,i)?(r=jc(),Va=Ua=Lr=null,Rs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ka&&i.locale!=="ko"?null:i.data;default:return null}}var bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!bf[r.type]:i==="textarea"}function ov(r,i,c,m){bi(m),i=Dc(i,"onChange"),0<i.length&&(c=new Ba("onChange","change",null,c,m),r.push({event:c,listeners:i}))}var Ja=null,Za=null;function xj(r){Cv(r,0)}function Ic(r){var i=Mo(r);if(le(i))return r}function _j(r,i){if(r==="change")return i}var av=!1;if(f){var Sf;if(f){var Cf="oninput"in document;if(!Cf){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Cf=typeof lv.oninput=="function"}Sf=Cf}else Sf=!1;av=Sf&&(!document.documentMode||9<document.documentMode)}function cv(){Ja&&(Ja.detachEvent("onpropertychange",uv),Za=Ja=null)}function uv(r){if(r.propertyName==="value"&&Ic(Za)){var i=[];ov(i,Za,r,ns(r)),B(xj,i)}}function wj(r,i,c){r==="focusin"?(cv(),Ja=i,Za=c,Ja.attachEvent("onpropertychange",uv)):r==="focusout"&&cv()}function bj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ic(Za)}function Sj(r,i){if(r==="click")return Ic(i)}function Cj(r,i){if(r==="input"||r==="change")return Ic(i)}function kj(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var lr=typeof Object.is=="function"?Object.is:kj;function el(r,i){if(lr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),m=Object.keys(i);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var x=c[m];if(!p.call(i,x)||!lr(r[x],i[x]))return!1}return!0}function dv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fv(r,i){var c=dv(r);r=0;for(var m;c;){if(c.nodeType===3){if(m=r+c.textContent.length,r<=i&&m>=i)return{node:c,offset:i-r};r=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=dv(c)}}function hv(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?hv(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function pv(){for(var r=window,i=Fe();i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=Fe(r.document)}return i}function kf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function jj(r){var i=pv(),c=r.focusedElem,m=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&hv(c.ownerDocument.documentElement,c)){if(m!==null&&kf(c)){if(i=m.start,r=m.end,r===void 0&&(r=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(r,c.value.length);else if(r=(i=c.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var x=c.textContent.length,k=Math.min(m.start,x);m=m.end===void 0?k:Math.min(m.end,x),!r.extend&&k>m&&(x=m,m=k,k=x),x=fv(c,k);var R=fv(c,m);x&&R&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==R.node||r.focusOffset!==R.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),r.removeAllRanges(),k>m?(r.addRange(i),r.extend(R.node,R.offset)):(i.setEnd(R.node,R.offset),r.addRange(i)))}}for(i=[],r=c;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)r=i[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Pj=f&&"documentMode"in document&&11>=document.documentMode,Eo=null,jf=null,tl=null,Pf=!1;function mv(r,i,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pf||Eo==null||Eo!==Fe(m)||(m=Eo,"selectionStart"in m&&kf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),tl&&el(tl,m)||(tl=m,m=Dc(jf,"onSelect"),0<m.length&&(i=new Ba("onSelect","select",null,i,c),r.push({event:i,listeners:m}),i.target=Eo)))}function Mc(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Ro={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Tf={},gv={};f&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Lc(r){if(Tf[r])return Tf[r];if(!Ro[r])return r;var i=Ro[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in gv)return Tf[r]=i[c];return r}var vv=Lc("animationend"),yv=Lc("animationiteration"),xv=Lc("animationstart"),_v=Lc("transitionend"),wv=new Map,bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(r,i){wv.set(r,i),l(i,[r])}for(var Nf=0;Nf<bv.length;Nf++){var Ef=bv[Nf],Tj=Ef.toLowerCase(),Nj=Ef[0].toUpperCase()+Ef.slice(1);As(Tj,"on"+Nj)}As(vv,"onAnimationEnd"),As(yv,"onAnimationIteration"),As(xv,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(_v,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ej=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Sv(r,i,c){var m=r.type||"unknown-event";r.currentTarget=c,xt(m,i,void 0,r),r.currentTarget=null}function Cv(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var m=r[c],x=m.event;m=m.listeners;e:{var k=void 0;if(i)for(var R=m.length-1;0<=R;R--){var V=m[R],z=V.instance,Z=V.currentTarget;if(V=V.listener,z!==k&&x.isPropagationStopped())break e;Sv(x,V,Z),k=z}else for(R=0;R<m.length;R++){if(V=m[R],z=V.instance,Z=V.currentTarget,V=V.listener,z!==k&&x.isPropagationStopped())break e;Sv(x,V,Z),k=z}}}if(at)throw r=lt,at=!1,lt=null,r}function Pt(r,i){var c=i[Ff];c===void 0&&(c=i[Ff]=new Set);var m=r+"__bubble";c.has(m)||(kv(i,r,2,!1),c.add(m))}function Rf(r,i,c){var m=0;i&&(m|=4),kv(c,r,m,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function rl(r){if(!r[Oc]){r[Oc]=!0,s.forEach(function(c){c!=="selectionchange"&&(Ej.has(c)||Rf(c,!1,r),Rf(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,Rf("selectionchange",!1,i))}}function kv(r,i,c,m){switch(kc(i)){case 1:var x=uf;break;case 4:x=df;break;default:x=So}c=x.bind(null,i,c,r),x=void 0,!ce||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),m?x!==void 0?r.addEventListener(i,c,{capture:!0,passive:x}):r.addEventListener(i,c,!0):x!==void 0?r.addEventListener(i,c,{passive:x}):r.addEventListener(i,c,!1)}function Af(r,i,c,m,x){var k=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var V=m.stateNode.containerInfo;if(V===x||V.nodeType===8&&V.parentNode===x)break;if(R===4)for(R=m.return;R!==null;){var z=R.tag;if((z===3||z===4)&&(z=R.stateNode.containerInfo,z===x||z.nodeType===8&&z.parentNode===x))return;R=R.return}for(;V!==null;){if(R=Fi(V),R===null)return;if(z=R.tag,z===5||z===6){m=k=R;continue e}V=V.parentNode}}m=m.return}B(function(){var Z=k,he=ns(c),me=[];e:{var fe=wv.get(r);if(fe!==void 0){var Ce=Ba,Ne=r;switch(r){case"keypress":if(ko(c)===0)break e;case"keydown":case"keyup":Ce=ut;break;case"focusin":Ne="focus",Ce=Wa;break;case"focusout":Ne="blur",Ce=Wa;break;case"beforeblur":case"afterblur":Ce=Wa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=vf;break;case vv:case yv:case xv:Ce=qa;break;case _v:Ce=yf;break;case"scroll":Ce=ff;break;case"wheel":Ce=xf;break;case"copy":case"cut":case"paste":Ce=N;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Mt}var Me=(i&4)!==0,$t=!Me&&r==="scroll",X=Me?fe!==null?fe+"Capture":null:fe;Me=[];for(var G=Z,Q;G!==null;){Q=G;var ye=Q.stateNode;if(Q.tag===5&&ye!==null&&(Q=ye,X!==null&&(ye=ue(G,X),ye!=null&&Me.push(sl(G,ye,Q)))),$t)break;G=G.return}0<Me.length&&(fe=new Ce(fe,Ne,null,c,he),me.push({event:fe,listeners:Me}))}}if((i&7)===0){e:{if(fe=r==="mouseover"||r==="pointerover",Ce=r==="mouseout"||r==="pointerout",fe&&c!==wi&&(Ne=c.relatedTarget||c.fromElement)&&(Fi(Ne)||Ne[is]))break e;if((Ce||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ce?(Ne=c.relatedTarget||c.toElement,Ce=Z,Ne=Ne?Fi(Ne):null,Ne!==null&&($t=St(Ne),Ne!==$t||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Ce=null,Ne=Z),Ce!==Ne)){if(Me=Tc,ye="onMouseLeave",X="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Me=Mt,ye="onPointerLeave",X="onPointerEnter",G="pointer"),$t=Ce==null?fe:Mo(Ce),Q=Ne==null?fe:Mo(Ne),fe=new Me(ye,G+"leave",Ce,c,he),fe.target=$t,fe.relatedTarget=Q,ye=null,Fi(he)===Z&&(Me=new Me(X,G+"enter",Ne,c,he),Me.target=Q,Me.relatedTarget=$t,ye=Me),$t=ye,Ce&&Ne)t:{for(Me=Ce,X=Ne,G=0,Q=Me;Q;Q=Ao(Q))G++;for(Q=0,ye=X;ye;ye=Ao(ye))Q++;for(;0<G-Q;)Me=Ao(Me),G--;for(;0<Q-G;)X=Ao(X),Q--;for(;G--;){if(Me===X||X!==null&&Me===X.alternate)break t;Me=Ao(Me),X=Ao(X)}Me=null}else Me=null;Ce!==null&&jv(me,fe,Ce,Me,!1),Ne!==null&&$t!==null&&jv(me,$t,Ne,Me,!0)}}e:{if(fe=Z?Mo(Z):window,Ce=fe.nodeName&&fe.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&fe.type==="file")var De=_j;else if(Qa(fe))if(av)De=Cj;else{De=bj;var Ve=wj}else(Ce=fe.nodeName)&&Ce.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(De=Sj);if(De&&(De=De(r,Z))){ov(me,De,c,he);break e}Ve&&Ve(r,fe,Z),r==="focusout"&&(Ve=fe._wrapperState)&&Ve.controlled&&fe.type==="number"&&tn(fe,"number",fe.value)}switch(Ve=Z?Mo(Z):window,r){case"focusin":(Qa(Ve)||Ve.contentEditable==="true")&&(Eo=Ve,jf=Z,tl=null);break;case"focusout":tl=jf=Eo=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,mv(me,c,he);break;case"selectionchange":if(Pj)break;case"keydown":case"keyup":mv(me,c,he)}var $e;if(Ga)e:{switch(r){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Rs?No(r,c)&&(Ge="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ka&&c.locale!=="ko"&&(Rs||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Rs&&($e=jc()):(Lr=he,Ua="value"in Lr?Lr.value:Lr.textContent,Rs=!0)),Ve=Dc(Z,Ge),0<Ve.length&&(Ge=new T(Ge,r,null,c,he),me.push({event:Ge,listeners:Ve}),$e?Ge.data=$e:($e=Ya(c),$e!==null&&(Ge.data=$e)))),($e=Ac?_f(r,c):wf(r,c))&&(Z=Dc(Z,"onBeforeInput"),0<Z.length&&(he=new T("onBeforeInput","beforeinput",null,c,he),me.push({event:he,listeners:Z}),he.data=$e))}Cv(me,i)})}function sl(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Dc(r,i){for(var c=i+"Capture",m=[];r!==null;){var x=r,k=x.stateNode;x.tag===5&&k!==null&&(x=k,k=ue(r,c),k!=null&&m.unshift(sl(r,k,x)),k=ue(r,i),k!=null&&m.push(sl(r,k,x))),r=r.return}return m}function Ao(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function jv(r,i,c,m,x){for(var k=i._reactName,R=[];c!==null&&c!==m;){var V=c,z=V.alternate,Z=V.stateNode;if(z!==null&&z===m)break;V.tag===5&&Z!==null&&(V=Z,x?(z=ue(c,k),z!=null&&R.unshift(sl(c,z,V))):x||(z=ue(c,k),z!=null&&R.push(sl(c,z,V)))),c=c.return}R.length!==0&&r.push({event:i,listeners:R})}var Rj=/\r\n?/g,Aj=/\u0000|\uFFFD/g;function Pv(r){return(typeof r=="string"?r:""+r).replace(Rj,`
`).replace(Aj,"")}function Fc(r,i,c){if(i=Pv(i),Pv(r)!==i&&c)throw Error(n(425))}function Uc(){}var If=null,Mf=null;function Lf(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Of=typeof setTimeout=="function"?setTimeout:void 0,Ij=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,Mj=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(r){return Tv.resolve(null).then(r).catch(Lj)}:Of;function Lj(r){setTimeout(function(){throw r})}function Df(r,i){var c=i,m=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(m===0){r.removeChild(x),We(i);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=x}while(c);We(i)}function Is(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Nv(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Or="__reactFiber$"+Io,il="__reactProps$"+Io,is="__reactContainer$"+Io,Ff="__reactEvents$"+Io,Oj="__reactListeners$"+Io,Dj="__reactHandles$"+Io;function Fi(r){var i=r[Or];if(i)return i;for(var c=r.parentNode;c;){if(i=c[is]||c[Or]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=Nv(r);r!==null;){if(c=r[Or])return c;r=Nv(r)}return i}r=c,c=r.parentNode}return null}function ol(r){return r=r[Or]||r[is],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Mo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Vc(r){return r[il]||null}var Uf=[],Lo=-1;function Ms(r){return{current:r}}function Tt(r){0>Lo||(r.current=Uf[Lo],Uf[Lo]=null,Lo--)}function jt(r,i){Lo++,Uf[Lo]=r.current,r.current=i}var Ls={},an=Ms(Ls),jn=Ms(!1),Ui=Ls;function Oo(r,i){var c=r.type.contextTypes;if(!c)return Ls;var m=r.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var x={},k;for(k in c)x[k]=i[k];return m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=x),x}function Pn(r){return r=r.childContextTypes,r!=null}function $c(){Tt(jn),Tt(an)}function Ev(r,i,c){if(an.current!==Ls)throw Error(n(168));jt(an,i),jt(jn,c)}function Rv(r,i,c){var m=r.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var x in m)if(!(x in i))throw Error(n(108,re(r)||"Unknown",x));return ae({},c,m)}function Bc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ls,Ui=an.current,jt(an,r),jt(jn,jn.current),!0}function Av(r,i,c){var m=r.stateNode;if(!m)throw Error(n(169));c?(r=Rv(r,i,Ui),m.__reactInternalMemoizedMergedChildContext=r,Tt(jn),Tt(an),jt(an,r)):Tt(jn),jt(jn,c)}var os=null,zc=!1,Vf=!1;function Iv(r){os===null?os=[r]:os.push(r)}function Fj(r){zc=!0,Iv(r)}function Os(){if(!Vf&&os!==null){Vf=!0;var r=0,i=vt;try{var c=os;for(vt=1;r<c.length;r++){var m=c[r];do m=m(!0);while(m!==null)}os=null,zc=!1}catch(x){throw os!==null&&(os=os.slice(r+1)),js(Ci,Os),x}finally{vt=i,Vf=!1}}return null}var Do=[],Fo=0,Hc=null,Wc=0,Hn=[],Wn=0,Vi=null,as=1,ls="";function $i(r,i){Do[Fo++]=Wc,Do[Fo++]=Hc,Hc=r,Wc=i}function Mv(r,i,c){Hn[Wn++]=as,Hn[Wn++]=ls,Hn[Wn++]=Vi,Vi=r;var m=as;r=ls;var x=32-Dn(m)-1;m&=~(1<<x),c+=1;var k=32-Dn(i)+x;if(30<k){var R=x-x%5;k=(m&(1<<R)-1).toString(32),m>>=R,x-=R,as=1<<32-Dn(i)+x|c<<x|m,ls=k+r}else as=1<<k|c<<x|m,ls=r}function $f(r){r.return!==null&&($i(r,1),Mv(r,1,0))}function Bf(r){for(;r===Hc;)Hc=Do[--Fo],Do[Fo]=null,Wc=Do[--Fo],Do[Fo]=null;for(;r===Vi;)Vi=Hn[--Wn],Hn[Wn]=null,ls=Hn[--Wn],Hn[Wn]=null,as=Hn[--Wn],Hn[Wn]=null}var Fn=null,Un=null,Rt=!1,cr=null;function Lv(r,i){var c=Xn(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=r,i=r.deletions,i===null?(r.deletions=[c],r.flags|=16):i.push(c)}function Ov(r,i){switch(r.tag){case 5:var c=r.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Fn=r,Un=Is(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Fn=r,Un=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Vi!==null?{id:as,overflow:ls}:null,r.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Xn(18,null,null,0),c.stateNode=i,c.return=r,r.child=c,Fn=r,Un=null,!0):!1;default:return!1}}function zf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hf(r){if(Rt){var i=Un;if(i){var c=i;if(!Ov(r,i)){if(zf(r))throw Error(n(418));i=Is(c.nextSibling);var m=Fn;i&&Ov(r,i)?Lv(m,c):(r.flags=r.flags&-4097|2,Rt=!1,Fn=r)}}else{if(zf(r))throw Error(n(418));r.flags=r.flags&-4097|2,Rt=!1,Fn=r}}}function Dv(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Fn=r}function qc(r){if(r!==Fn)return!1;if(!Rt)return Dv(r),Rt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Lf(r.type,r.memoizedProps)),i&&(i=Un)){if(zf(r))throw Fv(),Error(n(418));for(;i;)Lv(r,i),i=Is(i.nextSibling)}if(Dv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(i===0){Un=Is(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}r=r.nextSibling}Un=null}}else Un=Fn?Is(r.stateNode.nextSibling):null;return!0}function Fv(){for(var r=Un;r;)r=Is(r.nextSibling)}function Uo(){Un=Fn=null,Rt=!1}function Wf(r){cr===null?cr=[r]:cr.push(r)}var Uj=L.ReactCurrentBatchConfig;function al(r,i,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,r));var x=m,k=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===k?i.ref:(i=function(R){var V=x.refs;R===null?delete V[k]:V[k]=R},i._stringRef=k,i)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function Gc(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Uv(r){var i=r._init;return i(r._payload)}function Vv(r){function i(X,G){if(r){var Q=X.deletions;Q===null?(X.deletions=[G],X.flags|=16):Q.push(G)}}function c(X,G){if(!r)return null;for(;G!==null;)i(X,G),G=G.sibling;return null}function m(X,G){for(X=new Map;G!==null;)G.key!==null?X.set(G.key,G):X.set(G.index,G),G=G.sibling;return X}function x(X,G){return X=Hs(X,G),X.index=0,X.sibling=null,X}function k(X,G,Q){return X.index=Q,r?(Q=X.alternate,Q!==null?(Q=Q.index,Q<G?(X.flags|=2,G):Q):(X.flags|=2,G)):(X.flags|=1048576,G)}function R(X){return r&&X.alternate===null&&(X.flags|=2),X}function V(X,G,Q,ye){return G===null||G.tag!==6?(G=Oh(Q,X.mode,ye),G.return=X,G):(G=x(G,Q),G.return=X,G)}function z(X,G,Q,ye){var De=Q.type;return De===I?he(X,G,Q.props.children,ye,Q.key):G!==null&&(G.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ve&&Uv(De)===G.type)?(ye=x(G,Q.props),ye.ref=al(X,G,Q),ye.return=X,ye):(ye=vu(Q.type,Q.key,Q.props,null,X.mode,ye),ye.ref=al(X,G,Q),ye.return=X,ye)}function Z(X,G,Q,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Dh(Q,X.mode,ye),G.return=X,G):(G=x(G,Q.children||[]),G.return=X,G)}function he(X,G,Q,ye,De){return G===null||G.tag!==7?(G=Xi(Q,X.mode,ye,De),G.return=X,G):(G=x(G,Q),G.return=X,G)}function me(X,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Oh(""+G,X.mode,Q),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return Q=vu(G.type,G.key,G.props,null,X.mode,Q),Q.ref=al(X,null,G),Q.return=X,Q;case A:return G=Dh(G,X.mode,Q),G.return=X,G;case ve:var ye=G._init;return me(X,ye(G._payload),Q)}if(on(G)||J(G))return G=Xi(G,X.mode,Q,null),G.return=X,G;Gc(X,G)}return null}function fe(X,G,Q,ye){var De=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return De!==null?null:V(X,G,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return Q.key===De?z(X,G,Q,ye):null;case A:return Q.key===De?Z(X,G,Q,ye):null;case ve:return De=Q._init,fe(X,G,De(Q._payload),ye)}if(on(Q)||J(Q))return De!==null?null:he(X,G,Q,ye,null);Gc(X,Q)}return null}function Ce(X,G,Q,ye,De){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return X=X.get(Q)||null,V(G,X,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case D:return X=X.get(ye.key===null?Q:ye.key)||null,z(G,X,ye,De);case A:return X=X.get(ye.key===null?Q:ye.key)||null,Z(G,X,ye,De);case ve:var Ve=ye._init;return Ce(X,G,Q,Ve(ye._payload),De)}if(on(ye)||J(ye))return X=X.get(Q)||null,he(G,X,ye,De,null);Gc(G,ye)}return null}function Ne(X,G,Q,ye){for(var De=null,Ve=null,$e=G,Ge=G=0,Zt=null;$e!==null&&Ge<Q.length;Ge++){$e.index>Ge?(Zt=$e,$e=null):Zt=$e.sibling;var gt=fe(X,$e,Q[Ge],ye);if(gt===null){$e===null&&($e=Zt);break}r&&$e&&gt.alternate===null&&i(X,$e),G=k(gt,G,Ge),Ve===null?De=gt:Ve.sibling=gt,Ve=gt,$e=Zt}if(Ge===Q.length)return c(X,$e),Rt&&$i(X,Ge),De;if($e===null){for(;Ge<Q.length;Ge++)$e=me(X,Q[Ge],ye),$e!==null&&(G=k($e,G,Ge),Ve===null?De=$e:Ve.sibling=$e,Ve=$e);return Rt&&$i(X,Ge),De}for($e=m(X,$e);Ge<Q.length;Ge++)Zt=Ce($e,X,Ge,Q[Ge],ye),Zt!==null&&(r&&Zt.alternate!==null&&$e.delete(Zt.key===null?Ge:Zt.key),G=k(Zt,G,Ge),Ve===null?De=Zt:Ve.sibling=Zt,Ve=Zt);return r&&$e.forEach(function(Ws){return i(X,Ws)}),Rt&&$i(X,Ge),De}function Me(X,G,Q,ye){var De=J(Q);if(typeof De!="function")throw Error(n(150));if(Q=De.call(Q),Q==null)throw Error(n(151));for(var Ve=De=null,$e=G,Ge=G=0,Zt=null,gt=Q.next();$e!==null&&!gt.done;Ge++,gt=Q.next()){$e.index>Ge?(Zt=$e,$e=null):Zt=$e.sibling;var Ws=fe(X,$e,gt.value,ye);if(Ws===null){$e===null&&($e=Zt);break}r&&$e&&Ws.alternate===null&&i(X,$e),G=k(Ws,G,Ge),Ve===null?De=Ws:Ve.sibling=Ws,Ve=Ws,$e=Zt}if(gt.done)return c(X,$e),Rt&&$i(X,Ge),De;if($e===null){for(;!gt.done;Ge++,gt=Q.next())gt=me(X,gt.value,ye),gt!==null&&(G=k(gt,G,Ge),Ve===null?De=gt:Ve.sibling=gt,Ve=gt);return Rt&&$i(X,Ge),De}for($e=m(X,$e);!gt.done;Ge++,gt=Q.next())gt=Ce($e,X,Ge,gt.value,ye),gt!==null&&(r&&gt.alternate!==null&&$e.delete(gt.key===null?Ge:gt.key),G=k(gt,G,Ge),Ve===null?De=gt:Ve.sibling=gt,Ve=gt);return r&&$e.forEach(function(yP){return i(X,yP)}),Rt&&$i(X,Ge),De}function $t(X,G,Q,ye){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:e:{for(var De=Q.key,Ve=G;Ve!==null;){if(Ve.key===De){if(De=Q.type,De===I){if(Ve.tag===7){c(X,Ve.sibling),G=x(Ve,Q.props.children),G.return=X,X=G;break e}}else if(Ve.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ve&&Uv(De)===Ve.type){c(X,Ve.sibling),G=x(Ve,Q.props),G.ref=al(X,Ve,Q),G.return=X,X=G;break e}c(X,Ve);break}else i(X,Ve);Ve=Ve.sibling}Q.type===I?(G=Xi(Q.props.children,X.mode,ye,Q.key),G.return=X,X=G):(ye=vu(Q.type,Q.key,Q.props,null,X.mode,ye),ye.ref=al(X,G,Q),ye.return=X,X=ye)}return R(X);case A:e:{for(Ve=Q.key;G!==null;){if(G.key===Ve)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){c(X,G.sibling),G=x(G,Q.children||[]),G.return=X,X=G;break e}else{c(X,G);break}else i(X,G);G=G.sibling}G=Dh(Q,X.mode,ye),G.return=X,X=G}return R(X);case ve:return Ve=Q._init,$t(X,G,Ve(Q._payload),ye)}if(on(Q))return Ne(X,G,Q,ye);if(J(Q))return Me(X,G,Q,ye);Gc(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,G!==null&&G.tag===6?(c(X,G.sibling),G=x(G,Q),G.return=X,X=G):(c(X,G),G=Oh(Q,X.mode,ye),G.return=X,X=G),R(X)):c(X,G)}return $t}var Vo=Vv(!0),$v=Vv(!1),Kc=Ms(null),Xc=null,$o=null,qf=null;function Gf(){qf=$o=Xc=null}function Kf(r){var i=Kc.current;Tt(Kc),r._currentValue=i}function Xf(r,i,c){for(;r!==null;){var m=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),r===c)break;r=r.return}}function Bo(r,i){Xc=r,qf=$o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Tn=!0),r.firstContext=null)}function qn(r){var i=r._currentValue;if(qf!==r)if(r={context:r,memoizedValue:i,next:null},$o===null){if(Xc===null)throw Error(n(308));$o=r,Xc.dependencies={lanes:0,firstContext:r}}else $o=$o.next=r;return i}var Bi=null;function Yf(r){Bi===null?Bi=[r]:Bi.push(r)}function Bv(r,i,c,m){var x=i.interleaved;return x===null?(c.next=c,Yf(i)):(c.next=x.next,x.next=c),i.interleaved=c,cs(r,m)}function cs(r,i){r.lanes|=i;var c=r.alternate;for(c!==null&&(c.lanes|=i),c=r,r=r.return;r!==null;)r.childLanes|=i,c=r.alternate,c!==null&&(c.childLanes|=i),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Ds=!1;function Qf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zv(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function us(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Fs(r,i,c){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(ft&2)!==0){var x=m.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),m.pending=i,cs(r,c)}return x=m.interleaved,x===null?(i.next=i,Yf(m)):(i.next=x.next,x.next=i),m.interleaved=i,cs(r,c)}function Yc(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,La(r,c)}}function Hv(r,i){var c=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var x=null,k=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};k===null?x=k=R:k=k.next=R,c=c.next}while(c!==null);k===null?x=k=i:k=k.next=i}else x=k=i;c={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:k,shared:m.shared,effects:m.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}function Qc(r,i,c,m){var x=r.updateQueue;Ds=!1;var k=x.firstBaseUpdate,R=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var z=V,Z=z.next;z.next=null,R===null?k=Z:R.next=Z,R=z;var he=r.alternate;he!==null&&(he=he.updateQueue,V=he.lastBaseUpdate,V!==R&&(V===null?he.firstBaseUpdate=Z:V.next=Z,he.lastBaseUpdate=z))}if(k!==null){var me=x.baseState;R=0,he=Z=z=null,V=k;do{var fe=V.lane,Ce=V.eventTime;if((m&fe)===fe){he!==null&&(he=he.next={eventTime:Ce,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ne=r,Me=V;switch(fe=i,Ce=c,Me.tag){case 1:if(Ne=Me.payload,typeof Ne=="function"){me=Ne.call(Ce,me,fe);break e}me=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Me.payload,fe=typeof Ne=="function"?Ne.call(Ce,me,fe):Ne,fe==null)break e;me=ae({},me,fe);break e;case 2:Ds=!0}}V.callback!==null&&V.lane!==0&&(r.flags|=64,fe=x.effects,fe===null?x.effects=[V]:fe.push(V))}else Ce={eventTime:Ce,lane:fe,tag:V.tag,payload:V.payload,callback:V.callback,next:null},he===null?(Z=he=Ce,z=me):he=he.next=Ce,R|=fe;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;fe=V,V=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);if(he===null&&(z=me),x.baseState=z,x.firstBaseUpdate=Z,x.lastBaseUpdate=he,i=x.shared.interleaved,i!==null){x=i;do R|=x.lane,x=x.next;while(x!==i)}else k===null&&(x.shared.lanes=0);Wi|=R,r.lanes=R,r.memoizedState=me}}function Wv(r,i,c){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var m=r[i],x=m.callback;if(x!==null){if(m.callback=null,m=c,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var ll={},Dr=Ms(ll),cl=Ms(ll),ul=Ms(ll);function zi(r){if(r===ll)throw Error(n(174));return r}function Jf(r,i){switch(jt(ul,i),jt(cl,r),jt(Dr,ll),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:yi(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=yi(i,r)}Tt(Dr),jt(Dr,i)}function zo(){Tt(Dr),Tt(cl),Tt(ul)}function qv(r){zi(ul.current);var i=zi(Dr.current),c=yi(i,r.type);i!==c&&(jt(cl,r),jt(Dr,c))}function Zf(r){cl.current===r&&(Tt(Dr),Tt(cl))}var Lt=Ms(0);function Jc(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var eh=[];function th(){for(var r=0;r<eh.length;r++)eh[r]._workInProgressVersionPrimary=null;eh.length=0}var Zc=L.ReactCurrentDispatcher,nh=L.ReactCurrentBatchConfig,Hi=0,Ot=null,Gt=null,Qt=null,eu=!1,dl=!1,fl=0,Vj=0;function ln(){throw Error(n(321))}function rh(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!lr(r[c],i[c]))return!1;return!0}function sh(r,i,c,m,x,k){if(Hi=k,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Zc.current=r===null||r.memoizedState===null?Hj:Wj,r=c(m,x),dl){k=0;do{if(dl=!1,fl=0,25<=k)throw Error(n(301));k+=1,Qt=Gt=null,i.updateQueue=null,Zc.current=qj,r=c(m,x)}while(dl)}if(Zc.current=ru,i=Gt!==null&&Gt.next!==null,Hi=0,Qt=Gt=Ot=null,eu=!1,i)throw Error(n(300));return r}function ih(){var r=fl!==0;return fl=0,r}function Fr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ot.memoizedState=Qt=r:Qt=Qt.next=r,Qt}function Gn(){if(Gt===null){var r=Ot.alternate;r=r!==null?r.memoizedState:null}else r=Gt.next;var i=Qt===null?Ot.memoizedState:Qt.next;if(i!==null)Qt=i,Gt=r;else{if(r===null)throw Error(n(310));Gt=r,r={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Qt===null?Ot.memoizedState=Qt=r:Qt=Qt.next=r}return Qt}function hl(r,i){return typeof i=="function"?i(r):i}function oh(r){var i=Gn(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var m=Gt,x=m.baseQueue,k=c.pending;if(k!==null){if(x!==null){var R=x.next;x.next=k.next,k.next=R}m.baseQueue=x=k,c.pending=null}if(x!==null){k=x.next,m=m.baseState;var V=R=null,z=null,Z=k;do{var he=Z.lane;if((Hi&he)===he)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:r(m,Z.action);else{var me={lane:he,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(V=z=me,R=m):z=z.next=me,Ot.lanes|=he,Wi|=he}Z=Z.next}while(Z!==null&&Z!==k);z===null?R=m:z.next=V,lr(m,i.memoizedState)||(Tn=!0),i.memoizedState=m,i.baseState=R,i.baseQueue=z,c.lastRenderedState=m}if(r=c.interleaved,r!==null){x=r;do k=x.lane,Ot.lanes|=k,Wi|=k,x=x.next;while(x!==r)}else x===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function ah(r){var i=Gn(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var m=c.dispatch,x=c.pending,k=i.memoizedState;if(x!==null){c.pending=null;var R=x=x.next;do k=r(k,R.action),R=R.next;while(R!==x);lr(k,i.memoizedState)||(Tn=!0),i.memoizedState=k,i.baseQueue===null&&(i.baseState=k),c.lastRenderedState=k}return[k,m]}function Gv(){}function Kv(r,i){var c=Ot,m=Gn(),x=i(),k=!lr(m.memoizedState,x);if(k&&(m.memoizedState=x,Tn=!0),m=m.queue,lh(Qv.bind(null,c,m,r),[r]),m.getSnapshot!==i||k||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,pl(9,Yv.bind(null,c,m,x,i),void 0,null),Jt===null)throw Error(n(349));(Hi&30)!==0||Xv(c,i,x)}return x}function Xv(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=Ot.updateQueue,i===null?(i={lastEffect:null,stores:null},Ot.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function Yv(r,i,c,m){i.value=c,i.getSnapshot=m,Jv(i)&&Zv(r)}function Qv(r,i,c){return c(function(){Jv(i)&&Zv(r)})}function Jv(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!lr(r,c)}catch{return!0}}function Zv(r){var i=cs(r,1);i!==null&&hr(i,r,1,-1)}function ey(r){var i=Fr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:r},i.queue=r,r=r.dispatch=zj.bind(null,Ot,r),[i.memoizedState,r]}function pl(r,i,c,m){return r={tag:r,create:i,destroy:c,deps:m,next:null},i=Ot.updateQueue,i===null?(i={lastEffect:null,stores:null},Ot.updateQueue=i,i.lastEffect=r.next=r):(c=i.lastEffect,c===null?i.lastEffect=r.next=r:(m=c.next,c.next=r,r.next=m,i.lastEffect=r)),r}function ty(){return Gn().memoizedState}function tu(r,i,c,m){var x=Fr();Ot.flags|=r,x.memoizedState=pl(1|i,c,void 0,m===void 0?null:m)}function nu(r,i,c,m){var x=Gn();m=m===void 0?null:m;var k=void 0;if(Gt!==null){var R=Gt.memoizedState;if(k=R.destroy,m!==null&&rh(m,R.deps)){x.memoizedState=pl(i,c,k,m);return}}Ot.flags|=r,x.memoizedState=pl(1|i,c,k,m)}function ny(r,i){return tu(8390656,8,r,i)}function lh(r,i){return nu(2048,8,r,i)}function ry(r,i){return nu(4,2,r,i)}function sy(r,i){return nu(4,4,r,i)}function iy(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function oy(r,i,c){return c=c!=null?c.concat([r]):null,nu(4,4,iy.bind(null,i,r),c)}function ch(){}function ay(r,i){var c=Gn();i=i===void 0?null:i;var m=c.memoizedState;return m!==null&&i!==null&&rh(i,m[1])?m[0]:(c.memoizedState=[r,i],r)}function ly(r,i){var c=Gn();i=i===void 0?null:i;var m=c.memoizedState;return m!==null&&i!==null&&rh(i,m[1])?m[0]:(r=r(),c.memoizedState=[r,i],r)}function cy(r,i,c){return(Hi&21)===0?(r.baseState&&(r.baseState=!1,Tn=!0),r.memoizedState=c):(lr(c,i)||(c=Ns(),Ot.lanes|=c,Wi|=c,r.baseState=!0),i)}function $j(r,i){var c=vt;vt=c!==0&&4>c?c:4,r(!0);var m=nh.transition;nh.transition={};try{r(!1),i()}finally{vt=c,nh.transition=m}}function uy(){return Gn().memoizedState}function Bj(r,i,c){var m=Bs(r);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},dy(r))fy(i,c);else if(c=Bv(r,i,c,m),c!==null){var x=bn();hr(c,r,m,x),hy(c,i,m)}}function zj(r,i,c){var m=Bs(r),x={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(dy(r))fy(i,x);else{var k=r.alternate;if(r.lanes===0&&(k===null||k.lanes===0)&&(k=i.lastRenderedReducer,k!==null))try{var R=i.lastRenderedState,V=k(R,c);if(x.hasEagerState=!0,x.eagerState=V,lr(V,R)){var z=i.interleaved;z===null?(x.next=x,Yf(i)):(x.next=z.next,z.next=x),i.interleaved=x;return}}catch{}finally{}c=Bv(r,i,x,m),c!==null&&(x=bn(),hr(c,r,m,x),hy(c,i,m))}}function dy(r){var i=r.alternate;return r===Ot||i!==null&&i===Ot}function fy(r,i){dl=eu=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function hy(r,i,c){if((c&4194240)!==0){var m=i.lanes;m&=r.pendingLanes,c|=m,i.lanes=c,La(r,c)}}var ru={readContext:qn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},Hj={readContext:qn,useCallback:function(r,i){return Fr().memoizedState=[r,i===void 0?null:i],r},useContext:qn,useEffect:ny,useImperativeHandle:function(r,i,c){return c=c!=null?c.concat([r]):null,tu(4194308,4,iy.bind(null,i,r),c)},useLayoutEffect:function(r,i){return tu(4194308,4,r,i)},useInsertionEffect:function(r,i){return tu(4,2,r,i)},useMemo:function(r,i){var c=Fr();return i=i===void 0?null:i,r=r(),c.memoizedState=[r,i],r},useReducer:function(r,i,c){var m=Fr();return i=c!==void 0?c(i):i,m.memoizedState=m.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},m.queue=r,r=r.dispatch=Bj.bind(null,Ot,r),[m.memoizedState,r]},useRef:function(r){var i=Fr();return r={current:r},i.memoizedState=r},useState:ey,useDebugValue:ch,useDeferredValue:function(r){return Fr().memoizedState=r},useTransition:function(){var r=ey(!1),i=r[0];return r=$j.bind(null,r[1]),Fr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,c){var m=Ot,x=Fr();if(Rt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),Jt===null)throw Error(n(349));(Hi&30)!==0||Xv(m,i,c)}x.memoizedState=c;var k={value:c,getSnapshot:i};return x.queue=k,ny(Qv.bind(null,m,k,r),[r]),m.flags|=2048,pl(9,Yv.bind(null,m,k,c,i),void 0,null),c},useId:function(){var r=Fr(),i=Jt.identifierPrefix;if(Rt){var c=ls,m=as;c=(m&~(1<<32-Dn(m)-1)).toString(32)+c,i=":"+i+"R"+c,c=fl++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Vj++,i=":"+i+"r"+c.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Wj={readContext:qn,useCallback:ay,useContext:qn,useEffect:lh,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:ly,useReducer:oh,useRef:ty,useState:function(){return oh(hl)},useDebugValue:ch,useDeferredValue:function(r){var i=Gn();return cy(i,Gt.memoizedState,r)},useTransition:function(){var r=oh(hl)[0],i=Gn().memoizedState;return[r,i]},useMutableSource:Gv,useSyncExternalStore:Kv,useId:uy,unstable_isNewReconciler:!1},qj={readContext:qn,useCallback:ay,useContext:qn,useEffect:lh,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:ly,useReducer:ah,useRef:ty,useState:function(){return ah(hl)},useDebugValue:ch,useDeferredValue:function(r){var i=Gn();return Gt===null?i.memoizedState=r:cy(i,Gt.memoizedState,r)},useTransition:function(){var r=ah(hl)[0],i=Gn().memoizedState;return[r,i]},useMutableSource:Gv,useSyncExternalStore:Kv,useId:uy,unstable_isNewReconciler:!1};function ur(r,i){if(r&&r.defaultProps){i=ae({},i),r=r.defaultProps;for(var c in r)i[c]===void 0&&(i[c]=r[c]);return i}return i}function uh(r,i,c,m){i=r.memoizedState,c=c(m,i),c=c==null?i:ae({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var su={isMounted:function(r){return(r=r._reactInternals)?St(r)===r:!1},enqueueSetState:function(r,i,c){r=r._reactInternals;var m=bn(),x=Bs(r),k=us(m,x);k.payload=i,c!=null&&(k.callback=c),i=Fs(r,k,x),i!==null&&(hr(i,r,x,m),Yc(i,r,x))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var m=bn(),x=Bs(r),k=us(m,x);k.tag=1,k.payload=i,c!=null&&(k.callback=c),i=Fs(r,k,x),i!==null&&(hr(i,r,x,m),Yc(i,r,x))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=bn(),m=Bs(r),x=us(c,m);x.tag=2,i!=null&&(x.callback=i),i=Fs(r,x,m),i!==null&&(hr(i,r,m,c),Yc(i,r,m))}};function py(r,i,c,m,x,k,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,k,R):i.prototype&&i.prototype.isPureReactComponent?!el(c,m)||!el(x,k):!0}function my(r,i,c){var m=!1,x=Ls,k=i.contextType;return typeof k=="object"&&k!==null?k=qn(k):(x=Pn(i)?Ui:an.current,m=i.contextTypes,k=(m=m!=null)?Oo(r,x):Ls),i=new i(c,k),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=su,r.stateNode=i,i._reactInternals=r,m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=k),i}function gy(r,i,c,m){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,m),i.state!==r&&su.enqueueReplaceState(i,i.state,null)}function dh(r,i,c,m){var x=r.stateNode;x.props=c,x.state=r.memoizedState,x.refs={},Qf(r);var k=i.contextType;typeof k=="object"&&k!==null?x.context=qn(k):(k=Pn(i)?Ui:an.current,x.context=Oo(r,k)),x.state=r.memoizedState,k=i.getDerivedStateFromProps,typeof k=="function"&&(uh(r,i,k,c),x.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&su.enqueueReplaceState(x,x.state,null),Qc(r,c,x,m),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function Ho(r,i){try{var c="",m=i;do c+=Y(m),m=m.return;while(m);var x=c}catch(k){x=`
Error generating stack: `+k.message+`
`+k.stack}return{value:r,source:i,stack:x,digest:null}}function fh(r,i,c){return{value:r,source:null,stack:c??null,digest:i??null}}function hh(r,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Gj=typeof WeakMap=="function"?WeakMap:Map;function vy(r,i,c){c=us(-1,c),c.tag=3,c.payload={element:null};var m=i.value;return c.callback=function(){du||(du=!0,Th=m),hh(r,i)},c}function yy(r,i,c){c=us(-1,c),c.tag=3;var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var x=i.value;c.payload=function(){return m(x)},c.callback=function(){hh(r,i)}}var k=r.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){hh(r,i),typeof m!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})}),c}function xy(r,i,c){var m=r.pingCache;if(m===null){m=r.pingCache=new Gj;var x=new Set;m.set(i,x)}else x=m.get(i),x===void 0&&(x=new Set,m.set(i,x));x.has(c)||(x.add(c),r=aP.bind(null,r,i,c),i.then(r,r))}function _y(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function wy(r,i,c,m,x){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=us(-1,1),i.tag=2,Fs(c,i,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=x,r)}var Kj=L.ReactCurrentOwner,Tn=!1;function wn(r,i,c,m){i.child=r===null?$v(i,null,c,m):Vo(i,r.child,c,m)}function by(r,i,c,m,x){c=c.render;var k=i.ref;return Bo(i,x),m=sh(r,i,c,m,k,x),c=ih(),r!==null&&!Tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~x,ds(r,i,x)):(Rt&&c&&$f(i),i.flags|=1,wn(r,i,m,x),i.child)}function Sy(r,i,c,m,x){if(r===null){var k=c.type;return typeof k=="function"&&!Lh(k)&&k.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=k,Cy(r,i,k,m,x)):(r=vu(c.type,null,m,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(k=r.child,(r.lanes&x)===0){var R=k.memoizedProps;if(c=c.compare,c=c!==null?c:el,c(R,m)&&r.ref===i.ref)return ds(r,i,x)}return i.flags|=1,r=Hs(k,m),r.ref=i.ref,r.return=i,i.child=r}function Cy(r,i,c,m,x){if(r!==null){var k=r.memoizedProps;if(el(k,m)&&r.ref===i.ref)if(Tn=!1,i.pendingProps=m=k,(r.lanes&x)!==0)(r.flags&131072)!==0&&(Tn=!0);else return i.lanes=r.lanes,ds(r,i,x)}return ph(r,i,c,m,x)}function ky(r,i,c){var m=i.pendingProps,x=m.children,k=r!==null?r.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(qo,Vn),Vn|=c;else{if((c&1073741824)===0)return r=k!==null?k.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,jt(qo,Vn),Vn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:c,jt(qo,Vn),Vn|=m}else k!==null?(m=k.baseLanes|c,i.memoizedState=null):m=c,jt(qo,Vn),Vn|=m;return wn(r,i,x,c),i.child}function jy(r,i){var c=i.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function ph(r,i,c,m,x){var k=Pn(c)?Ui:an.current;return k=Oo(i,k),Bo(i,x),c=sh(r,i,c,m,k,x),m=ih(),r!==null&&!Tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~x,ds(r,i,x)):(Rt&&m&&$f(i),i.flags|=1,wn(r,i,c,x),i.child)}function Py(r,i,c,m,x){if(Pn(c)){var k=!0;Bc(i)}else k=!1;if(Bo(i,x),i.stateNode===null)ou(r,i),my(i,c,m),dh(i,c,m,x),m=!0;else if(r===null){var R=i.stateNode,V=i.memoizedProps;R.props=V;var z=R.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=qn(Z):(Z=Pn(c)?Ui:an.current,Z=Oo(i,Z));var he=c.getDerivedStateFromProps,me=typeof he=="function"||typeof R.getSnapshotBeforeUpdate=="function";me||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(V!==m||z!==Z)&&gy(i,R,m,Z),Ds=!1;var fe=i.memoizedState;R.state=fe,Qc(i,m,R,x),z=i.memoizedState,V!==m||fe!==z||jn.current||Ds?(typeof he=="function"&&(uh(i,c,he,m),z=i.memoizedState),(V=Ds||py(i,c,V,m,fe,z,Z))?(me||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(i.flags|=4194308)):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=z),R.props=m,R.state=z,R.context=Z,m=V):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{R=i.stateNode,zv(r,i),V=i.memoizedProps,Z=i.type===i.elementType?V:ur(i.type,V),R.props=Z,me=i.pendingProps,fe=R.context,z=c.contextType,typeof z=="object"&&z!==null?z=qn(z):(z=Pn(c)?Ui:an.current,z=Oo(i,z));var Ce=c.getDerivedStateFromProps;(he=typeof Ce=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(V!==me||fe!==z)&&gy(i,R,m,z),Ds=!1,fe=i.memoizedState,R.state=fe,Qc(i,m,R,x);var Ne=i.memoizedState;V!==me||fe!==Ne||jn.current||Ds?(typeof Ce=="function"&&(uh(i,c,Ce,m),Ne=i.memoizedState),(Z=Ds||py(i,c,Z,m,fe,Ne,z)||!1)?(he||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Ne,z),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Ne,z)),typeof R.componentDidUpdate=="function"&&(i.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof R.componentDidUpdate!="function"||V===r.memoizedProps&&fe===r.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&fe===r.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Ne),R.props=m,R.state=Ne,R.context=z,m=Z):(typeof R.componentDidUpdate!="function"||V===r.memoizedProps&&fe===r.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&fe===r.memoizedState||(i.flags|=1024),m=!1)}return mh(r,i,c,m,k,x)}function mh(r,i,c,m,x,k){jy(r,i);var R=(i.flags&128)!==0;if(!m&&!R)return x&&Av(i,c,!1),ds(r,i,k);m=i.stateNode,Kj.current=i;var V=R&&typeof c.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,r!==null&&R?(i.child=Vo(i,r.child,null,k),i.child=Vo(i,null,V,k)):wn(r,i,V,k),i.memoizedState=m.state,x&&Av(i,c,!0),i.child}function Ty(r){var i=r.stateNode;i.pendingContext?Ev(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Ev(r,i.context,!1),Jf(r,i.containerInfo)}function Ny(r,i,c,m,x){return Uo(),Wf(x),i.flags|=256,wn(r,i,c,m),i.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function vh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ey(r,i,c){var m=i.pendingProps,x=Lt.current,k=!1,R=(i.flags&128)!==0,V;if((V=R)||(V=r!==null&&r.memoizedState===null?!1:(x&2)!==0),V?(k=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),jt(Lt,x&1),r===null)return Hf(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(R=m.children,r=m.fallback,k?(m=i.mode,k=i.child,R={mode:"hidden",children:R},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=R):k=yu(R,m,0,null),r=Xi(r,m,c,null),k.return=i,r.return=i,k.sibling=r,i.child=k,i.child.memoizedState=vh(c),i.memoizedState=gh,r):yh(i,R));if(x=r.memoizedState,x!==null&&(V=x.dehydrated,V!==null))return Xj(r,i,R,m,V,x,c);if(k){k=m.fallback,R=i.mode,x=r.child,V=x.sibling;var z={mode:"hidden",children:m.children};return(R&1)===0&&i.child!==x?(m=i.child,m.childLanes=0,m.pendingProps=z,i.deletions=null):(m=Hs(x,z),m.subtreeFlags=x.subtreeFlags&14680064),V!==null?k=Hs(V,k):(k=Xi(k,R,c,null),k.flags|=2),k.return=i,m.return=i,m.sibling=k,i.child=m,m=k,k=i.child,R=r.child.memoizedState,R=R===null?vh(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},k.memoizedState=R,k.childLanes=r.childLanes&~c,i.memoizedState=gh,m}return k=r.child,r=k.sibling,m=Hs(k,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=c),m.return=i,m.sibling=null,r!==null&&(c=i.deletions,c===null?(i.deletions=[r],i.flags|=16):c.push(r)),i.child=m,i.memoizedState=null,m}function yh(r,i){return i=yu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function iu(r,i,c,m){return m!==null&&Wf(m),Vo(i,r.child,null,c),r=yh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Xj(r,i,c,m,x,k,R){if(c)return i.flags&256?(i.flags&=-257,m=fh(Error(n(422))),iu(r,i,R,m)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(k=m.fallback,x=i.mode,m=yu({mode:"visible",children:m.children},x,0,null),k=Xi(k,x,R,null),k.flags|=2,m.return=i,k.return=i,m.sibling=k,i.child=m,(i.mode&1)!==0&&Vo(i,r.child,null,R),i.child.memoizedState=vh(R),i.memoizedState=gh,k);if((i.mode&1)===0)return iu(r,i,R,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var V=m.dgst;return m=V,k=Error(n(419)),m=fh(k,m,void 0),iu(r,i,R,m)}if(V=(R&r.childLanes)!==0,Tn||V){if(m=Jt,m!==null){switch(R&-R){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|R))!==0?0:x,x!==0&&x!==k.retryLane&&(k.retryLane=x,cs(r,x),hr(m,r,x,-1))}return Mh(),m=fh(Error(n(421))),iu(r,i,R,m)}return x.data==="$?"?(i.flags|=128,i.child=r.child,i=lP.bind(null,r),x._reactRetry=i,null):(r=k.treeContext,Un=Is(x.nextSibling),Fn=i,Rt=!0,cr=null,r!==null&&(Hn[Wn++]=as,Hn[Wn++]=ls,Hn[Wn++]=Vi,as=r.id,ls=r.overflow,Vi=i),i=yh(i,m.children),i.flags|=4096,i)}function Ry(r,i,c){r.lanes|=i;var m=r.alternate;m!==null&&(m.lanes|=i),Xf(r.return,i,c)}function xh(r,i,c,m,x){var k=r.memoizedState;k===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:x}:(k.isBackwards=i,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=c,k.tailMode=x)}function Ay(r,i,c){var m=i.pendingProps,x=m.revealOrder,k=m.tail;if(wn(r,i,m.children,c),m=Lt.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ry(r,c,i);else if(r.tag===19)Ry(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}if(jt(Lt,m),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(c=i.child,x=null;c!==null;)r=c.alternate,r!==null&&Jc(r)===null&&(x=c),c=c.sibling;c=x,c===null?(x=i.child,i.child=null):(x=c.sibling,c.sibling=null),xh(i,!1,x,c,k);break;case"backwards":for(c=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&Jc(r)===null){i.child=x;break}r=x.sibling,x.sibling=c,c=x,x=r}xh(i,!0,c,null,k);break;case"together":xh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ou(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function ds(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),Wi|=i.lanes,(c&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,c=Hs(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=Hs(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function Yj(r,i,c){switch(i.tag){case 3:Ty(i),Uo();break;case 5:qv(i);break;case 1:Pn(i.type)&&Bc(i);break;case 4:Jf(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,x=i.memoizedProps.value;jt(Kc,m._currentValue),m._currentValue=x;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(jt(Lt,Lt.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Ey(r,i,c):(jt(Lt,Lt.current&1),r=ds(r,i,c),r!==null?r.sibling:null);jt(Lt,Lt.current&1);break;case 19:if(m=(c&i.childLanes)!==0,(r.flags&128)!==0){if(m)return Ay(r,i,c);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),jt(Lt,Lt.current),m)break;return null;case 22:case 23:return i.lanes=0,ky(r,i,c)}return ds(r,i,c)}var Iy,_h,My,Ly;Iy=function(r,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},_h=function(){},My=function(r,i,c,m){var x=r.memoizedProps;if(x!==m){r=i.stateNode,zi(Dr.current);var k=null;switch(c){case"input":x=Nt(r,x),m=Nt(r,m),k=[];break;case"select":x=ae({},x,{value:void 0}),m=ae({},m,{value:void 0}),k=[];break;case"textarea":x=gi(r,x),m=gi(r,m),k=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(r.onclick=Uc)}_i(c,m);var R;c=null;for(Z in x)if(!m.hasOwnProperty(Z)&&x.hasOwnProperty(Z)&&x[Z]!=null)if(Z==="style"){var V=x[Z];for(R in V)V.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?k||(k=[]):(k=k||[]).push(Z,null));for(Z in m){var z=m[Z];if(V=x!=null?x[Z]:void 0,m.hasOwnProperty(Z)&&z!==V&&(z!=null||V!=null))if(Z==="style")if(V){for(R in V)!V.hasOwnProperty(R)||z&&z.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in z)z.hasOwnProperty(R)&&V[R]!==z[R]&&(c||(c={}),c[R]=z[R])}else c||(k||(k=[]),k.push(Z,c)),c=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,V=V?V.__html:void 0,z!=null&&V!==z&&(k=k||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(k=k||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&Pt("scroll",r),k||V===z||(k=[])):(k=k||[]).push(Z,z))}c&&(k=k||[]).push("style",c);var Z=k;(i.updateQueue=Z)&&(i.flags|=4)}},Ly=function(r,i,c,m){c!==m&&(i.flags|=4)};function ml(r,i){if(!Rt)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function cn(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,m=0;if(i)for(var x=r.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=m,r.childLanes=c,i}function Qj(r,i,c){var m=i.pendingProps;switch(Bf(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(i),null;case 1:return Pn(i.type)&&$c(),cn(i),null;case 3:return m=i.stateNode,zo(),Tt(jn),Tt(an),th(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(r===null||r.child===null)&&(qc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cr!==null&&(Rh(cr),cr=null))),_h(r,i),cn(i),null;case 5:Zf(i);var x=zi(ul.current);if(c=i.type,r!==null&&i.stateNode!=null)My(r,i,c,m,x),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(n(166));return cn(i),null}if(r=zi(Dr.current),qc(i)){m=i.stateNode,c=i.type;var k=i.memoizedProps;switch(m[Or]=i,m[il]=k,r=(i.mode&1)!==0,c){case"dialog":Pt("cancel",m),Pt("close",m);break;case"iframe":case"object":case"embed":Pt("load",m);break;case"video":case"audio":for(x=0;x<nl.length;x++)Pt(nl[x],m);break;case"source":Pt("error",m);break;case"img":case"image":case"link":Pt("error",m),Pt("load",m);break;case"details":Pt("toggle",m);break;case"input":bt(m,k),Pt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},Pt("invalid",m);break;case"textarea":jr(m,k),Pt("invalid",m)}_i(c,k),x=null;for(var R in k)if(k.hasOwnProperty(R)){var V=k[R];R==="children"?typeof V=="string"?m.textContent!==V&&(k.suppressHydrationWarning!==!0&&Fc(m.textContent,V,r),x=["children",V]):typeof V=="number"&&m.textContent!==""+V&&(k.suppressHydrationWarning!==!0&&Fc(m.textContent,V,r),x=["children",""+V]):o.hasOwnProperty(R)&&V!=null&&R==="onScroll"&&Pt("scroll",m)}switch(c){case"input":Ue(m),rr(m,k,!0);break;case"textarea":Ue(m),dt(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=Uc)}m=x,i.updateQueue=m,m!==null&&(i.flags|=4)}else{R=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=go(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=R.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof m.is=="string"?r=R.createElement(c,{is:m.is}):(r=R.createElement(c),c==="select"&&(R=r,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):r=R.createElementNS(r,c),r[Or]=i,r[il]=m,Iy(r,i,!1,!1),i.stateNode=r;e:{switch(R=ts(c,m),c){case"dialog":Pt("cancel",r),Pt("close",r),x=m;break;case"iframe":case"object":case"embed":Pt("load",r),x=m;break;case"video":case"audio":for(x=0;x<nl.length;x++)Pt(nl[x],r);x=m;break;case"source":Pt("error",r),x=m;break;case"img":case"image":case"link":Pt("error",r),Pt("load",r),x=m;break;case"details":Pt("toggle",r),x=m;break;case"input":bt(r,m),x=Nt(r,m),Pt("invalid",r);break;case"option":x=m;break;case"select":r._wrapperState={wasMultiple:!!m.multiple},x=ae({},m,{value:void 0}),Pt("invalid",r);break;case"textarea":jr(r,m),x=gi(r,m),Pt("invalid",r);break;default:x=m}_i(c,x),V=x;for(k in V)if(V.hasOwnProperty(k)){var z=V[k];k==="style"?Tr(r,z):k==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ln(r,z)):k==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&sr(r,z):typeof z=="number"&&sr(r,""+z):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(o.hasOwnProperty(k)?z!=null&&k==="onScroll"&&Pt("scroll",r):z!=null&&E(r,k,z,R))}switch(c){case"input":Ue(r),rr(r,m,!1);break;case"textarea":Ue(r),dt(r);break;case"option":m.value!=null&&r.setAttribute("value",""+ge(m.value));break;case"select":r.multiple=!!m.multiple,k=m.value,k!=null?Mn(r,!!m.multiple,k,!1):m.defaultValue!=null&&Mn(r,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=Uc)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return cn(i),null;case 6:if(r&&i.stateNode!=null)Ly(r,i,r.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(n(166));if(c=zi(ul.current),zi(Dr.current),qc(i)){if(m=i.stateNode,c=i.memoizedProps,m[Or]=i,(k=m.nodeValue!==c)&&(r=Fn,r!==null))switch(r.tag){case 3:Fc(m.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Fc(m.nodeValue,c,(r.mode&1)!==0)}k&&(i.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[Or]=i,i.stateNode=m}return cn(i),null;case 13:if(Tt(Lt),m=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Rt&&Un!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Fv(),Uo(),i.flags|=98560,k=!1;else if(k=qc(i),m!==null&&m.dehydrated!==null){if(r===null){if(!k)throw Error(n(318));if(k=i.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Or]=i}else Uo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;cn(i),k=!1}else cr!==null&&(Rh(cr),cr=null),k=!0;if(!k)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(m=m!==null,m!==(r!==null&&r.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Lt.current&1)!==0?Kt===0&&(Kt=3):Mh())),i.updateQueue!==null&&(i.flags|=4),cn(i),null);case 4:return zo(),_h(r,i),r===null&&rl(i.stateNode.containerInfo),cn(i),null;case 10:return Kf(i.type._context),cn(i),null;case 17:return Pn(i.type)&&$c(),cn(i),null;case 19:if(Tt(Lt),k=i.memoizedState,k===null)return cn(i),null;if(m=(i.flags&128)!==0,R=k.rendering,R===null)if(m)ml(k,!1);else{if(Kt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(R=Jc(r),R!==null){for(i.flags|=128,ml(k,!1),m=R.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=c,c=i.child;c!==null;)k=c,r=m,k.flags&=14680066,R=k.alternate,R===null?(k.childLanes=0,k.lanes=r,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=R.childLanes,k.lanes=R.lanes,k.child=R.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=R.memoizedProps,k.memoizedState=R.memoizedState,k.updateQueue=R.updateQueue,k.type=R.type,r=R.dependencies,k.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return jt(Lt,Lt.current&1|2),i.child}r=r.sibling}k.tail!==null&&et()>Go&&(i.flags|=128,m=!0,ml(k,!1),i.lanes=4194304)}else{if(!m)if(r=Jc(R),r!==null){if(i.flags|=128,m=!0,c=r.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),ml(k,!0),k.tail===null&&k.tailMode==="hidden"&&!R.alternate&&!Rt)return cn(i),null}else 2*et()-k.renderingStartTime>Go&&c!==1073741824&&(i.flags|=128,m=!0,ml(k,!1),i.lanes=4194304);k.isBackwards?(R.sibling=i.child,i.child=R):(c=k.last,c!==null?c.sibling=R:i.child=R,k.last=R)}return k.tail!==null?(i=k.tail,k.rendering=i,k.tail=i.sibling,k.renderingStartTime=et(),i.sibling=null,c=Lt.current,jt(Lt,m?c&1|2:c&1),i):(cn(i),null);case 22:case 23:return Ih(),m=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(Vn&1073741824)!==0&&(cn(i),i.subtreeFlags&6&&(i.flags|=8192)):cn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Jj(r,i){switch(Bf(i),i.tag){case 1:return Pn(i.type)&&$c(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return zo(),Tt(jn),Tt(an),th(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Zf(i),null;case 13:if(Tt(Lt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Uo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Tt(Lt),null;case 4:return zo(),null;case 10:return Kf(i.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var au=!1,un=!1,Zj=typeof WeakSet=="function"?WeakSet:Set,je=null;function Wo(r,i){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){Ft(r,i,m)}else c.current=null}function wh(r,i,c){try{c()}catch(m){Ft(r,i,m)}}var Oy=!1;function eP(r,i){if(If=ss,r=pv(),kf(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var x=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{c.nodeType,k.nodeType}catch{c=null;break e}var R=0,V=-1,z=-1,Z=0,he=0,me=r,fe=null;t:for(;;){for(var Ce;me!==c||x!==0&&me.nodeType!==3||(V=R+x),me!==k||m!==0&&me.nodeType!==3||(z=R+m),me.nodeType===3&&(R+=me.nodeValue.length),(Ce=me.firstChild)!==null;)fe=me,me=Ce;for(;;){if(me===r)break t;if(fe===c&&++Z===x&&(V=R),fe===k&&++he===m&&(z=R),(Ce=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Ce}c=V===-1||z===-1?null:{start:V,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Mf={focusedElem:r,selectionRange:c},ss=!1,je=i;je!==null;)if(i=je,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,je=r;else for(;je!==null;){i=je;try{var Ne=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Me=Ne.memoizedProps,$t=Ne.memoizedState,X=i.stateNode,G=X.getSnapshotBeforeUpdate(i.elementType===i.type?Me:ur(i.type,Me),$t);X.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Ft(i,i.return,ye)}if(r=i.sibling,r!==null){r.return=i.return,je=r;break}je=i.return}return Ne=Oy,Oy=!1,Ne}function gl(r,i,c){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&r)===r){var k=x.destroy;x.destroy=void 0,k!==void 0&&wh(i,c,k)}x=x.next}while(x!==m)}}function lu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&r)===r){var m=c.create;c.destroy=m()}c=c.next}while(c!==i)}}function bh(r){var i=r.ref;if(i!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof i=="function"?i(r):i.current=r}}function Dy(r){var i=r.alternate;i!==null&&(r.alternate=null,Dy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Or],delete i[il],delete i[Ff],delete i[Oj],delete i[Dj])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Fy(r){return r.tag===5||r.tag===3||r.tag===4}function Uy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sh(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(r,i):c.insertBefore(r,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(r,c)):(i=c,i.appendChild(r)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Uc));else if(m!==4&&(r=r.child,r!==null))for(Sh(r,i,c),r=r.sibling;r!==null;)Sh(r,i,c),r=r.sibling}function Ch(r,i,c){var m=r.tag;if(m===5||m===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(m!==4&&(r=r.child,r!==null))for(Ch(r,i,c),r=r.sibling;r!==null;)Ch(r,i,c),r=r.sibling}var nn=null,dr=!1;function Us(r,i,c){for(c=c.child;c!==null;)Vy(r,i,c),c=c.sibling}function Vy(r,i,c){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ki,c)}catch{}switch(c.tag){case 5:un||Wo(c,i);case 6:var m=nn,x=dr;nn=null,Us(r,i,c),nn=m,dr=x,nn!==null&&(dr?(r=nn,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):nn.removeChild(c.stateNode));break;case 18:nn!==null&&(dr?(r=nn,c=c.stateNode,r.nodeType===8?Df(r.parentNode,c):r.nodeType===1&&Df(r,c),We(r)):Df(nn,c.stateNode));break;case 4:m=nn,x=dr,nn=c.stateNode.containerInfo,dr=!0,Us(r,i,c),nn=m,dr=x;break;case 0:case 11:case 14:case 15:if(!un&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var k=x,R=k.destroy;k=k.tag,R!==void 0&&((k&2)!==0||(k&4)!==0)&&wh(c,i,R),x=x.next}while(x!==m)}Us(r,i,c);break;case 1:if(!un&&(Wo(c,i),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(V){Ft(c,i,V)}Us(r,i,c);break;case 21:Us(r,i,c);break;case 22:c.mode&1?(un=(m=un)||c.memoizedState!==null,Us(r,i,c),un=m):Us(r,i,c);break;default:Us(r,i,c)}}function $y(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Zj),i.forEach(function(m){var x=cP.bind(null,r,m);c.has(m)||(c.add(m),m.then(x,x))})}}function fr(r,i){var c=i.deletions;if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];try{var k=r,R=i,V=R;e:for(;V!==null;){switch(V.tag){case 5:nn=V.stateNode,dr=!1;break e;case 3:nn=V.stateNode.containerInfo,dr=!0;break e;case 4:nn=V.stateNode.containerInfo,dr=!0;break e}V=V.return}if(nn===null)throw Error(n(160));Vy(k,R,x),nn=null,dr=!1;var z=x.alternate;z!==null&&(z.return=null),x.return=null}catch(Z){Ft(x,i,Z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)By(i,r),i=i.sibling}function By(r,i){var c=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(fr(i,r),Ur(r),m&4){try{gl(3,r,r.return),lu(3,r)}catch(Me){Ft(r,r.return,Me)}try{gl(5,r,r.return)}catch(Me){Ft(r,r.return,Me)}}break;case 1:fr(i,r),Ur(r),m&512&&c!==null&&Wo(c,c.return);break;case 5:if(fr(i,r),Ur(r),m&512&&c!==null&&Wo(c,c.return),r.flags&32){var x=r.stateNode;try{sr(x,"")}catch(Me){Ft(r,r.return,Me)}}if(m&4&&(x=r.stateNode,x!=null)){var k=r.memoizedProps,R=c!==null?c.memoizedProps:k,V=r.type,z=r.updateQueue;if(r.updateQueue=null,z!==null)try{V==="input"&&k.type==="radio"&&k.name!=null&&mn(x,k),ts(V,R);var Z=ts(V,k);for(R=0;R<z.length;R+=2){var he=z[R],me=z[R+1];he==="style"?Tr(x,me):he==="dangerouslySetInnerHTML"?Ln(x,me):he==="children"?sr(x,me):E(x,he,me,Z)}switch(V){case"input":gn(x,k);break;case"textarea":vi(x,k);break;case"select":var fe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!k.multiple;var Ce=k.value;Ce!=null?Mn(x,!!k.multiple,Ce,!1):fe!==!!k.multiple&&(k.defaultValue!=null?Mn(x,!!k.multiple,k.defaultValue,!0):Mn(x,!!k.multiple,k.multiple?[]:"",!1))}x[il]=k}catch(Me){Ft(r,r.return,Me)}}break;case 6:if(fr(i,r),Ur(r),m&4){if(r.stateNode===null)throw Error(n(162));x=r.stateNode,k=r.memoizedProps;try{x.nodeValue=k}catch(Me){Ft(r,r.return,Me)}}break;case 3:if(fr(i,r),Ur(r),m&4&&c!==null&&c.memoizedState.isDehydrated)try{We(i.containerInfo)}catch(Me){Ft(r,r.return,Me)}break;case 4:fr(i,r),Ur(r);break;case 13:fr(i,r),Ur(r),x=r.child,x.flags&8192&&(k=x.memoizedState!==null,x.stateNode.isHidden=k,!k||x.alternate!==null&&x.alternate.memoizedState!==null||(Ph=et())),m&4&&$y(r);break;case 22:if(he=c!==null&&c.memoizedState!==null,r.mode&1?(un=(Z=un)||he,fr(i,r),un=Z):fr(i,r),Ur(r),m&8192){if(Z=r.memoizedState!==null,(r.stateNode.isHidden=Z)&&!he&&(r.mode&1)!==0)for(je=r,he=r.child;he!==null;){for(me=je=he;je!==null;){switch(fe=je,Ce=fe.child,fe.tag){case 0:case 11:case 14:case 15:gl(4,fe,fe.return);break;case 1:Wo(fe,fe.return);var Ne=fe.stateNode;if(typeof Ne.componentWillUnmount=="function"){m=fe,c=fe.return;try{i=m,Ne.props=i.memoizedProps,Ne.state=i.memoizedState,Ne.componentWillUnmount()}catch(Me){Ft(m,c,Me)}}break;case 5:Wo(fe,fe.return);break;case 22:if(fe.memoizedState!==null){Wy(me);continue}}Ce!==null?(Ce.return=fe,je=Ce):Wy(me)}he=he.sibling}e:for(he=null,me=r;;){if(me.tag===5){if(he===null){he=me;try{x=me.stateNode,Z?(k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(V=me.stateNode,z=me.memoizedProps.style,R=z!=null&&z.hasOwnProperty("display")?z.display:null,V.style.display=Pr("display",R))}catch(Me){Ft(r,r.return,Me)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=Z?"":me.memoizedProps}catch(Me){Ft(r,r.return,Me)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:fr(i,r),Ur(r),m&4&&$y(r);break;case 21:break;default:fr(i,r),Ur(r)}}function Ur(r){var i=r.flags;if(i&2){try{e:{for(var c=r.return;c!==null;){if(Fy(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(sr(x,""),m.flags&=-33);var k=Uy(r);Ch(r,k,x);break;case 3:case 4:var R=m.stateNode.containerInfo,V=Uy(r);Sh(r,V,R);break;default:throw Error(n(161))}}catch(z){Ft(r,r.return,z)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function tP(r,i,c){je=r,zy(r)}function zy(r,i,c){for(var m=(r.mode&1)!==0;je!==null;){var x=je,k=x.child;if(x.tag===22&&m){var R=x.memoizedState!==null||au;if(!R){var V=x.alternate,z=V!==null&&V.memoizedState!==null||un;V=au;var Z=un;if(au=R,(un=z)&&!Z)for(je=x;je!==null;)R=je,z=R.child,R.tag===22&&R.memoizedState!==null?qy(x):z!==null?(z.return=R,je=z):qy(x);for(;k!==null;)je=k,zy(k),k=k.sibling;je=x,au=V,un=Z}Hy(r)}else(x.subtreeFlags&8772)!==0&&k!==null?(k.return=x,je=k):Hy(r)}}function Hy(r){for(;je!==null;){var i=je;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:un||lu(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!un)if(c===null)m.componentDidMount();else{var x=i.elementType===i.type?c.memoizedProps:ur(i.type,c.memoizedProps);m.componentDidUpdate(x,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=i.updateQueue;k!==null&&Wv(i,k,m);break;case 3:var R=i.updateQueue;if(R!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Wv(i,R,c)}break;case 5:var V=i.stateNode;if(c===null&&i.flags&4){c=V;var z=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Z=i.alternate;if(Z!==null){var he=Z.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&We(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}un||i.flags&512&&bh(i)}catch(fe){Ft(i,i.return,fe)}}if(i===r){je=null;break}if(c=i.sibling,c!==null){c.return=i.return,je=c;break}je=i.return}}function Wy(r){for(;je!==null;){var i=je;if(i===r){je=null;break}var c=i.sibling;if(c!==null){c.return=i.return,je=c;break}je=i.return}}function qy(r){for(;je!==null;){var i=je;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{lu(4,i)}catch(z){Ft(i,c,z)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var x=i.return;try{m.componentDidMount()}catch(z){Ft(i,x,z)}}var k=i.return;try{bh(i)}catch(z){Ft(i,k,z)}break;case 5:var R=i.return;try{bh(i)}catch(z){Ft(i,R,z)}}}catch(z){Ft(i,i.return,z)}if(i===r){je=null;break}var V=i.sibling;if(V!==null){V.return=i.return,je=V;break}je=i.return}}var nP=Math.ceil,cu=L.ReactCurrentDispatcher,kh=L.ReactCurrentOwner,Kn=L.ReactCurrentBatchConfig,ft=0,Jt=null,zt=null,rn=0,Vn=0,qo=Ms(0),Kt=0,vl=null,Wi=0,uu=0,jh=0,yl=null,Nn=null,Ph=0,Go=1/0,fs=null,du=!1,Th=null,Vs=null,fu=!1,$s=null,hu=0,xl=0,Nh=null,pu=-1,mu=0;function bn(){return(ft&6)!==0?et():pu!==-1?pu:pu=et()}function Bs(r){return(r.mode&1)===0?1:(ft&2)!==0&&rn!==0?rn&-rn:Uj.transition!==null?(mu===0&&(mu=Ns()),mu):(r=vt,r!==0||(r=window.event,r=r===void 0?16:kc(r.type)),r)}function hr(r,i,c,m){if(50<xl)throw xl=0,Nh=null,Error(n(185));Ni(r,c,m),((ft&2)===0||r!==Jt)&&(r===Jt&&((ft&2)===0&&(uu|=c),Kt===4&&zs(r,rn)),En(r,m),c===1&&ft===0&&(i.mode&1)===0&&(Go=et()+500,zc&&Os()))}function En(r,i){var c=r.callbackNode;Ti(r,i);var m=Pi(r,r===Jt?rn:0);if(m===0)c!==null&&Ps(c),r.callbackNode=null,r.callbackPriority=0;else if(i=m&-m,r.callbackPriority!==i){if(c!=null&&Ps(c),i===1)r.tag===0?Fj(Ky.bind(null,r)):Iv(Ky.bind(null,r)),Mj(function(){(ft&6)===0&&Os()}),c=null;else{switch(xc(m)){case 1:c=Ci;break;case 4:c=yc;break;case 16:c=yo;break;case 536870912:c=zn;break;default:c=yo}c=nx(c,Gy.bind(null,r))}r.callbackPriority=i,r.callbackNode=c}}function Gy(r,i){if(pu=-1,mu=0,(ft&6)!==0)throw Error(n(327));var c=r.callbackNode;if(Ko()&&r.callbackNode!==c)return null;var m=Pi(r,r===Jt?rn:0);if(m===0)return null;if((m&30)!==0||(m&r.expiredLanes)!==0||i)i=gu(r,m);else{i=m;var x=ft;ft|=2;var k=Yy();(Jt!==r||rn!==i)&&(fs=null,Go=et()+500,Gi(r,i));do try{iP();break}catch(V){Xy(r,V)}while(!0);Gf(),cu.current=k,ft=x,zt!==null?i=0:(Jt=null,rn=0,i=Kt)}if(i!==0){if(i===2&&(x=Ia(r),x!==0&&(m=x,i=Eh(r,x))),i===1)throw c=vl,Gi(r,0),zs(r,m),En(r,et()),c;if(i===6)zs(r,m);else{if(x=r.current.alternate,(m&30)===0&&!rP(x)&&(i=gu(r,m),i===2&&(k=Ia(r),k!==0&&(m=k,i=Eh(r,k))),i===1))throw c=vl,Gi(r,0),zs(r,m),En(r,et()),c;switch(r.finishedWork=x,r.finishedLanes=m,i){case 0:case 1:throw Error(n(345));case 2:Ki(r,Nn,fs);break;case 3:if(zs(r,m),(m&130023424)===m&&(i=Ph+500-et(),10<i)){if(Pi(r,0)!==0)break;if(x=r.suspendedLanes,(x&m)!==m){bn(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=Of(Ki.bind(null,r,Nn,fs),i);break}Ki(r,Nn,fs);break;case 4:if(zs(r,m),(m&4194240)===m)break;for(i=r.eventTimes,x=-1;0<m;){var R=31-Dn(m);k=1<<R,R=i[R],R>x&&(x=R),m&=~k}if(m=x,m=et()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*nP(m/1960))-m,10<m){r.timeoutHandle=Of(Ki.bind(null,r,Nn,fs),m);break}Ki(r,Nn,fs);break;case 5:Ki(r,Nn,fs);break;default:throw Error(n(329))}}}return En(r,et()),r.callbackNode===c?Gy.bind(null,r):null}function Eh(r,i){var c=yl;return r.current.memoizedState.isDehydrated&&(Gi(r,i).flags|=256),r=gu(r,i),r!==2&&(i=Nn,Nn=c,i!==null&&Rh(i)),r}function Rh(r){Nn===null?Nn=r:Nn.push.apply(Nn,r)}function rP(r){for(var i=r;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var x=c[m],k=x.getSnapshot;x=x.value;try{if(!lr(k(),x))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zs(r,i){for(i&=~jh,i&=~uu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var c=31-Dn(i),m=1<<c;r[c]=-1,i&=~m}}function Ky(r){if((ft&6)!==0)throw Error(n(327));Ko();var i=Pi(r,0);if((i&1)===0)return En(r,et()),null;var c=gu(r,i);if(r.tag!==0&&c===2){var m=Ia(r);m!==0&&(i=m,c=Eh(r,m))}if(c===1)throw c=vl,Gi(r,0),zs(r,i),En(r,et()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ki(r,Nn,fs),En(r,et()),null}function Ah(r,i){var c=ft;ft|=1;try{return r(i)}finally{ft=c,ft===0&&(Go=et()+500,zc&&Os())}}function qi(r){$s!==null&&$s.tag===0&&(ft&6)===0&&Ko();var i=ft;ft|=1;var c=Kn.transition,m=vt;try{if(Kn.transition=null,vt=1,r)return r()}finally{vt=m,Kn.transition=c,ft=i,(ft&6)===0&&Os()}}function Ih(){Vn=qo.current,Tt(qo)}function Gi(r,i){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Ij(c)),zt!==null)for(c=zt.return;c!==null;){var m=c;switch(Bf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&$c();break;case 3:zo(),Tt(jn),Tt(an),th();break;case 5:Zf(m);break;case 4:zo();break;case 13:Tt(Lt);break;case 19:Tt(Lt);break;case 10:Kf(m.type._context);break;case 22:case 23:Ih()}c=c.return}if(Jt=r,zt=r=Hs(r.current,null),rn=Vn=i,Kt=0,vl=null,jh=uu=Wi=0,Nn=yl=null,Bi!==null){for(i=0;i<Bi.length;i++)if(c=Bi[i],m=c.interleaved,m!==null){c.interleaved=null;var x=m.next,k=c.pending;if(k!==null){var R=k.next;k.next=x,m.next=R}c.pending=m}Bi=null}return r}function Xy(r,i){do{var c=zt;try{if(Gf(),Zc.current=ru,eu){for(var m=Ot.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}eu=!1}if(Hi=0,Qt=Gt=Ot=null,dl=!1,fl=0,kh.current=null,c===null||c.return===null){Kt=1,vl=i,zt=null;break}e:{var k=r,R=c.return,V=c,z=i;if(i=rn,V.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,he=V,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ce=_y(R);if(Ce!==null){Ce.flags&=-257,wy(Ce,R,V,k,i),Ce.mode&1&&xy(k,Z,i),i=Ce,z=Z;var Ne=i.updateQueue;if(Ne===null){var Me=new Set;Me.add(z),i.updateQueue=Me}else Ne.add(z);break e}else{if((i&1)===0){xy(k,Z,i),Mh();break e}z=Error(n(426))}}else if(Rt&&V.mode&1){var $t=_y(R);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),wy($t,R,V,k,i),Wf(Ho(z,V));break e}}k=z=Ho(z,V),Kt!==4&&(Kt=2),yl===null?yl=[k]:yl.push(k),k=R;do{switch(k.tag){case 3:k.flags|=65536,i&=-i,k.lanes|=i;var X=vy(k,z,i);Hv(k,X);break e;case 1:V=z;var G=k.type,Q=k.stateNode;if((k.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Vs===null||!Vs.has(Q)))){k.flags|=65536,i&=-i,k.lanes|=i;var ye=yy(k,V,i);Hv(k,ye);break e}}k=k.return}while(k!==null)}Jy(c)}catch(De){i=De,zt===c&&c!==null&&(zt=c=c.return);continue}break}while(!0)}function Yy(){var r=cu.current;return cu.current=ru,r===null?ru:r}function Mh(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),Jt===null||(Wi&268435455)===0&&(uu&268435455)===0||zs(Jt,rn)}function gu(r,i){var c=ft;ft|=2;var m=Yy();(Jt!==r||rn!==i)&&(fs=null,Gi(r,i));do try{sP();break}catch(x){Xy(r,x)}while(!0);if(Gf(),ft=c,cu.current=m,zt!==null)throw Error(n(261));return Jt=null,rn=0,Kt}function sP(){for(;zt!==null;)Qy(zt)}function iP(){for(;zt!==null&&!Ea();)Qy(zt)}function Qy(r){var i=tx(r.alternate,r,Vn);r.memoizedProps=r.pendingProps,i===null?Jy(r):zt=i,kh.current=null}function Jy(r){var i=r;do{var c=i.alternate;if(r=i.return,(i.flags&32768)===0){if(c=Qj(c,i,Vn),c!==null){zt=c;return}}else{if(c=Jj(c,i),c!==null){c.flags&=32767,zt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Kt=6,zt=null;return}}if(i=i.sibling,i!==null){zt=i;return}zt=i=r}while(i!==null);Kt===0&&(Kt=5)}function Ki(r,i,c){var m=vt,x=Kn.transition;try{Kn.transition=null,vt=1,oP(r,i,c,m)}finally{Kn.transition=x,vt=m}return null}function oP(r,i,c,m){do Ko();while($s!==null);if((ft&6)!==0)throw Error(n(327));c=r.finishedWork;var x=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var k=c.lanes|c.childLanes;if(of(r,k),r===Jt&&(zt=Jt=null,rn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||fu||(fu=!0,nx(yo,function(){return Ko(),null})),k=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||k){k=Kn.transition,Kn.transition=null;var R=vt;vt=1;var V=ft;ft|=4,kh.current=null,eP(r,c),By(c,r),jj(Mf),ss=!!If,Mf=If=null,r.current=c,tP(c),Ra(),ft=V,vt=R,Kn.transition=k}else r.current=c;if(fu&&(fu=!1,$s=r,hu=x),k=r.pendingLanes,k===0&&(Vs=null),Aa(c.stateNode),En(r,et()),i!==null)for(m=r.onRecoverableError,c=0;c<i.length;c++)x=i[c],m(x.value,{componentStack:x.stack,digest:x.digest});if(du)throw du=!1,r=Th,Th=null,r;return(hu&1)!==0&&r.tag!==0&&Ko(),k=r.pendingLanes,(k&1)!==0?r===Nh?xl++:(xl=0,Nh=r):xl=0,Os(),null}function Ko(){if($s!==null){var r=xc(hu),i=Kn.transition,c=vt;try{if(Kn.transition=null,vt=16>r?16:r,$s===null)var m=!1;else{if(r=$s,$s=null,hu=0,(ft&6)!==0)throw Error(n(331));var x=ft;for(ft|=4,je=r.current;je!==null;){var k=je,R=k.child;if((je.flags&16)!==0){var V=k.deletions;if(V!==null){for(var z=0;z<V.length;z++){var Z=V[z];for(je=Z;je!==null;){var he=je;switch(he.tag){case 0:case 11:case 15:gl(8,he,k)}var me=he.child;if(me!==null)me.return=he,je=me;else for(;je!==null;){he=je;var fe=he.sibling,Ce=he.return;if(Dy(he),he===Z){je=null;break}if(fe!==null){fe.return=Ce,je=fe;break}je=Ce}}}var Ne=k.alternate;if(Ne!==null){var Me=Ne.child;if(Me!==null){Ne.child=null;do{var $t=Me.sibling;Me.sibling=null,Me=$t}while(Me!==null)}}je=k}}if((k.subtreeFlags&2064)!==0&&R!==null)R.return=k,je=R;else e:for(;je!==null;){if(k=je,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:gl(9,k,k.return)}var X=k.sibling;if(X!==null){X.return=k.return,je=X;break e}je=k.return}}var G=r.current;for(je=G;je!==null;){R=je;var Q=R.child;if((R.subtreeFlags&2064)!==0&&Q!==null)Q.return=R,je=Q;else e:for(R=G;je!==null;){if(V=je,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:lu(9,V)}}catch(De){Ft(V,V.return,De)}if(V===R){je=null;break e}var ye=V.sibling;if(ye!==null){ye.return=V.return,je=ye;break e}je=V.return}}if(ft=x,Os(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ki,r)}catch{}m=!0}return m}finally{vt=c,Kn.transition=i}}return!1}function Zy(r,i,c){i=Ho(c,i),i=vy(r,i,1),r=Fs(r,i,1),i=bn(),r!==null&&(Ni(r,1,i),En(r,i))}function Ft(r,i,c){if(r.tag===3)Zy(r,r,c);else for(;i!==null;){if(i.tag===3){Zy(i,r,c);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Vs===null||!Vs.has(m))){r=Ho(c,r),r=yy(i,r,1),i=Fs(i,r,1),r=bn(),i!==null&&(Ni(i,1,r),En(i,r));break}}i=i.return}}function aP(r,i,c){var m=r.pingCache;m!==null&&m.delete(i),i=bn(),r.pingedLanes|=r.suspendedLanes&c,Jt===r&&(rn&c)===c&&(Kt===4||Kt===3&&(rn&130023424)===rn&&500>et()-Ph?Gi(r,0):jh|=c),En(r,i)}function ex(r,i){i===0&&((r.mode&1)===0?i=1:(i=xo,xo<<=1,(xo&130023424)===0&&(xo=4194304)));var c=bn();r=cs(r,i),r!==null&&(Ni(r,i,c),En(r,c))}function lP(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),ex(r,c)}function cP(r,i){var c=0;switch(r.tag){case 13:var m=r.stateNode,x=r.memoizedState;x!==null&&(c=x.retryLane);break;case 19:m=r.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(i),ex(r,c)}var tx;tx=function(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps||jn.current)Tn=!0;else{if((r.lanes&c)===0&&(i.flags&128)===0)return Tn=!1,Yj(r,i,c);Tn=(r.flags&131072)!==0}else Tn=!1,Rt&&(i.flags&1048576)!==0&&Mv(i,Wc,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;ou(r,i),r=i.pendingProps;var x=Oo(i,an.current);Bo(i,c),x=sh(null,i,m,r,x,c);var k=ih();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Pn(m)?(k=!0,Bc(i)):k=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Qf(i),x.updater=su,i.stateNode=x,x._reactInternals=i,dh(i,m,r,c),i=mh(null,i,m,!0,k,c)):(i.tag=0,Rt&&k&&$f(i),wn(null,i,x,c),i=i.child),i;case 16:m=i.elementType;e:{switch(ou(r,i),r=i.pendingProps,x=m._init,m=x(m._payload),i.type=m,x=i.tag=dP(m),r=ur(m,r),x){case 0:i=ph(null,i,m,r,c);break e;case 1:i=Py(null,i,m,r,c);break e;case 11:i=by(null,i,m,r,c);break e;case 14:i=Sy(null,i,m,ur(m.type,r),c);break e}throw Error(n(306,m,""))}return i;case 0:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:ur(m,x),ph(r,i,m,x,c);case 1:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:ur(m,x),Py(r,i,m,x,c);case 3:e:{if(Ty(i),r===null)throw Error(n(387));m=i.pendingProps,k=i.memoizedState,x=k.element,zv(r,i),Qc(i,m,null,c);var R=i.memoizedState;if(m=R.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},i.updateQueue.baseState=k,i.memoizedState=k,i.flags&256){x=Ho(Error(n(423)),i),i=Ny(r,i,m,c,x);break e}else if(m!==x){x=Ho(Error(n(424)),i),i=Ny(r,i,m,c,x);break e}else for(Un=Is(i.stateNode.containerInfo.firstChild),Fn=i,Rt=!0,cr=null,c=$v(i,null,m,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Uo(),m===x){i=ds(r,i,c);break e}wn(r,i,m,c)}i=i.child}return i;case 5:return qv(i),r===null&&Hf(i),m=i.type,x=i.pendingProps,k=r!==null?r.memoizedProps:null,R=x.children,Lf(m,x)?R=null:k!==null&&Lf(m,k)&&(i.flags|=32),jy(r,i),wn(r,i,R,c),i.child;case 6:return r===null&&Hf(i),null;case 13:return Ey(r,i,c);case 4:return Jf(i,i.stateNode.containerInfo),m=i.pendingProps,r===null?i.child=Vo(i,null,m,c):wn(r,i,m,c),i.child;case 11:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:ur(m,x),by(r,i,m,x,c);case 7:return wn(r,i,i.pendingProps,c),i.child;case 8:return wn(r,i,i.pendingProps.children,c),i.child;case 12:return wn(r,i,i.pendingProps.children,c),i.child;case 10:e:{if(m=i.type._context,x=i.pendingProps,k=i.memoizedProps,R=x.value,jt(Kc,m._currentValue),m._currentValue=R,k!==null)if(lr(k.value,R)){if(k.children===x.children&&!jn.current){i=ds(r,i,c);break e}}else for(k=i.child,k!==null&&(k.return=i);k!==null;){var V=k.dependencies;if(V!==null){R=k.child;for(var z=V.firstContext;z!==null;){if(z.context===m){if(k.tag===1){z=us(-1,c&-c),z.tag=2;var Z=k.updateQueue;if(Z!==null){Z=Z.shared;var he=Z.pending;he===null?z.next=z:(z.next=he.next,he.next=z),Z.pending=z}}k.lanes|=c,z=k.alternate,z!==null&&(z.lanes|=c),Xf(k.return,c,i),V.lanes|=c;break}z=z.next}}else if(k.tag===10)R=k.type===i.type?null:k.child;else if(k.tag===18){if(R=k.return,R===null)throw Error(n(341));R.lanes|=c,V=R.alternate,V!==null&&(V.lanes|=c),Xf(R,c,i),R=k.sibling}else R=k.child;if(R!==null)R.return=k;else for(R=k;R!==null;){if(R===i){R=null;break}if(k=R.sibling,k!==null){k.return=R.return,R=k;break}R=R.return}k=R}wn(r,i,x.children,c),i=i.child}return i;case 9:return x=i.type,m=i.pendingProps.children,Bo(i,c),x=qn(x),m=m(x),i.flags|=1,wn(r,i,m,c),i.child;case 14:return m=i.type,x=ur(m,i.pendingProps),x=ur(m.type,x),Sy(r,i,m,x,c);case 15:return Cy(r,i,i.type,i.pendingProps,c);case 17:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:ur(m,x),ou(r,i),i.tag=1,Pn(m)?(r=!0,Bc(i)):r=!1,Bo(i,c),my(i,m,x),dh(i,m,x,c),mh(null,i,m,!0,r,c);case 19:return Ay(r,i,c);case 22:return ky(r,i,c)}throw Error(n(156,i.tag))};function nx(r,i){return js(r,i)}function uP(r,i,c,m){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,i,c,m){return new uP(r,i,c,m)}function Lh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function dP(r){if(typeof r=="function")return Lh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===de)return 11;if(r===be)return 14}return 2}function Hs(r,i){var c=r.alternate;return c===null?(c=Xn(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function vu(r,i,c,m,x,k){var R=2;if(m=r,typeof r=="function")Lh(r)&&(R=1);else if(typeof r=="string")R=5;else e:switch(r){case I:return Xi(c.children,x,k,i);case O:R=8,x|=8;break;case F:return r=Xn(12,c,i,x|2),r.elementType=F,r.lanes=k,r;case te:return r=Xn(13,c,i,x),r.elementType=te,r.lanes=k,r;case ie:return r=Xn(19,c,i,x),r.elementType=ie,r.lanes=k,r;case pe:return yu(c,x,k,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:R=10;break e;case ne:R=9;break e;case de:R=11;break e;case be:R=14;break e;case ve:R=16,m=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Xn(R,c,i,x),i.elementType=r,i.type=m,i.lanes=k,i}function Xi(r,i,c,m){return r=Xn(7,r,m,i),r.lanes=c,r}function yu(r,i,c,m){return r=Xn(22,r,m,i),r.elementType=pe,r.lanes=c,r.stateNode={isHidden:!1},r}function Oh(r,i,c){return r=Xn(6,r,null,i),r.lanes=c,r}function Dh(r,i,c){return i=Xn(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function fP(r,i,c,m,x){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Fh(r,i,c,m,x,k,R,V,z){return r=new fP(r,i,c,V,z),i===1?(i=1,k===!0&&(i|=8)):i=0,k=Xn(3,null,null,i),r.current=k,k.stateNode=r,k.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(k),r}function hP(r,i,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:r,containerInfo:i,implementation:c}}function rx(r){if(!r)return Ls;r=r._reactInternals;e:{if(St(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Pn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Pn(c))return Rv(r,c,i)}return i}function sx(r,i,c,m,x,k,R,V,z){return r=Fh(c,m,!0,r,x,k,R,V,z),r.context=rx(null),c=r.current,m=bn(),x=Bs(c),k=us(m,x),k.callback=i??null,Fs(c,k,x),r.current.lanes=x,Ni(r,x,m),En(r,m),r}function xu(r,i,c,m){var x=i.current,k=bn(),R=Bs(x);return c=rx(c),i.context===null?i.context=c:i.pendingContext=c,i=us(k,R),i.payload={element:r},m=m===void 0?null:m,m!==null&&(i.callback=m),r=Fs(x,i,R),r!==null&&(hr(r,x,R,k),Yc(r,x,R)),R}function _u(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ix(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function Uh(r,i){ix(r,i),(r=r.alternate)&&ix(r,i)}function pP(){return null}var ox=typeof reportError=="function"?reportError:function(r){console.error(r)};function Vh(r){this._internalRoot=r}wu.prototype.render=Vh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));xu(r,i,null,null)},wu.prototype.unmount=Vh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;qi(function(){xu(null,r,null,null)}),i[is]=null}};function wu(r){this._internalRoot=r}wu.prototype.unstable_scheduleHydration=function(r){if(r){var i=wc();r={blockedOn:null,target:r,priority:i};for(var c=0;c<Ir.length&&i!==0&&i<Ir[c].priority;c++);Ir.splice(c,0,r),c===0&&Cc(r)}};function $h(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function bu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ax(){}function mP(r,i,c,m,x){if(x){if(typeof m=="function"){var k=m;m=function(){var Z=_u(R);k.call(Z)}}var R=sx(i,m,r,0,null,!1,!1,"",ax);return r._reactRootContainer=R,r[is]=R.current,rl(r.nodeType===8?r.parentNode:r),qi(),R}for(;x=r.lastChild;)r.removeChild(x);if(typeof m=="function"){var V=m;m=function(){var Z=_u(z);V.call(Z)}}var z=Fh(r,0,!1,null,null,!1,!1,"",ax);return r._reactRootContainer=z,r[is]=z.current,rl(r.nodeType===8?r.parentNode:r),qi(function(){xu(i,z,c,m)}),z}function Su(r,i,c,m,x){var k=c._reactRootContainer;if(k){var R=k;if(typeof x=="function"){var V=x;x=function(){var z=_u(R);V.call(z)}}xu(i,R,r,x)}else R=mP(c,i,r,x,m);return _u(R)}_c=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var c=ji(i.pendingLanes);c!==0&&(La(i,c|1),En(i,et()),(ft&6)===0&&(Go=et()+500,Os()))}break;case 13:qi(function(){var m=cs(r,1);if(m!==null){var x=bn();hr(m,r,1,x)}}),Uh(r,1)}},Ei=function(r){if(r.tag===13){var i=cs(r,134217728);if(i!==null){var c=bn();hr(i,r,134217728,c)}Uh(r,134217728)}},Rr=function(r){if(r.tag===13){var i=Bs(r),c=cs(r,i);if(c!==null){var m=bn();hr(c,r,i,m)}Uh(r,i)}},wc=function(){return vt},bc=function(r,i){var c=vt;try{return vt=r,i()}finally{vt=c}},vn=function(r,i,c){switch(i){case"input":if(gn(r,c),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var m=c[i];if(m!==r&&m.form===r.form){var x=Vc(m);if(!x)throw Error(n(90));le(m),gn(m,x)}}}break;case"textarea":vi(r,c);break;case"select":i=c.value,i!=null&&Mn(r,!!c.multiple,i,!1)}},ks=Ah,Si=qi;var gP={usingClientEntryPoint:!1,Events:[ol,Mo,Vc,bi,Cs,Ah]},_l={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vP={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=xn(r),r===null?null:r.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||pP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{ki=Cu.inject(vP),Yt=Cu}catch{}}return Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gP,Rn.createPortal=function(r,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(i))throw Error(n(200));return hP(r,i,null,c)},Rn.createRoot=function(r,i){if(!$h(r))throw Error(n(299));var c=!1,m="",x=ox;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=Fh(r,1,!1,null,null,c,!1,m,x),r[is]=i.current,rl(r.nodeType===8?r.parentNode:r),new Vh(i)},Rn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=xn(i),r=r===null?null:r.stateNode,r},Rn.flushSync=function(r){return qi(r)},Rn.hydrate=function(r,i,c){if(!bu(i))throw Error(n(200));return Su(null,r,i,!0,c)},Rn.hydrateRoot=function(r,i,c){if(!$h(r))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,x=!1,k="",R=ox;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),i=sx(i,null,r,1,c??null,x,!1,k,R),r[is]=i.current,rl(r),m)for(r=0;r<m.length;r++)c=m[r],x=c._getVersion,x=x(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,x]:i.mutableSourceEagerHydrationData.push(c,x);return new wu(i)},Rn.render=function(r,i,c){if(!bu(i))throw Error(n(200));return Su(null,r,i,!1,c)},Rn.unmountComponentAtNode=function(r){if(!bu(r))throw Error(n(40));return r._reactRootContainer?(qi(function(){Su(null,null,r,!1,function(){r._reactRootContainer=null,r[is]=null})}),!0):!1},Rn.unstable_batchedUpdates=Ah,Rn.unstable_renderSubtreeIntoContainer=function(r,i,c,m){if(!bu(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Su(r,i,c,!1,m)},Rn.version="18.3.1-next-f1338f8080-20240426",Rn}var mx;function Hw(){if(mx)return Hh.exports;mx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Hh.exports=jP(),Hh.exports}var gx;function PP(){if(gx)return ku;gx=1;var e=Hw();return ku.createRoot=e.createRoot,ku.hydrateRoot=e.hydrateRoot,ku}var TP=PP();const NP=di(TP);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vx="popstate";function EP(e={}){function t(s,o){let{pathname:l,search:d,hash:f}=s.location;return Rp("",{pathname:l,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return AP(t,n,null,e)}function It(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RP(){return Math.random().toString(36).substring(2,10)}function yx(e,t){return{usr:e.state,key:e.key,idx:t}}function Rp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ya(t):t,state:n,key:t&&t.key||s||RP()}}function Bl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ya(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function AP(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,d=o.history,f="POP",p=null,v=g();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function g(){return(d.state||{idx:null}).idx}function u(){f="POP";let C=g(),P=C==null?null:C-v;v=C,p&&p({action:f,location:w.location,delta:P})}function h(C,P){f="PUSH";let j=Rp(w.location,C,P);v=g()+1;let E=yx(j,v),L=w.createHref(j);try{d.pushState(E,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(L)}l&&p&&p({action:f,location:w.location,delta:1})}function y(C,P){f="REPLACE";let j=Rp(w.location,C,P);v=g();let E=yx(j,v),L=w.createHref(j);d.replaceState(E,"",L),l&&p&&p({action:f,location:w.location,delta:0})}function b(C){return IP(C)}let w={get action(){return f},get location(){return e(o,d)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vx,u),p=C,()=>{o.removeEventListener(vx,u),p=null}},createHref(C){return t(o,C)},createURL:b,encodeLocation(C){let P=b(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:h,replace:y,go(C){return d.go(C)}};return w}function IP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Bl(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ww(e,t,n="/"){return MP(e,t,n,!1)}function MP(e,t,n,s){let o=typeof t=="string"?ya(t):t,l=gs(o.pathname||"/",n);if(l==null)return null;let d=qw(e);LP(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let v=qP(l);f=HP(d[p],v,s)}return f}function qw(e,t=[],n=[],s="",o=!1){let l=(d,f,p=o,v)=>{let g={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&p)return;It(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let u=ms([s,g.relativePath]),h=n.concat(g);d.children&&d.children.length>0&&(It(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),qw(d.children,t,h,u,p)),!(d.path==null&&!d.index)&&t.push({path:u,score:BP(u,d.index),routesMeta:h})};return e.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))l(d,f);else for(let v of Gw(d.path))l(d,f,!0,v)}),t}function Gw(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let d=Gw(s.join("/")),f=[];return f.push(...d.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...d),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function LP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zP(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var OP=/^:[\w-]+$/,DP=3,FP=2,UP=1,VP=10,$P=-2,xx=e=>e==="*";function BP(e,t){let n=e.split("/"),s=n.length;return n.some(xx)&&(s+=$P),t&&(s+=FP),n.filter(o=>!xx(o)).reduce((o,l)=>o+(OP.test(l)?DP:l===""?UP:VP),s)}function zP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function HP(e,t,n=!1){let{routesMeta:s}=e,o={},l="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],v=f===s.length-1,g=l==="/"?t:t.slice(l.length)||"/",u=sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},g),h=p.route;if(!u&&v&&n&&!s[s.length-1].route.index&&(u=sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!u)return null;Object.assign(o,u.params),d.push({params:o,pathname:ms([l,u.pathname]),pathnameBase:YP(ms([l,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(l=ms([l,u.pathnameBase]))}return d}function sd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=WP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:g,isOptional:u},h)=>{if(g==="*"){let b=f[h]||"";d=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const y=f[h];return u&&!y?v[g]=void 0:v[g]=(y||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:d,pattern:e}}function WP(e,t=!1,n=!0){xr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function qP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function GP(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?ya(e):e;return{pathname:n?n.startsWith("/")?n:KP(n,t):t,search:QP(s),hash:JP(o)}}function KP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Gh(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Em(e){let t=XP(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Rm(e,t,n,s=!1){let o;typeof e=="string"?o=ya(e):(o={...e},It(!o.pathname||!o.pathname.includes("?"),Gh("?","pathname","search",o)),It(!o.pathname||!o.pathname.includes("#"),Gh("#","pathname","hash",o)),It(!o.search||!o.search.includes("#"),Gh("#","search","hash",o)));let l=e===""||o.pathname==="",d=l?"/":o.pathname,f;if(d==null)f=n;else{let u=t.length-1;if(!s&&d.startsWith("..")){let h=d.split("/");for(;h[0]==="..";)h.shift(),u-=1;o.pathname=h.join("/")}f=u>=0?t[u]:"/"}let p=GP(o,f),v=d&&d!=="/"&&d.endsWith("/"),g=(l||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||g)&&(p.pathname+="/"),p}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),YP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Kw=["POST","PUT","PATCH","DELETE"];new Set(Kw);var eT=["GET",...Kw];new Set(eT);var xa=S.createContext(null);xa.displayName="DataRouter";var Sd=S.createContext(null);Sd.displayName="DataRouterState";S.createContext(!1);var Xw=S.createContext({isTransitioning:!1});Xw.displayName="ViewTransition";var tT=S.createContext(new Map);tT.displayName="Fetchers";var nT=S.createContext(null);nT.displayName="Await";var br=S.createContext(null);br.displayName="Navigation";var tc=S.createContext(null);tc.displayName="Location";var Qr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var Am=S.createContext(null);Am.displayName="RouteError";function rT(e,{relative:t}={}){It(_a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(br),{hash:o,pathname:l,search:d}=nc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:ms([n,l])),s.createHref({pathname:f,search:d,hash:o})}function _a(){return S.useContext(tc)!=null}function Sr(){return It(_a(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(tc).location}var Yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qw(e){S.useContext(br).static||S.useLayoutEffect(e)}function Jr(){let{isDataRoute:e}=S.useContext(Qr);return e?gT():sT()}function sT(){It(_a(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(xa),{basename:t,navigator:n}=S.useContext(br),{matches:s}=S.useContext(Qr),{pathname:o}=Sr(),l=JSON.stringify(Em(s)),d=S.useRef(!1);return Qw(()=>{d.current=!0}),S.useCallback((p,v={})=>{if(xr(d.current,Yw),!d.current)return;if(typeof p=="number"){n.go(p);return}let g=Rm(p,JSON.parse(l),o,v.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ms([t,g.pathname])),(v.replace?n.replace:n.push)(g,v.state,v)},[t,n,l,o,e])}S.createContext(null);function nc(e,{relative:t}={}){let{matches:n}=S.useContext(Qr),{pathname:s}=Sr(),o=JSON.stringify(Em(n));return S.useMemo(()=>Rm(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function iT(e,t){return Jw(e,t)}function Jw(e,t,n,s,o){var j;It(_a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(br),{matches:d}=S.useContext(Qr),f=d[d.length-1],p=f?f.params:{},v=f?f.pathname:"/",g=f?f.pathnameBase:"/",u=f&&f.route;{let E=u&&u.path||"";Zw(v,!u||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let h=Sr(),y;if(t){let E=typeof t=="string"?ya(t):t;It(g==="/"||((j=E.pathname)==null?void 0:j.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=h;let b=y.pathname||"/",w=b;if(g!=="/"){let E=g.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=Ww(e,{pathname:w});xr(u||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),xr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=uT(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:ms([g,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:ms([g,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),d,n,s,o);return t&&P?S.createElement(tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},P):P}function oT(){let e=mT(),t=ZP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:o},n):null,d)}var aT=S.createElement(oT,null),lT=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Qr.Provider,{value:this.props.routeContext},S.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cT({routeContext:e,match:t,children:n}){let s=S.useContext(xa);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Qr.Provider,{value:e},n)}function uT(e,t=[],n=null,s=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=n==null?void 0:n.errors;if(d!=null){let v=l.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);It(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(n)for(let v=0;v<l.length;v++){let g=l[v];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=v),g.route.id){let{loaderData:u,errors:h}=n,y=g.route.loader&&!u.hasOwnProperty(g.route.id)&&(!h||h[g.route.id]===void 0);if(g.route.lazy||y){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((v,g,u)=>{let h,y=!1,b=null,w=null;n&&(h=d&&g.route.id?d[g.route.id]:void 0,b=g.route.errorElement||aT,f&&(p<0&&u===0?(Zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):p===u&&(y=!0,w=g.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,u+1)),P=()=>{let j;return h?j=b:y?j=w:g.route.Component?j=S.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=v,S.createElement(cT,{match:g,routeContext:{outlet:v,matches:C,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||u===0)?S.createElement(lT,{location:n.location,revalidation:n.revalidation,component:b,error:h,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:s}):P()},null)}function Im(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(e){let t=S.useContext(xa);return It(t,Im(e)),t}function fT(e){let t=S.useContext(Sd);return It(t,Im(e)),t}function hT(e){let t=S.useContext(Qr);return It(t,Im(e)),t}function Mm(e){let t=hT(e),n=t.matches[t.matches.length-1];return It(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pT(){return Mm("useRouteId")}function mT(){var s;let e=S.useContext(Am),t=fT("useRouteError"),n=Mm("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function gT(){let{router:e}=dT("useNavigate"),t=Mm("useNavigate"),n=S.useRef(!1);return Qw(()=>{n.current=!0}),S.useCallback(async(o,l={})=>{xr(n.current,Yw),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var _x={};function Zw(e,t,n){!t&&!_x[e]&&(_x[e]=!0,xr(!1,n))}S.memo(vT);function vT({routes:e,future:t,state:n,unstable_onError:s}){return Jw(e,void 0,n,s,t)}function yT({to:e,replace:t,state:n,relative:s}){It(_a(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(br);xr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Qr),{pathname:d}=Sr(),f=Jr(),p=Rm(e,Em(l),d,s==="path"),v=JSON.stringify(p);return S.useEffect(()=>{f(JSON.parse(v),{replace:t,state:n,relative:s})},[f,v,s,t,n]),null}function ht(e){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xT({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){It(!_a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof n=="string"&&(n=ya(n));let{pathname:p="/",search:v="",hash:g="",state:u=null,key:h="default"}=n,y=S.useMemo(()=>{let b=gs(p,d);return b==null?null:{location:{pathname:b,search:v,hash:g,state:u,key:h},navigationType:s}},[d,p,v,g,u,h,s]);return xr(y!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:S.createElement(br.Provider,{value:f},S.createElement(tc.Provider,{children:t,value:y}))}function _T({children:e,location:t}){return iT(Ap(e),t)}function Ap(e,t=[]){let n=[];return S.Children.forEach(e,(s,o)=>{if(!S.isValidElement(s))return;let l=[...t,o];if(s.type===S.Fragment){n.push.apply(n,Ap(s.props.children,l));return}It(s.type===ht,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Ap(s.props.children,l)),n.push(d)}),n}var Vu="get",$u="application/x-www-form-urlencoded";function Cd(e){return e!=null&&typeof e.tagName=="string"}function wT(e){return Cd(e)&&e.tagName.toLowerCase()==="button"}function bT(e){return Cd(e)&&e.tagName.toLowerCase()==="form"}function ST(e){return Cd(e)&&e.tagName.toLowerCase()==="input"}function CT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kT(e,t){return e.button===0&&(!t||t==="_self")&&!CT(e)}var ju=null;function jT(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var PT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kh(e){return e!=null&&!PT.has(e)?(xr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$u}"`),null):e}function TT(e,t){let n,s,o,l,d;if(bT(e)){let f=e.getAttribute("action");s=f?gs(f,t):null,n=e.getAttribute("method")||Vu,o=Kh(e.getAttribute("enctype"))||$u,l=new FormData(e)}else if(wT(e)||ST(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||f.getAttribute("action");if(s=p?gs(p,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||Vu,o=Kh(e.getAttribute("formenctype"))||Kh(f.getAttribute("enctype"))||$u,l=new FormData(f,e),!jT()){let{name:v,type:g,value:u}=e;if(g==="image"){let h=v?`${v}.`:"";l.append(`${h}x`,"0"),l.append(`${h}y`,"0")}else v&&l.append(v,u)}}else{if(Cd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vu,s=null,o=$u,d=e}return l&&o==="text/plain"&&(d=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NT(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&gs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ET(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AT(e,t,n){let s=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let d=await ET(l,n);return d.links?d.links():[]}return[]}));return OT(s.flat(1).filter(RT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wx(e,t,n,s,o,l){let d=(p,v)=>n[v]?p.route.id!==n[v].route.id:!0,f=(p,v)=>{var g;return n[v].pathname!==p.pathname||((g=n[v].route.path)==null?void 0:g.endsWith("*"))&&n[v].params["*"]!==p.params["*"]};return l==="assets"?t.filter((p,v)=>d(p,v)||f(p,v)):l==="data"?t.filter((p,v)=>{var u;let g=s.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(d(p,v)||f(p,v))return!0;if(p.route.shouldRevalidate){let h=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((u=n[0])==null?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function IT(e,t,{includeHydrateFallback:n}={}){return MT(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function MT(e){return[...new Set(e)]}function LT(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function OT(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let l=JSON.stringify(LT(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function e0(){let e=S.useContext(xa);return Lm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function DT(){let e=S.useContext(Sd);return Lm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Om=S.createContext(void 0);Om.displayName="FrameworkContext";function t0(){let e=S.useContext(Om);return Lm(e,"You must render this element inside a <HydratedRouter> element"),e}function FT(e,t){let n=S.useContext(Om),[s,o]=S.useState(!1),[l,d]=S.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:v,onMouseLeave:g,onTouchStart:u}=t,h=S.useRef(null);S.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let w=P=>{P.forEach(j=>{d(j.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return h.current&&C.observe(h.current),()=>{C.disconnect()}}},[e]),S.useEffect(()=>{if(s){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[s]);let y=()=>{o(!0)},b=()=>{o(!1),d(!1)};return n?e!=="intent"?[l,h,{}]:[l,h,{onFocus:bl(f,y),onBlur:bl(p,b),onMouseEnter:bl(v,y),onMouseLeave:bl(g,b),onTouchStart:bl(u,y)}]:[!1,h,{}]}function bl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function UT({page:e,...t}){let{router:n}=e0(),s=S.useMemo(()=>Ww(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?S.createElement($T,{page:e,matches:s,...t}):null}function VT(e){let{manifest:t,routeModules:n}=t0(),[s,o]=S.useState([]);return S.useEffect(()=>{let l=!1;return AT(e,t,n).then(d=>{l||o(d)}),()=>{l=!0}},[e,t,n]),s}function $T({page:e,matches:t,...n}){let s=Sr(),{manifest:o,routeModules:l}=t0(),{basename:d}=e0(),{loaderData:f,matches:p}=DT(),v=S.useMemo(()=>wx(e,t,p,o,s,"data"),[e,t,p,o,s]),g=S.useMemo(()=>wx(e,t,p,o,s,"assets"),[e,t,p,o,s]),u=S.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let b=new Set,w=!1;if(t.forEach(P=>{var E;let j=o.routes[P.route.id];!j||!j.hasLoader||(!v.some(L=>L.route.id===P.route.id)&&P.route.id in f&&((E=l[P.route.id])!=null&&E.shouldRevalidate)||j.hasClientLoader?w=!0:b.add(P.route.id))}),b.size===0)return[];let C=NT(e,d,"data");return w&&b.size>0&&C.searchParams.set("_routes",t.filter(P=>b.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[d,f,s,o,v,t,e,l]),h=S.useMemo(()=>IT(g,o),[g,o]),y=VT(g);return S.createElement(S.Fragment,null,u.map(b=>S.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),h.map(b=>S.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:w})=>S.createElement("link",{key:b,nonce:n.nonce,...w})))}function BT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var n0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n0&&(window.__reactRouterVersion="7.9.4")}catch{}function zT({basename:e,children:t,window:n}){let s=S.useRef();s.current==null&&(s.current=EP({window:n,v5Compat:!0}));let o=s.current,[l,d]=S.useState({action:o.action,location:o.location}),f=S.useCallback(p=>{S.startTransition(()=>d(p))},[d]);return S.useLayoutEffect(()=>o.listen(f),[o,f]),S.createElement(xT,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var r0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dm=S.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:d,state:f,target:p,to:v,preventScrollReset:g,viewTransition:u,...h},y){let{basename:b}=S.useContext(br),w=typeof v=="string"&&r0.test(v),C,P=!1;if(typeof v=="string"&&w&&(C=v,n0))try{let F=new URL(window.location.href),K=v.startsWith("//")?new URL(F.protocol+v):new URL(v),ne=gs(K.pathname,b);K.origin===F.origin&&ne!=null?v=ne+K.search+K.hash:P=!0}catch{xr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=rT(v,{relative:o}),[E,L,D]=FT(s,h),A=GT(v,{replace:d,state:f,target:p,preventScrollReset:g,relative:o,viewTransition:u});function I(F){t&&t(F),F.defaultPrevented||A(F)}let O=S.createElement("a",{...h,...D,href:C||j,onClick:P||l?t:I,ref:BT(y,L),target:p,"data-discover":!w&&n==="render"?"true":void 0});return E&&!w?S.createElement(S.Fragment,null,O,S.createElement(UT,{page:j})):O});Dm.displayName="Link";var HT=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:d,viewTransition:f,children:p,...v},g){let u=nc(d,{relative:v.relative}),h=Sr(),y=S.useContext(Sd),{navigator:b,basename:w}=S.useContext(br),C=y!=null&&JT(u)&&f===!0,P=b.encodeLocation?b.encodeLocation(u).pathname:u.pathname,j=h.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(j=j.toLowerCase(),E=E?E.toLowerCase():null,P=P.toLowerCase()),E&&w&&(E=gs(E,w)||E);const L=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let D=j===P||!o&&j.startsWith(P)&&j.charAt(L)==="/",A=E!=null&&(E===P||!o&&E.startsWith(P)&&E.charAt(P.length)==="/"),I={isActive:D,isPending:A,isTransitioning:C},O=D?t:void 0,F;typeof s=="function"?F=s(I):F=[s,D?"active":null,A?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(I):l;return S.createElement(Dm,{...v,"aria-current":O,className:F,ref:g,style:K,to:d,viewTransition:f},typeof p=="function"?p(I):p)});HT.displayName="NavLink";var WT=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:l,method:d=Vu,action:f,onSubmit:p,relative:v,preventScrollReset:g,viewTransition:u,...h},y)=>{let b=YT(),w=QT(f,{relative:v}),C=d.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&r0.test(f),j=E=>{if(p&&p(E),E.defaultPrevented)return;E.preventDefault();let L=E.nativeEvent.submitter,D=(L==null?void 0:L.getAttribute("formmethod"))||d;b(L||E.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:l,relative:v,preventScrollReset:g,viewTransition:u})};return S.createElement("form",{ref:y,method:C,action:w,onSubmit:s?p:j,...h,"data-discover":!P&&e==="render"?"true":void 0})});WT.displayName="Form";function qT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s0(e){let t=S.useContext(xa);return It(t,qT(e)),t}function GT(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:d}={}){let f=Jr(),p=Sr(),v=nc(e,{relative:l});return S.useCallback(g=>{if(kT(g,t)){g.preventDefault();let u=n!==void 0?n:Bl(p)===Bl(v);f(e,{replace:u,state:s,preventScrollReset:o,relative:l,viewTransition:d})}},[p,f,v,n,s,t,e,o,l,d])}var KT=0,XT=()=>`__${String(++KT)}__`;function YT(){let{router:e}=s0("useSubmit"),{basename:t}=S.useContext(br),n=pT();return S.useCallback(async(s,o={})=>{let{action:l,method:d,encType:f,formData:p,body:v}=TT(s,t);if(o.navigate===!1){let g=o.fetcherKey||XT();await e.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function QT(e,{relative:t}={}){let{basename:n}=S.useContext(br),s=S.useContext(Qr);It(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...nc(e||".",{relative:t})},d=Sr();if(e==null){l.search=d.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(u=>u).forEach(u=>f.append("index",u));let g=f.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ms([n,l.pathname])),Bl(l)}function JT(e,{relative:t}={}){let n=S.useContext(Xw);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s0("useViewTransitionState"),o=nc(e,{relative:t});if(!n.isTransitioning)return!1;let l=gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sd(o.pathname,d)!=null||sd(o.pathname,l)!=null}var rc=Hw();const ZT=di(rc);function eN(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bu={exports:{}};const tN={},nN=Object.freeze(Object.defineProperty({__proto__:null,default:tN},Symbol.toStringTag,{value:"Module"})),rN=_P(nN);var sN=Bu.exports,bx;function kd(){return bx||(bx=1,(function(e,t){(function(n,s){e.exports=s()})(sN,function(){var n=n||(function(s,o){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Qs<"u"&&Qs.crypto&&(l=Qs.crypto),!l&&typeof eN=="function")try{l=rN}catch{}var d=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},f=Object.create||(function(){function j(){}return function(E){var L;return j.prototype=E,L=new j,j.prototype=null,L}})(),p={},v=p.lib={},g=v.Base=(function(){return{extend:function(j){var E=f(this);return j&&E.mixIn(j),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var j=this.extend();return j.init.apply(j,arguments),j},init:function(){},mixIn:function(j){for(var E in j)j.hasOwnProperty(E)&&(this[E]=j[E]);j.hasOwnProperty("toString")&&(this.toString=j.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),u=v.WordArray=g.extend({init:function(j,E){j=this.words=j||[],E!=o?this.sigBytes=E:this.sigBytes=j.length*4},toString:function(j){return(j||y).stringify(this)},concat:function(j){var E=this.words,L=j.words,D=this.sigBytes,A=j.sigBytes;if(this.clamp(),D%4)for(var I=0;I<A;I++){var O=L[I>>>2]>>>24-I%4*8&255;E[D+I>>>2]|=O<<24-(D+I)%4*8}else for(var F=0;F<A;F+=4)E[D+F>>>2]=L[F>>>2];return this.sigBytes+=A,this},clamp:function(){var j=this.words,E=this.sigBytes;j[E>>>2]&=4294967295<<32-E%4*8,j.length=s.ceil(E/4)},clone:function(){var j=g.clone.call(this);return j.words=this.words.slice(0),j},random:function(j){for(var E=[],L=0;L<j;L+=4)E.push(d());return new u.init(E,j)}}),h=p.enc={},y=h.Hex={stringify:function(j){for(var E=j.words,L=j.sigBytes,D=[],A=0;A<L;A++){var I=E[A>>>2]>>>24-A%4*8&255;D.push((I>>>4).toString(16)),D.push((I&15).toString(16))}return D.join("")},parse:function(j){for(var E=j.length,L=[],D=0;D<E;D+=2)L[D>>>3]|=parseInt(j.substr(D,2),16)<<24-D%8*4;return new u.init(L,E/2)}},b=h.Latin1={stringify:function(j){for(var E=j.words,L=j.sigBytes,D=[],A=0;A<L;A++){var I=E[A>>>2]>>>24-A%4*8&255;D.push(String.fromCharCode(I))}return D.join("")},parse:function(j){for(var E=j.length,L=[],D=0;D<E;D++)L[D>>>2]|=(j.charCodeAt(D)&255)<<24-D%4*8;return new u.init(L,E)}},w=h.Utf8={stringify:function(j){try{return decodeURIComponent(escape(b.stringify(j)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(j){return b.parse(unescape(encodeURIComponent(j)))}},C=v.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(j){typeof j=="string"&&(j=w.parse(j)),this._data.concat(j),this._nDataBytes+=j.sigBytes},_process:function(j){var E,L=this._data,D=L.words,A=L.sigBytes,I=this.blockSize,O=I*4,F=A/O;j?F=s.ceil(F):F=s.max((F|0)-this._minBufferSize,0);var K=F*I,ne=s.min(K*4,A);if(K){for(var de=0;de<K;de+=I)this._doProcessBlock(D,de);E=D.splice(0,K),L.sigBytes-=ne}return new u.init(E,ne)},clone:function(){var j=g.clone.call(this);return j._data=this._data.clone(),j},_minBufferSize:0});v.Hasher=C.extend({cfg:g.extend(),init:function(j){this.cfg=this.cfg.extend(j),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(j){return this._append(j),this._process(),this},finalize:function(j){j&&this._append(j);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(j){return function(E,L){return new j.init(L).finalize(E)}},_createHmacHelper:function(j){return function(E,L){return new P.HMAC.init(j,L).finalize(E)}}});var P=p.algo={};return p})(Math);return n})})(Bu)),Bu.exports}var iN=kd();const oN=di(iN);var zu={exports:{}},aN=zu.exports,Sx;function lN(){return Sx||(Sx=1,(function(e,t){(function(n,s){e.exports=s(kd())})(aN,function(n){return(function(s){var o=n,l=o.lib,d=l.WordArray,f=l.Hasher,p=o.algo,v=[],g=[];(function(){function y(P){for(var j=s.sqrt(P),E=2;E<=j;E++)if(!(P%E))return!1;return!0}function b(P){return(P-(P|0))*4294967296|0}for(var w=2,C=0;C<64;)y(w)&&(C<8&&(v[C]=b(s.pow(w,1/2))),g[C]=b(s.pow(w,1/3)),C++),w++})();var u=[],h=p.SHA256=f.extend({_doReset:function(){this._hash=new d.init(v.slice(0))},_doProcessBlock:function(y,b){for(var w=this._hash.words,C=w[0],P=w[1],j=w[2],E=w[3],L=w[4],D=w[5],A=w[6],I=w[7],O=0;O<64;O++){if(O<16)u[O]=y[b+O]|0;else{var F=u[O-15],K=(F<<25|F>>>7)^(F<<14|F>>>18)^F>>>3,ne=u[O-2],de=(ne<<15|ne>>>17)^(ne<<13|ne>>>19)^ne>>>10;u[O]=K+u[O-7]+de+u[O-16]}var te=L&D^~L&A,ie=C&P^C&j^P&j,be=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),ve=(L<<26|L>>>6)^(L<<21|L>>>11)^(L<<7|L>>>25),pe=I+ve+te+g[O]+u[O],W=be+ie;I=A,A=D,D=L,L=E+pe|0,E=j,j=P,P=C,C=pe+W|0}w[0]=w[0]+C|0,w[1]=w[1]+P|0,w[2]=w[2]+j|0,w[3]=w[3]+E|0,w[4]=w[4]+L|0,w[5]=w[5]+D|0,w[6]=w[6]+A|0,w[7]=w[7]+I|0},_doFinalize:function(){var y=this._data,b=y.words,w=this._nDataBytes*8,C=y.sigBytes*8;return b[C>>>5]|=128<<24-C%32,b[(C+64>>>9<<4)+14]=s.floor(w/4294967296),b[(C+64>>>9<<4)+15]=w,y.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var y=f.clone.call(this);return y._hash=this._hash.clone(),y}});o.SHA256=f._createHelper(h),o.HmacSHA256=f._createHmacHelper(h)})(Math),n.SHA256})})(zu)),zu.exports}var cN=lN();const uN=di(cN);var Hu={exports:{}},dN=Hu.exports,Cx;function fN(){return Cx||(Cx=1,(function(e,t){(function(n,s){e.exports=s(kd())})(dN,function(n){return(function(){var s=n,o=s.lib,l=o.WordArray,d=s.enc;d.Base64={stringify:function(p){var v=p.words,g=p.sigBytes,u=this._map;p.clamp();for(var h=[],y=0;y<g;y+=3)for(var b=v[y>>>2]>>>24-y%4*8&255,w=v[y+1>>>2]>>>24-(y+1)%4*8&255,C=v[y+2>>>2]>>>24-(y+2)%4*8&255,P=b<<16|w<<8|C,j=0;j<4&&y+j*.75<g;j++)h.push(u.charAt(P>>>6*(3-j)&63));var E=u.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(p){var v=p.length,g=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var h=0;h<g.length;h++)u[g.charCodeAt(h)]=h}var y=g.charAt(64);if(y){var b=p.indexOf(y);b!==-1&&(v=b)}return f(p,v,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function f(p,v,g){for(var u=[],h=0,y=0;y<v;y++)if(y%4){var b=g[p.charCodeAt(y-1)]<<y%4*2,w=g[p.charCodeAt(y)]>>>6-y%4*2,C=b|w;u[h>>>2]|=C<<24-h%4*8,h++}return l.create(u,h)}})(),n.enc.Base64})})(Hu)),Hu.exports}var hN=fN();const kx=di(hN);var Wu={exports:{}},pN=Wu.exports,jx;function mN(){return jx||(jx=1,(function(e,t){(function(n,s){e.exports=s(kd())})(pN,function(n){return n.enc.Utf8})})(Wu)),Wu.exports}var gN=mN();const vN=di(gN);function Ip(e){this.message=e}Ip.prototype=new Error,Ip.prototype.name="InvalidCharacterError";var Px=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Ip("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,s,o=0,l=0,d="";s=t.charAt(l++);~s&&(n=o%4?64*n+s:s,o++%4)?d+=String.fromCharCode(255&n>>(-2*o&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return d};function yN(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return(function(n){return decodeURIComponent(Px(n).replace(/(.)/g,(function(s,o){var l=o.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l})))})(t)}catch{return Px(t)}}function id(e){this.message=e}function xN(e,t){if(typeof e!="string")throw new id("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(yN(e.split(".")[n]))}catch(s){throw new id("Invalid token specified: "+s.message)}}id.prototype=new Error,id.prototype.name="InvalidTokenError";var _N={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},Vr,$r,od=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(od||{});(e=>{function t(){Vr=3,$r=_N}e.reset=t;function n(o){if(!(0<=o&&o<=4))throw new Error("Invalid log level");Vr=o}e.setLevel=n;function s(o){$r=o}e.setLogger=s})(od||(od={}));var Qe=class{constructor(e){this._name=e}debug(...e){Vr>=4&&$r.debug(Qe._format(this._name,this._method),...e)}info(...e){Vr>=3&&$r.info(Qe._format(this._name,this._method),...e)}warn(...e){Vr>=2&&$r.warn(Qe._format(this._name,this._method),...e)}error(...e){Vr>=1&&$r.error(Qe._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const n=new Qe(`${e}.${t}`);return n.debug("begin"),n}static _format(e,t){const n=`[${e}]`;return t?`${n} ${t}:`:n}static debug(e,...t){Vr>=4&&$r.debug(Qe._format(e),...t)}static info(e,...t){Vr>=3&&$r.info(Qe._format(e),...t)}static warn(e,...t){Vr>=2&&$r.warn(Qe._format(e),...t)}static error(e,...t){Vr>=1&&$r.error(Qe._format(e),...t)}};od.reset();var wN="10000000-1000-4000-8000-100000000000",Wr=class{static _randomWord(){return oN.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return wN.replace(/[018]/g,t=>(+t^Wr._randomWord()&15>>+t/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return Wr.generateUUIDv4()+Wr.generateUUIDv4()+Wr.generateUUIDv4()}static generateCodeChallenge(e){try{const t=uN(e);return kx.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw Qe.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const n=vN.parse([e,t].join(":"));return kx.stringify(n)}},Ys=class{constructor(t){this._name=t,this._logger=new Qe(`Event('${this._name}')`),this._callbacks=[]}addHandler(t){return this._callbacks.push(t),()=>this.removeHandler(t)}removeHandler(t){const n=this._callbacks.lastIndexOf(t);n>=0&&this._callbacks.splice(n,1)}raise(...t){this._logger.debug("raise:",...t);for(const n of this._callbacks)n(...t)}},Mp=class{static decode(e){try{return xN(e)}catch(t){throw Qe.error("JwtUtils.decode",t),t}}},Tx=class{static center({...e}){var t,n,s;return e.width==null&&(e.width=(t=[800,720,600,480].find(o=>o<=window.outerWidth/1.618))!=null?t:360),(n=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((s=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}=${typeof n!="boolean"?n:n?"yes":"no"}`).join(",")}},Zn=class extends Ys{constructor(){super(...arguments),this._logger=new Qe(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-Zn.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=Zn.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const n=Zn.getEpochTime()+e;if(this.expiration===n&&this._timerHandle){t.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),t.debug("using duration",e),this._expiration=n;const s=Math.min(e,5);this._timerHandle=setInterval(this._callback,s*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Lp=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const s=new URL(e,"http://127.0.0.1")[t==="fragment"?"hash":"search"];return new URLSearchParams(s.slice(1))}},Op=";",ao=class extends Error{constructor(e,t){var n,s,o;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw Qe.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(n=e.error_description)!=null?n:null,this.error_uri=(s=e.error_uri)!=null?s:null,this.state=e.userState,this.session_state=(o=e.session_state)!=null?o:null,this.url_state=e.url_state}},Fm=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},bN=class{constructor(e){this._logger=new Qe("AccessTokenEvents"),this._expiringTimer=new Zn("Access token expiring"),this._expiredTimer=new Zn("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const n=e.expires_in;if(t.debug("access token present, remaining duration:",n),n>0){let o=n-this._expiringNotificationTimeInSeconds;o<=0&&(o=1),t.debug("registering expiring timer, raising in",o,"seconds"),this._expiringTimer.init(o)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const s=n+1;t.debug("registering expired timer, raising in",s,"seconds"),this._expiredTimer.init(s)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},SN=class{constructor(e,t,n,s,o){this._callback=e,this._client_id=t,this._intervalInSeconds=s,this._stopOnError=o,this._logger=new Qe("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=d=>{d.origin===this._frame_origin&&d.source===this._frame.contentWindow&&(d.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):d.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(d.data+" message from check session op iframe"))};const l=new URL(n);this._frame_origin=l.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=l.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},i0=class{constructor(){this._logger=new Qe("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},Um=class{constructor(e=[],t=null,n={}){this._jwtHandler=t,this._extraHeaders=n,this._logger=new Qe("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:n,...s}=t;if(!n)return await fetch(e,s);const o=new AbortController,l=setTimeout(()=>o.abort(),n*1e3);try{return await fetch(e,{...t,signal:o.signal})}catch(d){throw d instanceof DOMException&&d.name==="AbortError"?new Fm("Network timed out"):d}finally{clearTimeout(l)}}async getJson(e,{token:t,credentials:n}={}){const s=this._logger.create("getJson"),o={Accept:this._contentTypes.join(", ")};t&&(s.debug("token passed, setting Authorization header"),o.Authorization="Bearer "+t),this.appendExtraHeaders(o);let l;try{s.debug("url:",e),l=await this.fetchWithTimeout(e,{method:"GET",headers:o,credentials:n})}catch(p){throw s.error("Network Error"),p}s.debug("HTTP response received, status",l.status);const d=l.headers.get("Content-Type");if(d&&!this._contentTypes.find(p=>d.startsWith(p))&&s.throw(new Error(`Invalid response Content-Type: ${d??"undefined"}, from URL: ${e}`)),l.ok&&this._jwtHandler&&(d!=null&&d.startsWith("application/jwt")))return await this._jwtHandler(await l.text());let f;try{f=await l.json()}catch(p){throw s.error("Error parsing JSON response",p),l.ok?p:new Error(`${l.statusText} (${l.status})`)}if(!l.ok)throw s.error("Error from server:",f),f.error?new ao(f):new Error(`${l.statusText} (${l.status}): ${JSON.stringify(f)}`);return f}async postForm(e,{body:t,basicAuth:n,timeoutInSeconds:s,initCredentials:o}){const l=this._logger.create("postForm"),d={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};n!==void 0&&(d.Authorization="Basic "+n),this.appendExtraHeaders(d);let f;try{l.debug("url:",e),f=await this.fetchWithTimeout(e,{method:"POST",headers:d,body:t,timeoutInSeconds:s,credentials:o})}catch(u){throw l.error("Network error"),u}l.debug("HTTP response received, status",f.status);const p=f.headers.get("Content-Type");if(p&&!this._contentTypes.find(u=>p.startsWith(u)))throw new Error(`Invalid response Content-Type: ${p??"undefined"}, from URL: ${e}`);const v=await f.text();let g={};if(v)try{g=JSON.parse(v)}catch(u){throw l.error("Error parsing JSON response",u),f.ok?u:new Error(`${f.statusText} (${f.status})`)}if(!f.ok)throw l.error("Error from server:",g),g.error?new ao(g,t):new Error(`${f.statusText} (${f.status}): ${JSON.stringify(g)}`);return g}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),n=Object.keys(this._extraHeaders),s=["authorization","accept","content-type"];n.length!==0&&n.forEach(o=>{if(s.includes(o.toLocaleLowerCase())){t.warn("Protected header could not be overridden",o,s);return}const l=typeof this._extraHeaders[o]=="function"?this._extraHeaders[o]():this._extraHeaders[o];l&&l!==""&&(e[o]=l)})}},CN=class{constructor(e){this._settings=e,this._logger=new Qe("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new Um(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const n=this._logger.create(`_getMetadataProperty('${e}')`),s=await this.getMetadata();if(n.debug("resolved"),s[e]===void 0){if(t===!0){n.warn("Metadata does not contain optional property");return}n.throw(new Error("Metadata does not contain property "+e))}return s[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const n=await this._jsonService.getJson(t);if(e.debug("got key set",n),!Array.isArray(n.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=n.keys,this._signingKeys}},Vm=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new Qe("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){return this._logger.create(`get('${e}')`),e=this._prefix+e,await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let n=0;n<e;n++){const s=await this._store.key(n);s&&s.indexOf(this._prefix)===0&&t.push(s.substr(this._prefix.length))}return t}},kN="code",jN="openid",PN="client_secret_post",TN="query",NN=900,EN=300,Dp=class{constructor({authority:e,metadataUrl:t,metadata:n,signingKeys:s,metadataSeed:o,client_id:l,client_secret:d,response_type:f=kN,scope:p=jN,redirect_uri:v,post_logout_redirect_uri:g,client_authentication:u=PN,prompt:h,display:y,max_age:b,ui_locales:w,acr_values:C,resource:P,response_mode:j=TN,filterProtocolClaims:E=!0,loadUserInfo:L=!1,staleStateAgeInSeconds:D=NN,clockSkewInSeconds:A=EN,userInfoJwtIssuer:I="OP",mergeClaims:O=!1,disablePKCE:F=!1,stateStore:K,refreshTokenCredentials:ne,revokeTokenAdditionalContentTypes:de,fetchRequestCredentials:te,refreshTokenAllowedScope:ie,extraQueryParams:be={},extraTokenParams:ve={},extraHeaders:pe={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=n,this.metadataSeed=o,this.signingKeys=s,this.client_id=l,this.client_secret=d,this.response_type=f,this.scope=p,this.redirect_uri=v,this.post_logout_redirect_uri=g,this.client_authentication=u,this.prompt=h,this.display=y,this.max_age=b,this.ui_locales=w,this.acr_values=C,this.resource=P,this.response_mode=j,this.filterProtocolClaims=E??!0,this.loadUserInfo=!!L,this.staleStateAgeInSeconds=D,this.clockSkewInSeconds=A,this.userInfoJwtIssuer=I,this.mergeClaims=!!O,this.disablePKCE=!!F,this.revokeTokenAdditionalContentTypes=de,te&&ne&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=te||ne||"same-origin",K)this.stateStore=K;else{const W=typeof window<"u"?window.localStorage:new i0;this.stateStore=new Vm({store:W})}this.refreshTokenAllowedScope=ie,this.extraQueryParams=be,this.extraTokenParams=ve,this.extraHeaders=pe}},RN=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Qe("UserInfoService"),this._getClaimsFromJwt=async n=>{const s=this._logger.create("_getClaimsFromJwt");try{const o=Mp.decode(n);return s.debug("JWT decoding successful"),o}catch(o){throw s.error("Error parsing JWT response"),o}},this._jsonService=new Um(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const n=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",n);const s=await this._jsonService.getJson(n,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",s),s}},o0=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Qe("TokenClient"),this._jsonService=new Um(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:n=this._settings.client_id,client_secret:s=this._settings.client_secret,...o}){const l=this._logger.create("exchangeCode");n||l.throw(new Error("A client_id is required")),t||l.throw(new Error("A redirect_uri is required")),o.code||l.throw(new Error("A code is required"));const d=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[g,u]of Object.entries(o))u!=null&&d.set(g,u);let f;switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw l.throw(new Error("A client_secret is required")),null;f=Wr.generateBasicAuth(n,s);break;case"client_secret_post":d.append("client_id",n),s&&d.append("client_secret",s);break}const p=await this._metadataService.getTokenEndpoint(!1);l.debug("got token endpoint");const v=await this._jsonService.postForm(p,{body:d,basicAuth:f,initCredentials:this._settings.fetchRequestCredentials});return l.debug("got response"),v}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,scope:s=this._settings.scope,...o}){const l=this._logger.create("exchangeCredentials");t||l.throw(new Error("A client_id is required"));const d=new URLSearchParams({grant_type:e,scope:s});for(const[g,u]of Object.entries(o))u!=null&&d.set(g,u);let f;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw l.throw(new Error("A client_secret is required")),null;f=Wr.generateBasicAuth(t,n);break;case"client_secret_post":d.append("client_id",t),n&&d.append("client_secret",n);break}const p=await this._metadataService.getTokenEndpoint(!1);l.debug("got token endpoint");const v=await this._jsonService.postForm(p,{body:d,basicAuth:f,initCredentials:this._settings.fetchRequestCredentials});return l.debug("got response"),v}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,timeoutInSeconds:s,...o}){const l=this._logger.create("exchangeRefreshToken");t||l.throw(new Error("A client_id is required")),o.refresh_token||l.throw(new Error("A refresh_token is required"));const d=new URLSearchParams({grant_type:e});for(const[g,u]of Object.entries(o))Array.isArray(u)?u.forEach(h=>d.append(g,h)):u!=null&&d.set(g,u);let f;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw l.throw(new Error("A client_secret is required")),null;f=Wr.generateBasicAuth(t,n);break;case"client_secret_post":d.append("client_id",t),n&&d.append("client_secret",n);break}const p=await this._metadataService.getTokenEndpoint(!1);l.debug("got token endpoint");const v=await this._jsonService.postForm(p,{body:d,basicAuth:f,timeoutInSeconds:s,initCredentials:this._settings.fetchRequestCredentials});return l.debug("got response"),v}async revoke(e){var t;const n=this._logger.create("revoke");e.token||n.throw(new Error("A token is required"));const s=await this._metadataService.getRevocationEndpoint(!1);n.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const o=new URLSearchParams;for(const[l,d]of Object.entries(e))d!=null&&o.set(l,d);o.set("client_id",this._settings.client_id),this._settings.client_secret&&o.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(s,{body:o}),n.debug("got response")}},AN=class{constructor(e,t,n){this._settings=e,this._metadataService=t,this._claimsService=n,this._logger=new Qe("ResponseValidator"),this._userInfoService=new RN(this._settings,this._metadataService),this._tokenClient=new o0(this._settings,this._metadataService)}async validateSigninResponse(e,t){const n=this._logger.create("validateSigninResponse");this._processSigninState(e,t),n.debug("state processed"),await this._processCode(e,t),n.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t==null?void 0:t.skipUserInfo,e.isOpenId),n.debug("claims processed")}async validateCredentialsResponse(e,t){const n=this._logger.create("validateCredentialsResponse");e.isOpenId&&e.id_token&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),n.debug("claims processed")}async validateRefreshResponse(e,t){var n,s;const o=this._logger.create("validateRefreshResponse");e.userState=t.data,(n=e.session_state)!=null||(e.session_state=t.session_state),(s=e.scope)!=null||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),o.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const l=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,l),o.debug("claims processed")}validateSignoutResponse(e,t){const n=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&n.throw(new Error("State does not match")),n.debug("state validated"),e.userState=t.data,e.error)throw n.warn("Response was error",e.error),new ao(e)}_processSigninState(e,t){var n;const s=this._logger.create("_processSigninState");if(t.id!==e.state&&s.throw(new Error("State does not match")),t.client_id||s.throw(new Error("No client_id on state")),t.authority||s.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&s.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&s.throw(new Error("client_id mismatch on settings vs. signin state")),s.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,(n=e.scope)!=null||(e.scope=t.scope),e.error)throw s.warn("Response was error",e.error),new ao(e);t.code_verifier&&!e.code&&s.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,n=!0){const s=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){s.debug("not loading user info");return}s.debug("loading user info");const o=await this._userInfoService.getClaims(e.access_token);s.debug("user info claims received from user info endpoint"),n&&o.sub!==e.profile.sub&&s.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(o)),s.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const n=this._logger.create("_processCode");if(e.code){n.debug("Validating code");const s=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,s)}else n.debug("No code to process")}_validateIdTokenAttributes(e,t){var n;const s=this._logger.create("_validateIdTokenAttributes");s.debug("decoding ID Token JWT");const o=Mp.decode((n=e.id_token)!=null?n:"");if(o.sub||s.throw(new Error("ID Token is missing a subject claim")),t){const l=Mp.decode(t);o.sub!==l.sub&&s.throw(new Error("sub in id_token does not match current sub")),o.auth_time&&o.auth_time!==l.auth_time&&s.throw(new Error("auth_time in id_token does not match original auth_time")),o.azp&&o.azp!==l.azp&&s.throw(new Error("azp in id_token does not match original azp")),!o.azp&&l.azp&&s.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=o}},ha=class{constructor(e){this.id=e.id||Wr.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=Zn.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new Qe("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(e){return Qe.createStatic("State","fromStorageString"),new ha(JSON.parse(e))}static async clearStaleState(e,t){const n=Qe.createStatic("State","clearStaleState"),s=Zn.getEpochTime()-t,o=await e.getAllKeys();n.debug("got keys",o);for(let l=0;l<o.length;l++){const d=o[l],f=await e.get(d);let p=!1;if(f)try{const v=ha.fromStorageString(f);n.debug("got item from key:",d,v.created),v.created<=s&&(p=!0)}catch(v){n.error("Error parsing state for key:",d,v),p=!0}else n.debug("no item in storage for key:",d),p=!0;p&&(n.debug("removed item for key:",d),e.remove(d))}}},$m=class extends ha{constructor(e){super(e),e.code_verifier===!0?this.code_verifier=Wr.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=Wr.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new Qe("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){Qe.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new $m(t)}},IN=class{constructor({url:e,authority:t,client_id:n,redirect_uri:s,response_type:o,scope:l,state_data:d,response_mode:f,request_type:p,client_secret:v,nonce:g,url_state:u,resource:h,skipUserInfo:y,extraQueryParams:b,extraTokenParams:w,disablePKCE:C,...P}){if(this._logger=new Qe("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!n)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!s)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!o)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!l)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new $m({data:d,request_type:p,url_state:u,code_verifier:!C,client_id:n,authority:t,redirect_uri:s,response_mode:f,client_secret:v,scope:l,extraTokenParams:w,skipUserInfo:y});const j=new URL(e);j.searchParams.append("client_id",n),j.searchParams.append("redirect_uri",s),j.searchParams.append("response_type",o),j.searchParams.append("scope",l),g&&j.searchParams.append("nonce",g);let E=this.state.id;u&&(E=`${E}${Op}${u}`),j.searchParams.append("state",E),this.state.code_challenge&&(j.searchParams.append("code_challenge",this.state.code_challenge),j.searchParams.append("code_challenge_method","S256")),h&&(Array.isArray(h)?h:[h]).forEach(D=>j.searchParams.append("resource",D));for(const[L,D]of Object.entries({response_mode:f,...P,...b}))D!=null&&j.searchParams.append(L,D.toString());this.url=j.href}},MN="openid",Xh=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const t=decodeURIComponent(this.state).split(Op);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(Op))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-Zn.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+Zn.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(MN))||!!this.id_token}},LN=class{constructor({url:e,state_data:t,id_token_hint:n,post_logout_redirect_uri:s,extraQueryParams:o,request_type:l,client_id:d}){if(this._logger=new Qe("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const f=new URL(e);n&&f.searchParams.append("id_token_hint",n),d&&f.searchParams.append("client_id",d),s&&(f.searchParams.append("post_logout_redirect_uri",s),t&&(this.state=new ha({data:t,request_type:l}),f.searchParams.append("state",this.state.id)));for(const[p,v]of Object.entries({...o}))v!=null&&f.searchParams.append(p,v.toString());this.url=f.href}},ON=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},DN=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],FN=["sub","iss","aud","exp","iat"],UN=class{constructor(e){this._settings=e,this._logger=new Qe("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let n;Array.isArray(this._settings.filterProtocolClaims)?n=this._settings.filterProtocolClaims:n=DN;for(const s of n)FN.includes(s)||delete t[s]}return t}mergeClaims(e,t){const n={...e};for(const[s,o]of Object.entries(t))for(const l of Array.isArray(o)?o:[o]){const d=n[s];d===void 0?n[s]=l:Array.isArray(d)?d.includes(l)||d.push(l):n[s]!==l&&(typeof l=="object"&&this._settings.mergeClaims?n[s]=this.mergeClaims(d,l):n[s]=[d,l])}return n}},VN=class{constructor(e,t){this._logger=new Qe("OidcClient"),this.settings=e instanceof Dp?e:new Dp(e),this.metadataService=t??new CN(this.settings),this._claimsService=new UN(this.settings),this._validator=new AN(this.settings,this.metadataService,this._claimsService),this._tokenClient=new o0(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:n,request_type:s,id_token_hint:o,login_hint:l,skipUserInfo:d,nonce:f,url_state:p,response_type:v=this.settings.response_type,scope:g=this.settings.scope,redirect_uri:u=this.settings.redirect_uri,prompt:h=this.settings.prompt,display:y=this.settings.display,max_age:b=this.settings.max_age,ui_locales:w=this.settings.ui_locales,acr_values:C=this.settings.acr_values,resource:P=this.settings.resource,response_mode:j=this.settings.response_mode,extraQueryParams:E=this.settings.extraQueryParams,extraTokenParams:L=this.settings.extraTokenParams}){const D=this._logger.create("createSigninRequest");if(v!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const A=await this.metadataService.getAuthorizationEndpoint();D.debug("Received authorization endpoint",A);const I=new IN({url:A,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:u,response_type:v,scope:g,state_data:e,url_state:p,prompt:h,display:y,max_age:b,ui_locales:w,id_token_hint:o,login_hint:l,acr_values:C,resource:P,request:t,request_uri:n,extraQueryParams:E,extraTokenParams:L,request_type:s,response_mode:j,client_secret:this.settings.client_secret,skipUserInfo:d,nonce:f,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const O=I.state;return await this.settings.stateStore.set(O.id,O.toStorageString()),I}async readSigninResponseState(e,t=!1){const n=this._logger.create("readSigninResponseState"),s=new Xh(Lp.readParams(e,this.settings.response_mode));if(!s.state)throw n.throw(new Error("No state in response")),null;const o=await this.settings.stateStore[t?"remove":"get"](s.state);if(!o)throw n.throw(new Error("No matching state found in storage")),null;return{state:$m.fromStorageString(o),response:s}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:n,response:s}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(s,n),s}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n=!1,extraTokenParams:s={}}){const o=await this._tokenClient.exchangeCredentials({username:e,password:t,...s}),l=new Xh(new URLSearchParams);return Object.assign(l,o),await this._validator.validateCredentialsResponse(l,n),l}async useRefreshToken({state:e,timeoutInSeconds:t}){var n;const s=this._logger.create("useRefreshToken");let o;if(this.settings.refreshTokenAllowedScope===void 0)o=e.scope;else{const f=this.settings.refreshTokenAllowedScope.split(" ");o=(((n=e.scope)==null?void 0:n.split(" "))||[]).filter(v=>f.includes(v)).join(" ")}const l=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,resource:e.resource,scope:o,timeoutInSeconds:t}),d=new Xh(new URLSearchParams);return Object.assign(d,l),s.debug("validating response",d),await this._validator.validateRefreshResponse(d,{...e,scope:o}),d}async createSignoutRequest({state:e,id_token_hint:t,client_id:n,request_type:s,post_logout_redirect_uri:o=this.settings.post_logout_redirect_uri,extraQueryParams:l=this.settings.extraQueryParams}={}){const d=this._logger.create("createSignoutRequest"),f=await this.metadataService.getEndSessionEndpoint();if(!f)throw d.throw(new Error("No end session endpoint")),null;d.debug("Received end session endpoint",f),!n&&o&&!t&&(n=this.settings.client_id);const p=new LN({url:f,id_token_hint:t,client_id:n,post_logout_redirect_uri:o,state_data:e,extraQueryParams:l,request_type:s});await this.clearStaleState();const v=p.state;return v&&(d.debug("Signout request has state to persist"),await this.settings.stateStore.set(v.id,v.toStorageString())),p}async readSignoutResponseState(e,t=!1){const n=this._logger.create("readSignoutResponseState"),s=new ON(Lp.readParams(e,this.settings.response_mode));if(!s.state){if(n.debug("No state in response"),s.error)throw n.warn("Response was error:",s.error),new ao(s);return{state:void 0,response:s}}const o=await this.settings.stateStore[t?"remove":"get"](s.state);if(!o)throw n.throw(new Error("No matching state found in storage")),null;return{state:ha.fromStorageString(o),response:s}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:n,response:s}=await this.readSignoutResponseState(e,!0);return n?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(s,n)):t.debug("No state from storage; skipping response validation"),s}clearStaleState(){return this._logger.create("clearStaleState"),ha.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},$N=class{constructor(e){this._userManager=e,this._logger=new Qe("SessionMonitor"),this._start=async t=>{const n=t.session_state;if(!n)return;const s=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,s.debug("session_state",n,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,s.debug("session_state",n,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(n);return}try{const o=await this._userManager.metadataService.getCheckSessionIframe();if(o){s.debug("initializing check session iframe");const l=this._userManager.settings.client_id,d=this._userManager.settings.checkSessionIntervalInSeconds,f=this._userManager.settings.stopCheckSessionOnError,p=new SN(this._callback,l,o,d,f);await p.load(),this._checkSessionIFrame=p,p.start(n)}else s.warn("no check session iframe found in the metadata")}catch(o){s.error("Error from getCheckSessionIframe:",o instanceof Error?o.message:o)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const n=setInterval(async()=>{clearInterval(n);try{const s=await this._userManager.querySessionStatus();if(s){const o={session_state:s.session_state,profile:s.sub&&s.sid?{sub:s.sub,sid:s.sid}:null};this._start(o)}}catch(s){t.error("error from querySessionStatus",s instanceof Error?s.message:s)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const n=await this._userManager.querySessionStatus();let s=!0;n&&this._checkSessionIFrame?n.sub===this._sub?(s=!1,this._checkSessionIFrame.start(n.session_state),n.sid===this._sid?t.debug("same sub still logged in at OP, restarting check session iframe; session_state",n.session_state):(t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",n.session_state),this._userManager.events._raiseUserSessionChanged())):t.debug("different subject signed into OP",n.sub):t.debug("subject no longer signed into OP"),s?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(n){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",n),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const n={session_state:t.session_state,profile:t.sub&&t.sid?{sub:t.sub,sid:t.sid}:null};this._start(n)}}}},qu=class{constructor(t){var n;this.id_token=t.id_token,this.session_state=(n=t.session_state)!=null?n:null,this.access_token=t.access_token,this.refresh_token=t.refresh_token,this.token_type=t.token_type,this.scope=t.scope,this.profile=t.profile,this.expires_at=t.expires_at,this.state=t.userState,this.url_state=t.url_state}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-Zn.getEpochTime()}set expires_in(t){t!==void 0&&(this.expires_at=Math.floor(t)+Zn.getEpochTime())}get expired(){const t=this.expires_in;if(t!==void 0)return t<=0}get scopes(){var t,n;return(n=(t=this.scope)==null?void 0:t.split(" "))!=null?n:[]}toStorageString(){return new Qe("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(t){return Qe.createStatic("User","fromStorageString"),new qu(JSON.parse(t))}},Nx="oidc-client",a0=class{constructor(){this._abort=new Ys("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:n,keepOpen:s}=await new Promise((o,l)=>{const d=f=>{var p;const v=f.data,g=(p=e.scriptOrigin)!=null?p:window.location.origin;if(!(f.origin!==g||(v==null?void 0:v.source)!==Nx)){try{const u=Lp.readParams(v.url,e.response_mode).get("state");if(u||t.warn("no state found in response url"),f.source!==this._window&&u!==e.state)return}catch{this._dispose(),l(new Error("Invalid response from window"))}o(v)}};window.addEventListener("message",d,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",d,!1)),this._disposeHandlers.add(this._abort.addHandler(f=>{this._dispose(),l(f)}))});return t.debug("got response from window"),this._dispose(),s||this.close(),{url:n}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,n=!1,s=window.location.origin){e.postMessage({source:Nx,url:t,keepOpen:n},s)}},l0={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},c0="_blank",BN=60,zN=2,u0=10,HN=class extends Dp{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:n=e.post_logout_redirect_uri,popupWindowFeatures:s=l0,popupWindowTarget:o=c0,redirectMethod:l="assign",redirectTarget:d="self",iframeNotifyParentOrigin:f=e.iframeNotifyParentOrigin,iframeScriptOrigin:p=e.iframeScriptOrigin,silent_redirect_uri:v=e.redirect_uri,silentRequestTimeoutInSeconds:g=u0,automaticSilentRenew:u=!0,validateSubOnSilentRenew:h=!0,includeIdTokenInSilentRenew:y=!1,monitorSession:b=!1,monitorAnonymousSession:w=!1,checkSessionIntervalInSeconds:C=zN,query_status_response_type:P="code",stopCheckSessionOnError:j=!0,revokeTokenTypes:E=["access_token","refresh_token"],revokeTokensOnSignout:L=!1,includeIdTokenInSilentSignout:D=!1,accessTokenExpiringNotificationTimeInSeconds:A=BN,userStore:I}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=n,this.popupWindowFeatures=s,this.popupWindowTarget=o,this.redirectMethod=l,this.redirectTarget=d,this.iframeNotifyParentOrigin=f,this.iframeScriptOrigin=p,this.silent_redirect_uri=v,this.silentRequestTimeoutInSeconds=g,this.automaticSilentRenew=u,this.validateSubOnSilentRenew=h,this.includeIdTokenInSilentRenew=y,this.monitorSession=b,this.monitorAnonymousSession=w,this.checkSessionIntervalInSeconds=C,this.stopCheckSessionOnError=j,this.query_status_response_type=P,this.revokeTokenTypes=E,this.revokeTokensOnSignout=L,this.includeIdTokenInSilentSignout=D,this.accessTokenExpiringNotificationTimeInSeconds=A,I)this.userStore=I;else{const O=typeof window<"u"?window.sessionStorage:new i0;this.userStore=new Vm({store:O})}}},Fp=class extends a0{constructor({silentRequestTimeoutInSeconds:e=u0}){super(),this._logger=new Qe("IFrameWindow"),this._timeoutInSeconds=e,this._frame=Fp.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>this._abort.raise(new Fm("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",t=>{var n;const s=t.target;(n=s.parentNode)==null||n.removeChild(s),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(e=this._frame.contentWindow)==null||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},WN=class{constructor(e){this._settings=e,this._logger=new Qe("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new Fp({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),Fp.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},qN=500,GN=1e3,Ex=class extends a0{constructor({popupWindowTarget:e=c0,popupWindowFeatures:t={}}){super(),this._logger=new Qe("PopupWindow");const n=Tx.center({...l0,...t});this._window=window.open(void 0,e,Tx.serialize(n)),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{if(!this._window||typeof this._window.closed!="boolean"||this._window.closed){this._abort.raise(new Error("Popup blocked by user"));return}this.close()},t.closePopupWindowAfterInSeconds*GN)}async navigate(e){var t;(t=this._window)==null||t.focus();const n=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(new Error("Popup closed by user"))},qN);return this._disposeHandlers.add(()=>clearInterval(n)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},KN=class{constructor(e){this._settings=e,this._logger=new Qe("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new Ex({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),Ex.notifyOpener(e,t)}},XN=class{constructor(e){this._settings=e,this._logger=new Qe("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var n;this._logger.create("prepare");let s=window.self;t==="top"&&(s=(n=window.top)!=null?n:window.self);const o=s.location[e].bind(s.location);let l;return{navigate:async d=>{this._logger.create("navigate");const f=new Promise((p,v)=>{l=v});return o(d.url),await f},close:()=>{this._logger.create("close"),l==null||l(new Error("Redirect aborted")),s.stop()}}}async callback(){}},YN=class extends bN{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new Qe("UserManagerEvents"),this._userLoaded=new Ys("User loaded"),this._userUnloaded=new Ys("User unloaded"),this._silentRenewError=new Ys("Silent renew error"),this._userSignedIn=new Ys("User signed in"),this._userSignedOut=new Ys("User signed out"),this._userSessionChanged=new Ys("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},QN=class{constructor(e){this._userManager=e,this._logger=new Qe("SilentRenewService"),this._isStarted=!1,this._retryTimer=new Zn("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(n){if(n instanceof Fm){t.warn("ErrorTimeout from signinSilent:",n,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",n),this._userManager.events._raiseSilentRenewError(n)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},JN=class{constructor(e,t){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.resource=t,this.data=e.state}},ZN=class{constructor(e,t,n,s){this._logger=new Qe("UserManager"),this.settings=new HN(e),this._client=new VN(e),this._redirectNavigator=t??new XN(this.settings),this._popupNavigator=n??new KN(this.settings),this._iframeNavigator=s??new WN(this.settings),this._events=new YN(this.settings),this._silentRenewService=new QN(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new $N(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...n}=e,s=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...n},s)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),n=await this._signinEnd(e);return n.profile&&n.profile.sub?t.info("success, signed in subject",n.profile.sub):t.info("no subject"),n}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:n=!1}){const s=this._logger.create("signinResourceOwnerCredential"),o=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n,extraTokenParams:this.settings.extraTokenParams});s.debug("got signin response");const l=await this._buildUser(o);return l.profile&&l.profile.sub?s.info("success, signed in subject",l.profile.sub):s.info("no subject"),l}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:n,popupWindowTarget:s,...o}=e,l=this.settings.popup_redirect_uri;l||t.throw(new Error("No popup_redirect_uri configured"));const d=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:s}),f=await this._signin({request_type:"si:p",redirect_uri:l,display:"popup",...o},d);return f&&(f.profile&&f.profile.sub?t.info("success, signed in subject",f.profile.sub):t.info("no subject")),f}async signinPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async signinSilent(e={}){var t;const n=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:s,resource:o,...l}=e;let d=await this._loadUser();if(d!=null&&d.refresh_token){n.debug("using refresh token");const g=new JN(d,o);return await this._useRefreshToken(g)}const f=this.settings.silent_redirect_uri;f||n.throw(new Error("No silent_redirect_uri configured"));let p;d&&this.settings.validateSubOnSilentRenew&&(n.debug("subject prior to silent renew:",d.profile.sub),p=d.profile.sub);const v=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:s});return d=await this._signin({request_type:"si:s",redirect_uri:f,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?d==null?void 0:d.id_token:void 0,...l},v,p),d&&((t=d.profile)!=null&&t.sub?n.info("success, signed in subject",d.profile.sub):n.info("no subject")),d}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),n=new qu({...e,...t});return await this.storeUser(n),this._events.load(n),n}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:n}=await this._client.readSignoutResponseState(e);if(n)switch(n.request_type){case"so:r":return await this.signoutRedirectCallback(e);case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:n,...s}=e,o=this.settings.silent_redirect_uri;o||t.throw(new Error("No silent_redirect_uri configured"));const l=await this._loadUser(),d=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n}),f=await this._signinStart({request_type:"si:s",redirect_uri:o,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?l==null?void 0:l.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...s},d);try{const p=await this._client.processSigninResponse(f.url);return t.debug("got signin response"),p.session_state&&p.profile.sub?(t.info("success for subject",p.profile.sub),{session_state:p.session_state,sub:p.profile.sub,sid:p.profile.sid}):(t.info("success, user not authenticated"),null)}catch(p){if(this.settings.monitorAnonymousSession&&p instanceof ao)switch(p.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:p.session_state}}throw p}}async _signin(e,t,n){const s=await this._signinStart(e,t);return await this._signinEnd(s.url,n)}async _signinStart(e,t){const n=this._logger.create("_signinStart");try{const s=await this._client.createSigninRequest(e);return n.debug("got signin request"),await t.navigate({url:s.url,state:s.state.id,response_mode:s.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(s){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),s}}async _signinEnd(e,t){const n=this._logger.create("_signinEnd"),s=await this._client.processSigninResponse(e);return n.debug("got signin response"),await this._buildUser(s,t)}async _buildUser(e,t){const n=this._logger.create("_buildUser"),s=new qu(e);if(t){if(t!==s.profile.sub)throw n.debug("current user does not match user returned from signin. sub from signin:",s.profile.sub),new ao({...e,error:"login_required"});n.debug("current user matches user returned from signin")}return await this.storeUser(s),n.debug("user stored"),this._events.load(s),s}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:n,...s}=e,o=await this._redirectNavigator.prepare({redirectMethod:n});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...s},o),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),n=await this._signoutEnd(e);return t.info("success"),n}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:n,popupWindowTarget:s,...o}=e,l=this.settings.popup_post_logout_redirect_uri,d=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:s});await this._signout({request_type:"so:p",post_logout_redirect_uri:l,state:l==null?void 0:{},...o},d),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async _signout(e,t){const n=await this._signoutStart(e,t);return await this._signoutEnd(n.url)}async _signoutStart(e={},t){var n;const s=this._logger.create("_signoutStart");try{const o=await this._loadUser();s.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(o);const l=e.id_token_hint||o&&o.id_token;l&&(s.debug("setting id_token_hint in signout request"),e.id_token_hint=l),await this.removeUser(),s.debug("user removed, creating signout request");const d=await this._client.createSignoutRequest(e);return s.debug("got signout request"),await t.navigate({url:d.url,state:(n=d.state)==null?void 0:n.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(o){throw s.debug("error after preparing navigator, closing navigator window"),t.close(),o}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),n=await this._client.processSignoutResponse(e);return t.debug("got signout response"),n}async signoutSilent(e={}){var t;const n=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:s,...o}=e,l=this.settings.includeIdTokenInSilentSignout?(t=await this._loadUser())==null?void 0:t.id_token:void 0,d=this.settings.popup_post_logout_redirect_uri,f=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:s});await this._signout({request_type:"so:s",post_logout_redirect_uri:d,id_token_hint:l,...o},f),n.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const n=this._logger.create("_revokeInternal");if(!e)return;const s=t.filter(o=>typeof e[o]=="string");if(!s.length){n.debug("no need to revoke due to no token(s)");return}for(const o of s)await this._client.revokeToken(e[o],o),n.info(`${o} revoked successfully`),o!=="access_token"&&(e[o]=null);await this.storeUser(e),n.debug("user stored"),this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),qu.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const n=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,n)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}},Bm=U.createContext(void 0);Bm.displayName="AuthContext";var eE={isLoading:!0,isAuthenticated:!1},tE=(e,t)=>{switch(t.type){case"INITIALISED":case"USER_LOADED":return{...e,user:t.user,isLoading:!1,isAuthenticated:t.user?!t.user.expired:!1,error:void 0};case"USER_SIGNED_OUT":case"USER_UNLOADED":return{...e,user:void 0,isAuthenticated:!1};case"NAVIGATOR_INIT":return{...e,isLoading:!0,activeNavigator:t.method};case"NAVIGATOR_CLOSE":return{...e,isLoading:!1,activeNavigator:void 0};case"ERROR":return{...e,isLoading:!1,error:t.error};default:return{...e,isLoading:!1,error:new Error(`unknown type ${t.type}`)}}},nE=(e=window.location)=>{let t=new URLSearchParams(e.search);return!!((t.get("code")||t.get("error"))&&t.get("state")||(t=new URLSearchParams(e.hash.replace("#","?")),(t.get("code")||t.get("error"))&&t.get("state")))},d0=e=>t=>t instanceof Error?t:new Error(e),rE=d0("Login failed"),sE=d0("Sign-out failed"),iE=["clearStaleState","querySessionStatus","revokeTokens","startSilentRenew","stopSilentRenew"],oE=["signinPopup","signinSilent","signinRedirect","signinResourceOwnerCredentials","signoutPopup","signoutRedirect","signoutSilent"],Yh=e=>()=>{throw new Error(`UserManager#${e} was called from an unsupported context. If this is a server-rendered page, defer this call with useEffect() or pass a custom UserManager implementation.`)},aE=typeof window>"u"?null:ZN,lE=e=>{const{children:t,onSigninCallback:n,skipSigninCallback:s,matchSignoutCallback:o,onSignoutCallback:l,onRemoveUser:d,onSignoutRedirect:f,onSignoutPopup:p,implementation:v=aE,userManager:g,...u}=e,[h]=U.useState(()=>g??(v?new v(u):{settings:u})),[y,b]=U.useReducer(tE,eE),w=U.useMemo(()=>Object.assign({settings:h.settings,events:h.events},Object.fromEntries(iE.map(A=>{var I,O;return[A,(O=(I=h[A])==null?void 0:I.bind(h))!=null?O:Yh(A)]})),Object.fromEntries(oE.map(A=>[A,h[A]?async I=>{b({type:"NAVIGATOR_INIT",method:A});try{return await h[A](I)}catch(O){return b({type:"ERROR",error:O}),null}finally{b({type:"NAVIGATOR_CLOSE"})}}:Yh(A)]))),[h]),C=U.useRef(!1);U.useEffect(()=>{!h||C.current||(C.current=!0,(async()=>{let A=null;try{nE()&&!s&&(A=await h.signinCallback(),n&&await n(A)),A=A||await h.getUser(),b({type:"INITIALISED",user:A})}catch(I){b({type:"ERROR",error:rE(I)})}try{if(o&&o(h.settings)){const I=await h.signoutCallback();l&&await l(I)}}catch(I){b({type:"ERROR",error:sE(I)})}})())},[h,s,n,l,o]),U.useEffect(()=>{if(!h)return;const A=K=>{b({type:"USER_LOADED",user:K})};h.events.addUserLoaded(A);const I=()=>{b({type:"USER_UNLOADED"})};h.events.addUserUnloaded(I);const O=()=>{b({type:"USER_SIGNED_OUT"})};h.events.addUserSignedOut(O);const F=K=>{b({type:"ERROR",error:K})};return h.events.addSilentRenewError(F),()=>{h.events.removeUserLoaded(A),h.events.removeUserUnloaded(I),h.events.removeUserSignedOut(O),h.events.removeSilentRenewError(F)}},[h]);const P=U.useCallback(h?()=>h.removeUser().then(d):Yh("removeUser"),[h,d]),j=U.useCallback(A=>w.signoutRedirect(A).then(f),[w.signoutRedirect,f]),E=U.useCallback(A=>w.signoutPopup(A).then(p),[w.signoutPopup,p]),L=U.useCallback(A=>w.signoutSilent(A),[w.signoutSilent]),D=U.useMemo(()=>({...y,...w,removeUser:P,signoutRedirect:j,signoutPopup:E,signoutSilent:L}),[y,w,P]);return U.createElement(Bm.Provider,{value:D},t)},sc=()=>{const e=U.useContext(Bm);return e||console.warn("AuthProvider context is undefined, please verify you are calling useAuth() as child of a <AuthProvider> component."),e};const cE="modulepreload",uE=function(e){return"/"+e},Rx={},so=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let d=function(v){return Promise.all(v.map(g=>Promise.resolve(g).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=d(n.map(v=>{if(v=uE(v),v in Rx)return;Rx[v]=!0;const g=v.endsWith(".css"),u=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${u}`))return;const h=document.createElement("link");if(h.rel=g?"stylesheet":cE,g||(h.as="script"),h.crossOrigin="",h.href=v,p&&h.setAttribute("nonce",p),document.head.appendChild(h),g)return new Promise((y,b)=>{h.addEventListener("load",y),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})};function Le(e){if(!e)return"/";if(e.startsWith("/"))return e;const[t,n]=e.split("?"),s="/"+(t||"").trim();return n?`${s}?${n}`:s}function dE(e){return async(t={})=>({ok:!0,data:{message:`Mocked function ${e}`}})}const fE=new Proxy({invoke:async(e,t={})=>({ok:!0,data:{message:`Mocked invoke ${e}`}})},{get(e,t){return t in this?this[t]:dE(t)}});function hE(e){return{list:async(t={})=>({ok:!0,data:[]}),get:async t=>({ok:!0,data:null}),create:async(t={})=>({ok:!0,data:{message:"created (mock)"}}),update:async(t,n)=>({ok:!0,data:{message:"updated (mock)"}}),schema:async()=>({properties:{}}),me:async()=>null}}const pE=new Proxy({},{get(e,t){return hE()}}),mE={Core:new Proxy({},{get(e,t){return async(n={})=>({ok:!0,data:{message:`Mocked integration Core.${String(t)}`}})}})},f0={updateMe:async(e={})=>({ok:!0,data:{message:"updateMe mocked"}}),updateMyUserData:async(e={})=>f0.updateMe(e),me:async()=>null},st={functions:fE,entities:pE,integrations:mE,auth:f0},gE=st.entities.Medication,vE=st.entities.Pharmacy,Tl=st.entities.Thread,Up=st.entities.Message,ad=st.entities.Notification,yE=st.entities.AppSettings,Ht=st.entities.MedicationRequest,xE=st.entities.Practice,Ml=st.entities.PharmacyStats,na=st.entities.PharmacyMedicationPrice,Je=st.auth,ni=Object.freeze(Object.defineProperty({__proto__:null,AppSettings:yE,Medication:gE,MedicationRequest:Ht,Message:Up,Notification:ad,Pharmacy:vE,PharmacyMedicationPrice:na,PharmacyStats:Ml,Practice:xE,Thread:Tl,User:Je},Symbol.toStringTag,{value:"Module"}));function Ax(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jd(...e){return t=>{let n=!1;const s=e.map(o=>{const l=Ax(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Ax(e[o],null)}}}}function mt(...e){return S.useCallback(jd(...e),e)}function oi(e){const t=wE(e),n=S.forwardRef((s,o)=>{const{children:l,...d}=s,f=S.Children.toArray(l),p=f.find(SE);if(p){const v=p.props.children,g=f.map(u=>u===p?S.Children.count(v)>1?S.Children.only(null):S.isValidElement(v)?v.props.children:null:u);return a.jsx(t,{...d,ref:o,children:S.isValidElement(v)?S.cloneElement(v,void 0,g):null})}return a.jsx(t,{...d,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var _E=oi("Slot");function wE(e){const t=S.forwardRef((n,s)=>{const{children:o,...l}=n;if(S.isValidElement(o)){const d=kE(o),f=CE(l,o.props);return o.type!==S.Fragment&&(f.ref=s?jd(s,d):d),S.cloneElement(o,f)}return S.Children.count(o)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bE=Symbol("radix.slottable");function SE(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bE}function CE(e,t){const n={...t};for(const s in t){const o=e[s],l=t[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...f)=>{const p=l(...f);return o(...f),p}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function kE(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function h0(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=h0(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function p0(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=h0(e))&&(s&&(s+=" "),s+=t);return s}const Ix=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Mx=p0,ic=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Mx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=t,d=Object.keys(o).map(v=>{const g=n==null?void 0:n[v],u=l==null?void 0:l[v];if(g===null)return null;const h=Ix(g)||Ix(u);return o[v][h]}),f=n&&Object.entries(n).reduce((v,g)=>{let[u,h]=g;return h===void 0||(v[u]=h),v},{}),p=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((v,g)=>{let{class:u,className:h,...y}=g;return Object.entries(y).every(b=>{let[w,C]=b;return Array.isArray(C)?C.includes({...l,...f}[w]):{...l,...f}[w]===C})?[...v,u,h]:v},[]);return Mx(e,d,p,n==null?void 0:n.class,n==null?void 0:n.className)},zm="-",jE=e=>{const t=TE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:d=>{const f=d.split(zm);return f[0]===""&&f.length!==1&&f.shift(),m0(f,t)||PE(d)},getConflictingClassGroupIds:(d,f)=>{const p=n[d]||[];return f&&s[d]?[...p,...s[d]]:p}}},m0=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?m0(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(zm);return(d=t.validators.find(({validator:f})=>f(l)))==null?void 0:d.classGroupId},Lx=/^\[(.+)\]$/,PE=e=>{if(Lx.test(e)){const t=Lx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},TE=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const o in n)Vp(n[o],s,o,t);return s},Vp=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:Ox(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(NE(o)){Vp(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,d])=>{Vp(d,Ox(t,l),n,s)})})},Ox=(e,t)=>{let n=e;return t.split(zm).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},NE=e=>e.isThemeGetter,EE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(l,d)=>{n.set(l,d),t++,t>e&&(t=0,s=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=s.get(l))!==void 0)return o(l,d),d},set(l,d){n.has(l)?n.set(l,d):o(l,d)}}},$p="!",Bp=":",RE=Bp.length,AE=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=o=>{const l=[];let d=0,f=0,p=0,v;for(let b=0;b<o.length;b++){let w=o[b];if(d===0&&f===0){if(w===Bp){l.push(o.slice(p,b)),p=b+RE;continue}if(w==="/"){v=b;continue}}w==="["?d++:w==="]"?d--:w==="("?f++:w===")"&&f--}const g=l.length===0?o:o.substring(p),u=IE(g),h=u!==g,y=v&&v>p?v-p:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:u,maybePostfixModifierPosition:y}};if(t){const o=t+Bp,l=s;s=d=>d.startsWith(o)?l(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=l=>n({className:l,parseClassName:o})}return s},IE=e=>e.endsWith($p)?e.substring(0,e.length-1):e.startsWith($p)?e.substring(1):e,ME=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let l=[];return s.forEach(d=>{d[0]==="["||t[d]?(o.push(...l.sort(),d),l=[]):l.push(d)}),o.push(...l.sort()),o}},LE=e=>({cache:EE(e.cacheSize),parseClassName:AE(e),sortModifiers:ME(e),...jE(e)}),OE=/\s+/,DE=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=t,d=[],f=e.trim().split(OE);let p="";for(let v=f.length-1;v>=0;v-=1){const g=f[v],{isExternal:u,modifiers:h,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:w}=n(g);if(u){p=g+(p.length>0?" "+p:p);continue}let C=!!w,P=s(C?b.substring(0,w):b);if(!P){if(!C){p=g+(p.length>0?" "+p:p);continue}if(P=s(b),!P){p=g+(p.length>0?" "+p:p);continue}C=!1}const j=l(h).join(":"),E=y?j+$p:j,L=E+P;if(d.includes(L))continue;d.push(L);const D=o(P,C);for(let A=0;A<D.length;++A){const I=D[A];d.push(E+I)}p=g+(p.length>0?" "+p:p)}return p};function FE(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=g0(t))&&(s&&(s+=" "),s+=n);return s}const g0=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=g0(e[s]))&&(n&&(n+=" "),n+=t);return n};function UE(e,...t){let n,s,o,l=d;function d(p){const v=t.reduce((g,u)=>u(g),e());return n=LE(v),s=n.cache.get,o=n.cache.set,l=f,f(p)}function f(p){const v=s(p);if(v)return v;const g=DE(p,n);return o(p,g),g}return function(){return l(FE.apply(null,arguments))}}const Xt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},v0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,y0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VE=/^\d+\/\d+$/,$E=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,HE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xo=e=>VE.test(e),nt=e=>!!e&&!Number.isNaN(Number(e)),qs=e=>!!e&&Number.isInteger(Number(e)),Qh=e=>e.endsWith("%")&&nt(e.slice(0,-1)),hs=e=>$E.test(e),qE=()=>!0,GE=e=>BE.test(e)&&!zE.test(e),x0=()=>!1,KE=e=>HE.test(e),XE=e=>WE.test(e),YE=e=>!Ee(e)&&!Re(e),QE=e=>wa(e,b0,x0),Ee=e=>v0.test(e),Yi=e=>wa(e,S0,GE),Jh=e=>wa(e,nR,nt),Dx=e=>wa(e,_0,x0),JE=e=>wa(e,w0,XE),Pu=e=>wa(e,C0,KE),Re=e=>y0.test(e),Sl=e=>ba(e,S0),ZE=e=>ba(e,rR),Fx=e=>ba(e,_0),eR=e=>ba(e,b0),tR=e=>ba(e,w0),Tu=e=>ba(e,C0,!0),wa=(e,t,n)=>{const s=v0.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},ba=(e,t,n=!1)=>{const s=y0.exec(e);return s?s[1]?t(s[1]):n:!1},_0=e=>e==="position"||e==="percentage",w0=e=>e==="image"||e==="url",b0=e=>e==="length"||e==="size"||e==="bg-size",S0=e=>e==="length",nR=e=>e==="number",rR=e=>e==="family-name",C0=e=>e==="shadow",sR=()=>{const e=Xt("color"),t=Xt("font"),n=Xt("text"),s=Xt("font-weight"),o=Xt("tracking"),l=Xt("leading"),d=Xt("breakpoint"),f=Xt("container"),p=Xt("spacing"),v=Xt("radius"),g=Xt("shadow"),u=Xt("inset-shadow"),h=Xt("text-shadow"),y=Xt("drop-shadow"),b=Xt("blur"),w=Xt("perspective"),C=Xt("aspect"),P=Xt("ease"),j=Xt("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...L(),Re,Ee],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],O=()=>[Re,Ee,p],F=()=>[Xo,"full","auto",...O()],K=()=>[qs,"none","subgrid",Re,Ee],ne=()=>["auto",{span:["full",qs,Re,Ee]},qs,Re,Ee],de=()=>[qs,"auto",Re,Ee],te=()=>["auto","min","max","fr",Re,Ee],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],ve=()=>["auto",...O()],pe=()=>[Xo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],W=()=>[e,Re,Ee],J=()=>[...L(),Fx,Dx,{position:[Re,Ee]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",eR,QE,{size:[Re,Ee]}],ee=()=>[Qh,Sl,Yi],xe=()=>["","none","full",v,Re,Ee],q=()=>["",nt,Sl,Yi],Y=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[nt,Qh,Fx,Dx],ge=()=>["","none",b,Re,Ee],we=()=>["none",nt,Re,Ee],Oe=()=>["none",nt,Re,Ee],Ue=()=>[nt,Re,Ee],le=()=>[Xo,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hs],breakpoint:[hs],color:[qE],container:[hs],"drop-shadow":[hs],ease:["in","out","in-out"],font:[YE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hs],shadow:[hs],spacing:["px",nt],text:[hs],"text-shadow":[hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xo,Ee,Re,C]}],container:["container"],columns:[{columns:[nt,Ee,Re,f]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[qs,"auto",Re,Ee]}],basis:[{basis:[Xo,"full","auto",f,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nt,Xo,"auto","initial","none",Ee]}],grow:[{grow:["",nt,Re,Ee]}],shrink:[{shrink:["",nt,Re,Ee]}],order:[{order:[qs,"first","last","none",Re,Ee]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:ve()}],mx:[{mx:ve()}],my:[{my:ve()}],ms:[{ms:ve()}],me:[{me:ve()}],mt:[{mt:ve()}],mr:[{mr:ve()}],mb:[{mb:ve()}],ml:[{ml:ve()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[f,"screen",...pe()]}],"min-w":[{"min-w":[f,"screen","none",...pe()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",n,Sl,Yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Re,Jh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qh,Ee]}],"font-family":[{font:[ZE,Ee,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Re,Ee]}],"line-clamp":[{"line-clamp":[nt,"none",Re,Jh]}],leading:[{leading:[l,...O()]}],"list-image":[{"list-image":["none",Re,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[nt,"from-font","auto",Re,Yi]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[nt,"auto",Re,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qs,Re,Ee],radial:["",Re,Ee],conic:[qs,Re,Ee]},tR,JE]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:xe()}],"rounded-s":[{"rounded-s":xe()}],"rounded-e":[{"rounded-e":xe()}],"rounded-t":[{"rounded-t":xe()}],"rounded-r":[{"rounded-r":xe()}],"rounded-b":[{"rounded-b":xe()}],"rounded-l":[{"rounded-l":xe()}],"rounded-ss":[{"rounded-ss":xe()}],"rounded-se":[{"rounded-se":xe()}],"rounded-ee":[{"rounded-ee":xe()}],"rounded-es":[{"rounded-es":xe()}],"rounded-tl":[{"rounded-tl":xe()}],"rounded-tr":[{"rounded-tr":xe()}],"rounded-br":[{"rounded-br":xe()}],"rounded-bl":[{"rounded-bl":xe()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nt,Re,Ee]}],"outline-w":[{outline:["",nt,Sl,Yi]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",g,Tu,Pu]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",u,Tu,Pu]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[nt,Yi]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",h,Tu,Pu]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[nt,Re,Ee]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Re,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Ee]}],filter:[{filter:["","none",Re,Ee]}],blur:[{blur:ge()}],brightness:[{brightness:[nt,Re,Ee]}],contrast:[{contrast:[nt,Re,Ee]}],"drop-shadow":[{"drop-shadow":["","none",y,Tu,Pu]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",nt,Re,Ee]}],"hue-rotate":[{"hue-rotate":[nt,Re,Ee]}],invert:[{invert:["",nt,Re,Ee]}],saturate:[{saturate:[nt,Re,Ee]}],sepia:[{sepia:["",nt,Re,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Ee]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[nt,Re,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[nt,Re,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nt,Re,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt,Re,Ee]}],"backdrop-invert":[{"backdrop-invert":["",nt,Re,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[nt,Re,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[nt,Re,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",nt,Re,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nt,"initial",Re,Ee]}],ease:[{ease:["linear","initial",P,Re,Ee]}],delay:[{delay:[nt,Re,Ee]}],animate:[{animate:["none",j,Re,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Re,Ee]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[Re,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Ee]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[nt,Sl,Yi,Jh]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iR=UE(sR);function Be(...e){return iR(p0(e))}var Zh={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var Ux;function oR(){return Ux||(Ux=1,(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var u=this||n;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var h=this||n;if(u=parseFloat(u),h.ctx||g(),typeof u<"u"&&u>=0&&u<=1){if(h._volume=u,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u,n.ctx.currentTime);for(var y=0;y<h._howls.length;y++)if(!h._howls[y]._webAudio)for(var b=h._howls[y]._getSoundIds(),w=0;w<b.length;w++){var C=h._howls[y]._soundById(b[w]);C&&C._node&&(C._node.volume=C._volume*u)}return h}return h._volume},mute:function(u){var h=this||n;h.ctx||g(),h._muted=u,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u?0:h._volume,n.ctx.currentTime);for(var y=0;y<h._howls.length;y++)if(!h._howls[y]._webAudio)for(var b=h._howls[y]._getSoundIds(),w=0;w<b.length;w++){var C=h._howls[y]._soundById(b[w]);C&&C._node&&(C._node.muted=u?!0:C._muted)}return h},stop:function(){for(var u=this||n,h=0;h<u._howls.length;h++)u._howls[h].stop();return u},unload:function(){for(var u=this||n,h=u._howls.length-1;h>=0;h--)u._howls[h].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,g()),u},codecs:function(u){return(this||n)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||n;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var h=new Audio;h.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||n,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return u}if(!h||typeof h.canPlayType!="function")return u;var y=h.canPlayType("audio/mpeg;").replace(/^no$/,""),b=u._navigator?u._navigator.userAgent:"",w=b.match(/OPR\/(\d+)/g),C=w&&parseInt(w[0].split("/")[1],10)<33,P=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,j=b.match(/Version\/(.*?) /),E=P&&j&&parseInt(j[1],10)<15;return u._codecs={mp3:!!(!C&&(y||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||n;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var h=function(y){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,u._releaseHtml5Audio(b)}catch{u.noAudio=!0;break}for(var w=0;w<u._howls.length;w++)if(!u._howls[w]._webAudio)for(var C=u._howls[w]._getSoundIds(),P=0;P<C.length;P++){var j=u._howls[w]._soundById(C[P]);j&&j._node&&!j._node._unlocked&&(j._node._unlocked=!0,j._node.load())}u._autoResume();var E=u.ctx.createBufferSource();E.buffer=u._scratchBuffer,E.connect(u.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),E.onended=function(){E.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var L=0;L<u._howls.length;L++)u._howls[L]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),u}},_obtainHtml5Audio:function(){var u=this||n;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var h=this||n;return u._unlocked&&h._html5AudioPool.push(u),h},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!n.usingWebAudio)){for(var h=0;h<u._howls.length;h++)if(u._howls[h]._webAudio){for(var y=0;y<u._howls[h]._sounds.length;y++)if(!u._howls[h]._sounds[y]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var b=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(b,b)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!n.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var h=0;h<u._howls.length;h++)u._howls[h]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var n=new t,s=function(u){var h=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(u)};s.prototype={init:function(u){var h=this;return n.ctx||g(),h._autoplay=u.autoplay||!1,h._format=typeof u.format!="string"?u.format:[u.format],h._html5=u.html5||!1,h._muted=u.mute||!1,h._loop=u.loop||!1,h._pool=u.pool||5,h._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,h._rate=u.rate||1,h._sprite=u.sprite||{},h._src=typeof u.src!="string"?u.src:[u.src],h._volume=u.volume!==void 0?u.volume:1,h._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=u.onend?[{fn:u.onend}]:[],h._onfade=u.onfade?[{fn:u.onfade}]:[],h._onload=u.onload?[{fn:u.onload}]:[],h._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],h._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],h._onpause=u.onpause?[{fn:u.onpause}]:[],h._onplay=u.onplay?[{fn:u.onplay}]:[],h._onstop=u.onstop?[{fn:u.onstop}]:[],h._onmute=u.onmute?[{fn:u.onmute}]:[],h._onvolume=u.onvolume?[{fn:u.onvolume}]:[],h._onrate=u.onrate?[{fn:u.onrate}]:[],h._onseek=u.onseek?[{fn:u.onseek}]:[],h._onunlock=u.onunlock?[{fn:u.onunlock}]:[],h._onresume=[],h._webAudio=n.usingWebAudio&&!h._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var u=this,h=null;if(n.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var y=0;y<u._src.length;y++){var b,w;if(u._format&&u._format[y])b=u._format[y];else{if(w=u._src[y],typeof w!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(w),b||(b=/\.([^.]+)$/.exec(w.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&n.codecs(b)){h=u._src[y];break}}if(!h){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=h,u._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new o(u),u._webAudio&&d(u),u},play:function(u,h){var y=this,b=null;if(typeof u=="number")b=u,u=null;else{if(typeof u=="string"&&y._state==="loaded"&&!y._sprite[u])return null;if(typeof u>"u"&&(u="__default",!y._playLock)){for(var w=0,C=0;C<y._sounds.length;C++)y._sounds[C]._paused&&!y._sounds[C]._ended&&(w++,b=y._sounds[C]._id);w===1?u=null:b=null}}var P=b?y._soundById(b):y._inactiveSound();if(!P)return null;if(b&&!u&&(u=P._sprite||"__default"),y._state!=="loaded"){P._sprite=u,P._ended=!1;var j=P._id;return y._queue.push({event:"play",action:function(){y.play(j)}}),j}if(b&&!P._paused)return h||y._loadQueue("play"),P._id;y._webAudio&&n._autoResume();var E=Math.max(0,P._seek>0?P._seek:y._sprite[u][0]/1e3),L=Math.max(0,(y._sprite[u][0]+y._sprite[u][1])/1e3-E),D=L*1e3/Math.abs(P._rate),A=y._sprite[u][0]/1e3,I=(y._sprite[u][0]+y._sprite[u][1])/1e3;P._sprite=u,P._ended=!1;var O=function(){P._paused=!1,P._seek=E,P._start=A,P._stop=I,P._loop=!!(P._loop||y._sprite[u][2])};if(E>=I){y._ended(P);return}var F=P._node;if(y._webAudio){var K=function(){y._playLock=!1,O(),y._refreshBuffer(P);var ie=P._muted||y._muted?0:P._volume;F.gain.setValueAtTime(ie,n.ctx.currentTime),P._playStart=n.ctx.currentTime,typeof F.bufferSource.start>"u"?P._loop?F.bufferSource.noteGrainOn(0,E,86400):F.bufferSource.noteGrainOn(0,E,L):P._loop?F.bufferSource.start(0,E,86400):F.bufferSource.start(0,E,L),D!==1/0&&(y._endTimers[P._id]=setTimeout(y._ended.bind(y,P),D)),h||setTimeout(function(){y._emit("play",P._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?K():(y._playLock=!0,y.once("resume",K),y._clearTimer(P._id))}else{var ne=function(){F.currentTime=E,F.muted=P._muted||y._muted||n._muted||F.muted,F.volume=P._volume*n.volume(),F.playbackRate=P._rate;try{var ie=F.play();if(ie&&typeof Promise<"u"&&(ie instanceof Promise||typeof ie.then=="function")?(y._playLock=!0,O(),ie.then(function(){y._playLock=!1,F._unlocked=!0,h?y._loadQueue():y._emit("play",P._id)}).catch(function(){y._playLock=!1,y._emit("playerror",P._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),P._ended=!0,P._paused=!0})):h||(y._playLock=!1,O(),y._emit("play",P._id)),F.playbackRate=P._rate,F.paused){y._emit("playerror",P._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||P._loop?y._endTimers[P._id]=setTimeout(y._ended.bind(y,P),D):(y._endTimers[P._id]=function(){y._ended(P),F.removeEventListener("ended",y._endTimers[P._id],!1)},F.addEventListener("ended",y._endTimers[P._id],!1))}catch(be){y._emit("playerror",P._id,be)}};F.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(F.src=y._src,F.load());var de=window&&window.ejecta||!F.readyState&&n._navigator.isCocoonJS;if(F.readyState>=3||de)ne();else{y._playLock=!0,y._state="loading";var te=function(){y._state="loaded",ne(),F.removeEventListener(n._canPlayEvent,te,!1)};F.addEventListener(n._canPlayEvent,te,!1),y._clearTimer(P._id)}}return P._id},pause:function(u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(u)}}),h;for(var y=h._getSoundIds(u),b=0;b<y.length;b++){h._clearTimer(y[b]);var w=h._soundById(y[b]);if(w&&!w._paused&&(w._seek=h.seek(y[b]),w._rateSeek=0,w._paused=!0,h._stopFade(y[b]),w._node))if(h._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),h._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||h._emit("pause",w?w._id:null)}return h},stop:function(u,h){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(u)}}),y;for(var b=y._getSoundIds(u),w=0;w<b.length;w++){y._clearTimer(b[w]);var C=y._soundById(b[w]);C&&(C._seek=C._start||0,C._rateSeek=0,C._paused=!0,C._ended=!0,y._stopFade(b[w]),C._node&&(y._webAudio?C._node.bufferSource&&(typeof C._node.bufferSource.stop>"u"?C._node.bufferSource.noteOff(0):C._node.bufferSource.stop(0),y._cleanBuffer(C._node)):(!isNaN(C._node.duration)||C._node.duration===1/0)&&(C._node.currentTime=C._start||0,C._node.pause(),C._node.duration===1/0&&y._clearSound(C._node))),h||y._emit("stop",C._id))}return y},mute:function(u,h){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(u,h)}}),y;if(typeof h>"u")if(typeof u=="boolean")y._muted=u;else return y._muted;for(var b=y._getSoundIds(h),w=0;w<b.length;w++){var C=y._soundById(b[w]);C&&(C._muted=u,C._interval&&y._stopFade(C._id),y._webAudio&&C._node?C._node.gain.setValueAtTime(u?0:C._volume,n.ctx.currentTime):C._node&&(C._node.muted=n._muted?!0:u),y._emit("mute",C._id))}return y},volume:function(){var u=this,h=arguments,y,b;if(h.length===0)return u._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var w=u._getSoundIds(),C=w.indexOf(h[0]);C>=0?b=parseInt(h[0],10):y=parseFloat(h[0])}else h.length>=2&&(y=parseFloat(h[0]),b=parseInt(h[1],10));var P;if(typeof y<"u"&&y>=0&&y<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,h)}}),u;typeof b>"u"&&(u._volume=y),b=u._getSoundIds(b);for(var j=0;j<b.length;j++)P=u._soundById(b[j]),P&&(P._volume=y,h[2]||u._stopFade(b[j]),u._webAudio&&P._node&&!P._muted?P._node.gain.setValueAtTime(y,n.ctx.currentTime):P._node&&!P._muted&&(P._node.volume=y*n.volume()),u._emit("volume",P._id))}else return P=b?u._soundById(b):u._sounds[0],P?P._volume:0;return u},fade:function(u,h,y,b){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(u,h,y,b)}}),w;u=Math.min(Math.max(0,parseFloat(u)),1),h=Math.min(Math.max(0,parseFloat(h)),1),y=parseFloat(y),w.volume(u,b);for(var C=w._getSoundIds(b),P=0;P<C.length;P++){var j=w._soundById(C[P]);if(j){if(b||w._stopFade(C[P]),w._webAudio&&!j._muted){var E=n.ctx.currentTime,L=E+y/1e3;j._volume=u,j._node.gain.setValueAtTime(u,E),j._node.gain.linearRampToValueAtTime(h,L)}w._startFadeInterval(j,u,h,y,C[P],typeof b>"u")}}return w},_startFadeInterval:function(u,h,y,b,w,C){var P=this,j=h,E=y-h,L=Math.abs(E/.01),D=Math.max(4,L>0?b/L:b),A=Date.now();u._fadeTo=y,u._interval=setInterval(function(){var I=(Date.now()-A)/b;A=Date.now(),j+=E*I,j=Math.round(j*100)/100,E<0?j=Math.max(y,j):j=Math.min(y,j),P._webAudio?u._volume=j:P.volume(j,u._id,!0),C&&(P._volume=j),(y<h&&j<=y||y>h&&j>=y)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,P.volume(y,u._id),P._emit("fade",u._id))},D)},_stopFade:function(u){var h=this,y=h._soundById(u);return y&&y._interval&&(h._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,h.volume(y._fadeTo,u),y._fadeTo=null,h._emit("fade",u)),h},loop:function(){var u=this,h=arguments,y,b,w;if(h.length===0)return u._loop;if(h.length===1)if(typeof h[0]=="boolean")y=h[0],u._loop=y;else return w=u._soundById(parseInt(h[0],10)),w?w._loop:!1;else h.length===2&&(y=h[0],b=parseInt(h[1],10));for(var C=u._getSoundIds(b),P=0;P<C.length;P++)w=u._soundById(C[P]),w&&(w._loop=y,u._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=y,y&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,u.playing(C[P])&&(u.pause(C[P],!0),u.play(C[P],!0)))));return u},rate:function(){var u=this,h=arguments,y,b;if(h.length===0)b=u._sounds[0]._id;else if(h.length===1){var w=u._getSoundIds(),C=w.indexOf(h[0]);C>=0?b=parseInt(h[0],10):y=parseFloat(h[0])}else h.length===2&&(y=parseFloat(h[0]),b=parseInt(h[1],10));var P;if(typeof y=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,h)}}),u;typeof b>"u"&&(u._rate=y),b=u._getSoundIds(b);for(var j=0;j<b.length;j++)if(P=u._soundById(b[j]),P){u.playing(b[j])&&(P._rateSeek=u.seek(b[j]),P._playStart=u._webAudio?n.ctx.currentTime:P._playStart),P._rate=y,u._webAudio&&P._node&&P._node.bufferSource?P._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):P._node&&(P._node.playbackRate=y);var E=u.seek(b[j]),L=(u._sprite[P._sprite][0]+u._sprite[P._sprite][1])/1e3-E,D=L*1e3/Math.abs(P._rate);(u._endTimers[b[j]]||!P._paused)&&(u._clearTimer(b[j]),u._endTimers[b[j]]=setTimeout(u._ended.bind(u,P),D)),u._emit("rate",P._id)}}else return P=u._soundById(b),P?P._rate:u._rate;return u},seek:function(){var u=this,h=arguments,y,b;if(h.length===0)u._sounds.length&&(b=u._sounds[0]._id);else if(h.length===1){var w=u._getSoundIds(),C=w.indexOf(h[0]);C>=0?b=parseInt(h[0],10):u._sounds.length&&(b=u._sounds[0]._id,y=parseFloat(h[0]))}else h.length===2&&(y=parseFloat(h[0]),b=parseInt(h[1],10));if(typeof b>"u")return 0;if(typeof y=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,h)}}),u;var P=u._soundById(b);if(P)if(typeof y=="number"&&y>=0){var j=u.playing(b);j&&u.pause(b,!0),P._seek=y,P._ended=!1,u._clearTimer(b),!u._webAudio&&P._node&&!isNaN(P._node.duration)&&(P._node.currentTime=y);var E=function(){j&&u.play(b,!0),u._emit("seek",b)};if(j&&!u._webAudio){var L=function(){u._playLock?setTimeout(L,0):E()};setTimeout(L,0)}else E()}else if(u._webAudio){var D=u.playing(b)?n.ctx.currentTime-P._playStart:0,A=P._rateSeek?P._rateSeek-P._seek:0;return P._seek+(A+D*Math.abs(P._rate))}else return P._node.currentTime;return u},playing:function(u){var h=this;if(typeof u=="number"){var y=h._soundById(u);return y?!y._paused:!1}for(var b=0;b<h._sounds.length;b++)if(!h._sounds[b]._paused)return!0;return!1},duration:function(u){var h=this,y=h._duration,b=h._soundById(u);return b&&(y=h._sprite[b._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var u=this,h=u._sounds,y=0;y<h.length;y++)h[y]._paused||u.stop(h[y]._id),u._webAudio||(u._clearSound(h[y]._node),h[y]._node.removeEventListener("error",h[y]._errorFn,!1),h[y]._node.removeEventListener(n._canPlayEvent,h[y]._loadFn,!1),h[y]._node.removeEventListener("ended",h[y]._endFn,!1),n._releaseHtml5Audio(h[y]._node)),delete h[y]._node,u._clearTimer(h[y]._id);var b=n._howls.indexOf(u);b>=0&&n._howls.splice(b,1);var w=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===u._src||u._src.indexOf(n._howls[y]._src)>=0){w=!1;break}return l&&w&&delete l[u._src],n.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,h,y,b){var w=this,C=w["_on"+u];return typeof h=="function"&&C.push(b?{id:y,fn:h,once:b}:{id:y,fn:h}),w},off:function(u,h,y){var b=this,w=b["_on"+u],C=0;if(typeof h=="number"&&(y=h,h=null),h||y)for(C=0;C<w.length;C++){var P=y===w[C].id;if(h===w[C].fn&&P||!h&&P){w.splice(C,1);break}}else if(u)b["_on"+u]=[];else{var j=Object.keys(b);for(C=0;C<j.length;C++)j[C].indexOf("_on")===0&&Array.isArray(b[j[C]])&&(b[j[C]]=[])}return b},once:function(u,h,y){var b=this;return b.on(u,h,y,1),b},_emit:function(u,h,y){for(var b=this,w=b["_on"+u],C=w.length-1;C>=0;C--)(!w[C].id||w[C].id===h||u==="load")&&(setTimeout((function(P){P.call(this,h,y)}).bind(b,w[C].fn),0),w[C].once&&b.off(u,w[C].fn,w[C].id));return b._loadQueue(u),b},_loadQueue:function(u){var h=this;if(h._queue.length>0){var y=h._queue[0];y.event===u&&(h._queue.shift(),h._loadQueue()),u||y.action()}return h},_ended:function(u){var h=this,y=u._sprite;if(!h._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(h._ended.bind(h,u),100),h;var b=!!(u._loop||h._sprite[y][2]);if(h._emit("end",u._id),!h._webAudio&&b&&h.stop(u._id,!0).play(u._id),h._webAudio&&b){h._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=n.ctx.currentTime;var w=(u._stop-u._start)*1e3/Math.abs(u._rate);h._endTimers[u._id]=setTimeout(h._ended.bind(h,u),w)}return h._webAudio&&!b&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,h._clearTimer(u._id),h._cleanBuffer(u._node),n._autoSuspend()),!h._webAudio&&!b&&h.stop(u._id,!0),h},_clearTimer:function(u){var h=this;if(h._endTimers[u]){if(typeof h._endTimers[u]!="function")clearTimeout(h._endTimers[u]);else{var y=h._soundById(u);y&&y._node&&y._node.removeEventListener("ended",h._endTimers[u],!1)}delete h._endTimers[u]}return h},_soundById:function(u){for(var h=this,y=0;y<h._sounds.length;y++)if(u===h._sounds[y]._id)return h._sounds[y];return null},_inactiveSound:function(){var u=this;u._drain();for(var h=0;h<u._sounds.length;h++)if(u._sounds[h]._ended)return u._sounds[h].reset();return new o(u)},_drain:function(){var u=this,h=u._pool,y=0,b=0;if(!(u._sounds.length<h)){for(b=0;b<u._sounds.length;b++)u._sounds[b]._ended&&y++;for(b=u._sounds.length-1;b>=0;b--){if(y<=h)return;u._sounds[b]._ended&&(u._webAudio&&u._sounds[b]._node&&u._sounds[b]._node.disconnect(0),u._sounds.splice(b,1),y--)}}},_getSoundIds:function(u){var h=this;if(typeof u>"u"){for(var y=[],b=0;b<h._sounds.length;b++)y.push(h._sounds[b]._id);return y}else return[u]},_refreshBuffer:function(u){var h=this;return u._node.bufferSource=n.ctx.createBufferSource(),u._node.bufferSource.buffer=l[h._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,n.ctx.currentTime),h},_cleanBuffer:function(u){var h=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!u.bufferSource)return h;if(n._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),y))try{u.bufferSource.buffer=n._scratchBuffer}catch{}return u.bufferSource=null,h},_clearSound:function(u){var h=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);h||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(u){this._parent=u,this.init()};o.prototype={init:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++n._counter,h._sounds.push(u),u.create(),u},create:function(){var u=this,h=u._parent,y=n._muted||u._muted||u._parent._muted?0:u._volume;return h._webAudio?(u._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),u._node.gain.setValueAtTime(y,n.ctx.currentTime),u._node.paused=!0,u._node.connect(n.masterGain)):n.noAudio||(u._node=n._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(n._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=h._src,u._node.preload=h._preload===!0?"auto":h._preload,u._node.volume=y*n.volume(),u._node.load()),u},reset:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++n._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,h=u._parent;h._duration=Math.ceil(u._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),u._node.removeEventListener(n._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,h=u._parent;h._duration===1/0&&(h._duration=Math.ceil(u._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var l={},d=function(u){var h=u._src;if(l[h]){u._duration=l[h].duration,v(u);return}if(/^data:[^;]+;base64,/.test(h)){for(var y=atob(h.split(",")[1]),b=new Uint8Array(y.length),w=0;w<y.length;++w)b[w]=y.charCodeAt(w);p(b.buffer,u)}else{var C=new XMLHttpRequest;C.open(u._xhr.method,h,!0),C.withCredentials=u._xhr.withCredentials,C.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(P){C.setRequestHeader(P,u._xhr.headers[P])}),C.onload=function(){var P=(C.status+"")[0];if(P!=="0"&&P!=="2"&&P!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+C.status+".");return}p(C.response,u)},C.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete l[h],u.load())},f(C)}},f=function(u){try{u.send()}catch{u.onerror()}},p=function(u,h){var y=function(){h._emit("loaderror",null,"Decoding audio data failed.")},b=function(w){w&&h._sounds.length>0?(l[h._src]=w,v(h,w)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(u).then(b).catch(y):n.ctx.decodeAudioData(u,b,y)},v=function(u,h){h&&!u._duration&&(u._duration=h.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),h=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=h?parseInt(h[1],10):null;if(u&&y&&y<9){var b=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!b&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=s,typeof Qs<"u"?(Qs.HowlerGlobal=t,Qs.Howler=n,Qs.Howl=s,Qs.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=s,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var s=this;if(!s.ctx||!s.ctx.listener)return s;for(var o=s._howls.length-1;o>=0;o--)s._howls[o].stereo(n);return s},HowlerGlobal.prototype.pos=function(n,s,o){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(s=typeof s!="number"?l._pos[1]:s,o=typeof o!="number"?l._pos[2]:o,typeof n=="number")l._pos=[n,s,o],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(n,s,o,l,d,f){var p=this;if(!p.ctx||!p.ctx.listener)return p;var v=p._orientation;if(s=typeof s!="number"?v[1]:s,o=typeof o!="number"?v[2]:o,l=typeof l!="number"?v[3]:l,d=typeof d!="number"?v[4]:d,f=typeof f!="number"?v[5]:f,typeof n=="number")p._orientation=[n,s,o,l,d,f],typeof p.ctx.listener.forwardX<"u"?(p.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),p.ctx.listener.forwardY.setTargetAtTime(s,Howler.ctx.currentTime,.1),p.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),p.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),p.ctx.listener.upY.setTargetAtTime(d,Howler.ctx.currentTime,.1),p.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):p.ctx.listener.setOrientation(n,s,o,l,d,f);else return v;return p},Howl.prototype.init=(function(n){return function(s){var o=this;return o._orientation=s.orientation||[1,0,0],o._stereo=s.stereo||null,o._pos=s.pos||null,o._pannerAttr={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:360,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:360,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:0,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:"inverse",maxDistance:typeof s.maxDistance<"u"?s.maxDistance:1e4,panningModel:typeof s.panningModel<"u"?s.panningModel:"HRTF",refDistance:typeof s.refDistance<"u"?s.refDistance:1,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:1},o._onstereo=s.onstereo?[{fn:s.onstereo}]:[],o._onpos=s.onpos?[{fn:s.onpos}]:[],o._onorientation=s.onorientation?[{fn:s.onorientation}]:[],n.call(this,s)}})(Howl.prototype.init),Howl.prototype.stereo=function(n,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,s)}}),o;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof s>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var d=o._getSoundIds(s),f=0;f<d.length;f++){var p=o._soundById(d[f]);if(p)if(typeof n=="number")p._stereo=n,p._pos=[n,0,0],p._node&&(p._pannerAttr.panningModel="equalpower",(!p._panner||!p._panner.pan)&&t(p,l),l==="spatial"?typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):p._panner.setPosition(n,0,0):p._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",p._id);else return p._stereo}return o},Howl.prototype.pos=function(n,s,o,l){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"pos",action:function(){d.pos(n,s,o,l)}}),d;if(s=typeof s!="number"?0:s,o=typeof o!="number"?-.5:o,typeof l>"u")if(typeof n=="number")d._pos=[n,s,o];else return d._pos;for(var f=d._getSoundIds(l),p=0;p<f.length;p++){var v=d._soundById(f[p]);if(v)if(typeof n=="number")v._pos=[n,s,o],v._node&&((!v._panner||v._panner.pan)&&t(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(s,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setPosition(n,s,o)),d._emit("pos",v._id);else return v._pos}return d},Howl.prototype.orientation=function(n,s,o,l){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"orientation",action:function(){d.orientation(n,s,o,l)}}),d;if(s=typeof s!="number"?d._orientation[1]:s,o=typeof o!="number"?d._orientation[2]:o,typeof l>"u")if(typeof n=="number")d._orientation=[n,s,o];else return d._orientation;for(var f=d._getSoundIds(l),p=0;p<f.length;p++){var v=d._soundById(f[p]);if(v)if(typeof n=="number")v._orientation=[n,s,o],v._node&&(v._panner||(v._pos||(v._pos=d._pos||[0,0,-.5]),t(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(s,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):v._panner.setOrientation(n,s,o)),d._emit("orientation",v._id);else return v._orientation}return d},Howl.prototype.pannerAttr=function(){var n=this,s=arguments,o,l,d;if(!n._webAudio)return n;if(s.length===0)return n._pannerAttr;if(s.length===1)if(typeof s[0]=="object")o=s[0],typeof l>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return d=n._soundById(parseInt(s[0],10)),d?d._pannerAttr:n._pannerAttr;else s.length===2&&(o=s[0],l=parseInt(s[1],10));for(var f=n._getSoundIds(l),p=0;p<f.length;p++)if(d=n._soundById(f[p]),d){var v=d._pannerAttr;v={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:v.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:v.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:v.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:v.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:v.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:v.panningModel};var g=d._panner;g||(d._pos||(d._pos=n._pos||[0,0,-.5]),t(d,"spatial"),g=d._panner),g.coneInnerAngle=v.coneInnerAngle,g.coneOuterAngle=v.coneOuterAngle,g.coneOuterGain=v.coneOuterGain,g.distanceModel=v.distanceModel,g.maxDistance=v.maxDistance,g.refDistance=v.refDistance,g.rolloffFactor=v.rolloffFactor,g.panningModel=v.panningModel}return n},Sound.prototype.init=(function(n){return function(){var s=this,o=s._parent;s._orientation=o._orientation,s._stereo=o._stereo,s._pos=o._pos,s._pannerAttr=o._pannerAttr,n.call(this),s._stereo?o.stereo(s._stereo):s._pos&&o.pos(s._pos[0],s._pos[1],s._pos[2],s._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(n){return function(){var s=this,o=s._parent;return s._orientation=o._orientation,s._stereo=o._stereo,s._pos=o._pos,s._pannerAttr=o._pannerAttr,s._stereo?o.stereo(s._stereo):s._pos?o.pos(s._pos[0],s._pos[1],s._pos[2],s._id):s._panner&&(s._panner.disconnect(0),s._panner=void 0,o._refreshBuffer(s)),n.call(this)}})(Sound.prototype.reset);var t=function(n,s){s=s||"spatial",s==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Zh)),Zh}var aR=oR();const lR={click:"/sounds/click.mp3",hover:"/sounds/hover.mp3",success:"/sounds/success.mp3",error:"/sounds/error.mp3"},zp={};function cR(e){const t=new aR.Howl({src:[e],volume:.6,preload:!0,html5:!1});return t.on("loaderror",()=>{}),t}function uR(){Object.entries(lR).forEach(([e,t])=>{zp[e]||(zp[e]=cR(t))})}function Vx(e){const t=zp[e];t&&t.play()}uR();const dR=ic("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Se=S.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,onClick:o,onMouseEnter:l,sound:d=!0,...f},p)=>{const v=s?_E:"button";return a.jsx(v,{className:Be(dR({variant:t,size:n,className:e})),onMouseEnter:g=>{d&&Vx("hover"),l==null||l(g)},onClick:g=>{d&&Vx("click"),o==null||o(g)},ref:p,...f})});Se.displayName="Button";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k0=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:d,...f},p)=>S.createElement("svg",{ref:p,...hR,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:k0("lucide",o),...f},[...d.map(([v,g])=>S.createElement(v,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const n=S.forwardRef(({className:s,...o},l)=>S.createElement(pR,{ref:l,iconNode:t,className:k0(`lucide-${fR(e)}`,s),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$x=ct("ArrowLeft",mR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],j0=ct("ArrowRight",gR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],yR=ct("Building2",vR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_R=ct("ChartColumn",xR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hm=ct("Check",wR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wm=ct("ChevronDown",bR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],CR=ct("ChevronRight",SR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],P0=ct("ChevronUp",kR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PR=ct("CircleCheckBig",jR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],NR=ct("CircleX",TR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RR=ct("Circle",ER);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],IR=ct("Clock",AR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],LR=ct("EllipsisVertical",MR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Hp=ct("Inbox",OR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],T0=ct("KeyRound",DR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],UR=ct("ListChecks",FR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rt=ct("LoaderCircle",VR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],BR=ct("Menu",$R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Bx=ct("Monitor",zR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],WR=ct("Phone",HR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],N0=ct("Plus",qR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qm=ct("RefreshCw",GR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XR=ct("Save",KR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Gm=ct("Search",YR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],E0=ct("Send",QR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZR=ct("Settings",JR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],tA=ct("Share",eA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],rA=ct("ShieldAlert",nA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wp=ct("ShieldCheck",sA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],oA=ct("Smartphone",iA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],R0=ct("Stethoscope",aA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],cA=ct("Trash2",lA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dA=ct("TriangleAlert",uA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hA=ct("UserPlus",fA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],mA=ct("Users",pA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oc=ct("X",gA),vA=20,yA=1e6,ps={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let ep=0;function xA(){return ep=(ep+1)%Number.MAX_VALUE,ep.toString()}const tp=new Map,zx=e=>{if(tp.has(e))return;const t=setTimeout(()=>{tp.delete(e),Ll({type:ps.REMOVE_TOAST,toastId:e})},yA);tp.set(e,t)},_A=(e,t)=>{switch(t.type){case ps.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,vA)};case ps.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case ps.DISMISS_TOAST:{const{toastId:n}=t;return n?zx(n):e.toasts.forEach(s=>{zx(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case ps.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Gu=[];let Ku={toasts:[]};function Ll(e){Ku=_A(Ku,e),Gu.forEach(t=>{t(Ku)})}function wA({...e}){const t=xA(),n=o=>Ll({type:ps.UPDATE_TOAST,toast:{...o,id:t}}),s=()=>Ll({type:ps.DISMISS_TOAST,toastId:t});return Ll({type:ps.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:o=>{o||s()}}}),{id:t,dismiss:s,update:n}}function Km(){const[e,t]=S.useState(Ku);return S.useEffect(()=>(Gu.push(t),()=>{const n=Gu.indexOf(t);n>-1&&Gu.splice(n,1)}),[e]),{...e,toast:wA,dismiss:n=>Ll({type:ps.DISMISS_TOAST,toastId:n})}}const A0=S.forwardRef(({...e},t)=>a.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));A0.displayName="ToastProvider";const I0=S.forwardRef(({...e},t)=>a.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));I0.displayName="ToastViewport";const bA=ic("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M0=S.forwardRef(({className:e,variant:t,...n},s)=>a.jsx("div",{ref:s,className:Be(bA({variant:t}),e),...n}));M0.displayName="Toast";const SA=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));SA.displayName="ToastAction";const L0=S.forwardRef(({className:e,...t},n)=>a.jsx("button",{ref:n,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"data-toast-close":"",...t,children:a.jsx(oc,{className:"h-4 w-4"})}));L0.displayName="ToastClose";const O0=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("text-sm font-semibold",e),...t}));O0.displayName="ToastTitle";const D0=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("text-sm opacity-90",e),...t}));D0.displayName="ToastDescription";function F0(){const{toasts:e}=Km();return a.jsxs(A0,{children:[e.map(function({id:t,title:n,description:s,action:o,...l}){return a.jsxs(M0,{...l,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(O0,{children:n}),s&&a.jsx(D0,{children:s})]}),o,a.jsx(L0,{})]},t)}),a.jsx(I0,{})]})}function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function CA(e,t){const n=S.createContext(t),s=l=>{const{children:d,...f}=l,p=S.useMemo(()=>f,Object.values(f));return a.jsx(n.Provider,{value:p,children:d})};s.displayName=e+"Provider";function o(l){const d=S.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,o]}function Cr(e,t=[]){let n=[];function s(l,d){const f=S.createContext(d),p=n.length;n=[...n,d];const v=u=>{var P;const{scope:h,children:y,...b}=u,w=((P=h==null?void 0:h[e])==null?void 0:P[p])||f,C=S.useMemo(()=>b,Object.values(b));return a.jsx(w.Provider,{value:C,children:y})};v.displayName=l+"Provider";function g(u,h){var w;const y=((w=h==null?void 0:h[e])==null?void 0:w[p])||f,b=S.useContext(y);if(b)return b;if(d!==void 0)return d;throw new Error(`\`${u}\` must be used within \`${l}\``)}return[v,g]}const o=()=>{const l=n.map(d=>S.createContext(d));return function(f){const p=(f==null?void 0:f[e])||l;return S.useMemo(()=>({[`__scope${e}`]:{...f,[e]:p}}),[f,p])}};return o.scopeName=e,[s,kA(o,...t)]}function kA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=s.reduce((f,{useScope:p,scopeName:v})=>{const u=p(l)[`__scope${v}`];return{...f,...u}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var jA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=jA.reduce((e,t)=>{const n=oi(`Primitive.${t}`),s=S.forwardRef((o,l)=>{const{asChild:d,...f}=o,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...f,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function U0(e,t){e&&rc.flushSync(()=>e.dispatchEvent(t))}function vs(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function PA(e,t=globalThis==null?void 0:globalThis.document){const n=vs(e);S.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var TA="DismissableLayer",qp="dismissableLayer.update",NA="dismissableLayer.pointerDownOutside",EA="dismissableLayer.focusOutside",Hx,V0=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ac=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:f,...p}=e,v=S.useContext(V0),[g,u]=S.useState(null),h=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=S.useState({}),b=mt(t,I=>u(I)),w=Array.from(v.layers),[C]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),P=w.indexOf(C),j=g?w.indexOf(g):-1,E=v.layersWithOutsidePointerEventsDisabled.size>0,L=j>=P,D=IA(I=>{const O=I.target,F=[...v.branches].some(K=>K.contains(O));!L||F||(o==null||o(I),d==null||d(I),I.defaultPrevented||f==null||f())},h),A=MA(I=>{const O=I.target;[...v.branches].some(K=>K.contains(O))||(l==null||l(I),d==null||d(I),I.defaultPrevented||f==null||f())},h);return PA(I=>{j===v.layers.size-1&&(s==null||s(I),!I.defaultPrevented&&f&&(I.preventDefault(),f()))},h),S.useEffect(()=>{if(g)return n&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(Hx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(g)),v.layers.add(g),Wx(),()=>{n&&v.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Hx)}},[g,h,n,v]),S.useEffect(()=>()=>{g&&(v.layers.delete(g),v.layersWithOutsidePointerEventsDisabled.delete(g),Wx())},[g,v]),S.useEffect(()=>{const I=()=>y({});return document.addEventListener(qp,I),()=>document.removeEventListener(qp,I)},[]),a.jsx(Ke.div,{...p,ref:b,style:{pointerEvents:E?L?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,D.onPointerDownCapture)})});ac.displayName=TA;var RA="DismissableLayerBranch",AA=S.forwardRef((e,t)=>{const n=S.useContext(V0),s=S.useRef(null),o=mt(t,s);return S.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),a.jsx(Ke.div,{...e,ref:o})});AA.displayName=RA;function IA(e,t=globalThis==null?void 0:globalThis.document){const n=vs(e),s=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const l=f=>{if(f.target&&!s.current){let p=function(){$0(NA,n,v,{discrete:!0})};const v={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=p,t.addEventListener("click",o.current,{once:!0})):p()}else t.removeEventListener("click",o.current);s.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function MA(e,t=globalThis==null?void 0:globalThis.document){const n=vs(e),s=S.useRef(!1);return S.useEffect(()=>{const o=l=>{l.target&&!s.current&&$0(EA,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Wx(){const e=new CustomEvent(qp);document.dispatchEvent(e)}function $0(e,t,n,{discrete:s}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?U0(o,l):o.dispatchEvent(l)}var np=0;function Pd(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qx()),document.body.insertAdjacentElement("beforeend",e[1]??qx()),np++,()=>{np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),np--}},[])}function qx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rp="focusScope.autoFocusOnMount",sp="focusScope.autoFocusOnUnmount",Gx={bubbles:!1,cancelable:!0},LA="FocusScope",lc=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...d}=e,[f,p]=S.useState(null),v=vs(o),g=vs(l),u=S.useRef(null),h=mt(t,w=>p(w)),y=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(s){let w=function(E){if(y.paused||!f)return;const L=E.target;f.contains(L)?u.current=L:Ks(u.current,{select:!0})},C=function(E){if(y.paused||!f)return;const L=E.relatedTarget;L!==null&&(f.contains(L)||Ks(u.current,{select:!0}))},P=function(E){if(document.activeElement===document.body)for(const D of E)D.removedNodes.length>0&&Ks(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const j=new MutationObserver(P);return f&&j.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),j.disconnect()}}},[s,f,y.paused]),S.useEffect(()=>{if(f){Xx.add(y);const w=document.activeElement;if(!f.contains(w)){const P=new CustomEvent(rp,Gx);f.addEventListener(rp,v),f.dispatchEvent(P),P.defaultPrevented||(OA($A(B0(f)),{select:!0}),document.activeElement===w&&Ks(f))}return()=>{f.removeEventListener(rp,v),setTimeout(()=>{const P=new CustomEvent(sp,Gx);f.addEventListener(sp,g),f.dispatchEvent(P),P.defaultPrevented||Ks(w??document.body,{select:!0}),f.removeEventListener(sp,g),Xx.remove(y)},0)}}},[f,v,g,y]);const b=S.useCallback(w=>{if(!n&&!s||y.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,P=document.activeElement;if(C&&P){const j=w.currentTarget,[E,L]=DA(j);E&&L?!w.shiftKey&&P===L?(w.preventDefault(),n&&Ks(E,{select:!0})):w.shiftKey&&P===E&&(w.preventDefault(),n&&Ks(L,{select:!0})):P===j&&w.preventDefault()}},[n,s,y.paused]);return a.jsx(Ke.div,{tabIndex:-1,...d,ref:h,onKeyDown:b})});lc.displayName=LA;function OA(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ks(s,{select:t}),document.activeElement!==n)return}function DA(e){const t=B0(e),n=Kx(t,e),s=Kx(t.reverse(),e);return[n,s]}function B0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kx(e,t){for(const n of e)if(!FA(n,{upTo:t}))return n}function FA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function UA(e){return e instanceof HTMLInputElement&&"select"in e}function Ks(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&UA(e)&&t&&e.select()}}var Xx=VA();function VA(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Yx(e,t),e.unshift(t)},remove(t){var n;e=Yx(e,t),(n=e[0])==null||n.resume()}}}function Yx(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function $A(e){return e.filter(t=>t.tagName!=="A")}var pn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},BA=zw[" useId ".trim().toString()]||(()=>{}),zA=0;function ri(e){const[t,n]=S.useState(BA());return pn(()=>{n(s=>s??String(zA++))},[e]),t?`radix-${t}`:""}const HA=["top","right","bottom","left"],ai=Math.min,$n=Math.max,ld=Math.round,Nu=Math.floor,Gr=e=>({x:e,y:e}),WA={left:"right",right:"left",bottom:"top",top:"bottom"},qA={start:"end",end:"start"};function Gp(e,t,n){return $n(e,ai(t,n))}function ys(e,t){return typeof e=="function"?e(t):e}function xs(e){return e.split("-")[0]}function Sa(e){return e.split("-")[1]}function Xm(e){return e==="x"?"y":"x"}function Ym(e){return e==="y"?"height":"width"}const GA=new Set(["top","bottom"]);function qr(e){return GA.has(xs(e))?"y":"x"}function Qm(e){return Xm(qr(e))}function KA(e,t,n){n===void 0&&(n=!1);const s=Sa(e),o=Qm(e),l=Ym(o);let d=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(d=cd(d)),[d,cd(d)]}function XA(e){const t=cd(e);return[Kp(e),t,Kp(t)]}function Kp(e){return e.replace(/start|end/g,t=>qA[t])}const Qx=["left","right"],Jx=["right","left"],YA=["top","bottom"],QA=["bottom","top"];function JA(e,t,n){switch(e){case"top":case"bottom":return n?t?Jx:Qx:t?Qx:Jx;case"left":case"right":return t?YA:QA;default:return[]}}function ZA(e,t,n,s){const o=Sa(e);let l=JA(xs(e),n==="start",s);return o&&(l=l.map(d=>d+"-"+o),t&&(l=l.concat(l.map(Kp)))),l}function cd(e){return e.replace(/left|right|bottom|top/g,t=>WA[t])}function e2(e){return{top:0,right:0,bottom:0,left:0,...e}}function z0(e){return typeof e!="number"?e2(e):{top:e,right:e,bottom:e,left:e}}function ud(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function Zx(e,t,n){let{reference:s,floating:o}=e;const l=qr(t),d=Qm(t),f=Ym(d),p=xs(t),v=l==="y",g=s.x+s.width/2-o.width/2,u=s.y+s.height/2-o.height/2,h=s[f]/2-o[f]/2;let y;switch(p){case"top":y={x:g,y:s.y-o.height};break;case"bottom":y={x:g,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:u};break;case"left":y={x:s.x-o.width,y:u};break;default:y={x:s.x,y:s.y}}switch(Sa(t)){case"start":y[d]-=h*(n&&v?-1:1);break;case"end":y[d]+=h*(n&&v?-1:1);break}return y}const t2=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:l=[],platform:d}=n,f=l.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(t));let v=await d.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:u}=Zx(v,s,p),h=s,y={},b=0;for(let w=0;w<f.length;w++){const{name:C,fn:P}=f[w],{x:j,y:E,data:L,reset:D}=await P({x:g,y:u,initialPlacement:s,placement:h,strategy:o,middlewareData:y,rects:v,platform:d,elements:{reference:e,floating:t}});g=j??g,u=E??u,y={...y,[C]:{...y[C],...L}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(v=D.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:o}):D.rects),{x:g,y:u}=Zx(v,h,p)),w=-1)}return{x:g,y:u,placement:h,strategy:o,middlewareData:y}};async function zl(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:l,rects:d,elements:f,strategy:p}=e,{boundary:v="clippingAncestors",rootBoundary:g="viewport",elementContext:u="floating",altBoundary:h=!1,padding:y=0}=ys(t,e),b=z0(y),C=f[h?u==="floating"?"reference":"floating":u],P=ud(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:v,rootBoundary:g,strategy:p})),j=u==="floating"?{x:s,y:o,width:d.floating.width,height:d.floating.height}:d.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),L=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},D=ud(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:j,offsetParent:E,strategy:p}):j);return{top:(P.top-D.top+b.top)/L.y,bottom:(D.bottom-P.bottom+b.bottom)/L.y,left:(P.left-D.left+b.left)/L.x,right:(D.right-P.right+b.right)/L.x}}const n2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:l,platform:d,elements:f,middlewareData:p}=t,{element:v,padding:g=0}=ys(e,t)||{};if(v==null)return{};const u=z0(g),h={x:n,y:s},y=Qm(o),b=Ym(y),w=await d.getDimensions(v),C=y==="y",P=C?"top":"left",j=C?"bottom":"right",E=C?"clientHeight":"clientWidth",L=l.reference[b]+l.reference[y]-h[y]-l.floating[b],D=h[y]-l.reference[y],A=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let I=A?A[E]:0;(!I||!await(d.isElement==null?void 0:d.isElement(A)))&&(I=f.floating[E]||l.floating[b]);const O=L/2-D/2,F=I/2-w[b]/2-1,K=ai(u[P],F),ne=ai(u[j],F),de=K,te=I-w[b]-ne,ie=I/2-w[b]/2+O,be=Gp(de,ie,te),ve=!p.arrow&&Sa(o)!=null&&ie!==be&&l.reference[b]/2-(ie<de?K:ne)-w[b]/2<0,pe=ve?ie<de?ie-de:ie-te:0;return{[y]:h[y]+pe,data:{[y]:be,centerOffset:ie-be-pe,...ve&&{alignmentOffset:pe}},reset:ve}}}),r2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:l,rects:d,initialPlacement:f,platform:p,elements:v}=t,{mainAxis:g=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...C}=ys(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const P=xs(o),j=qr(f),E=xs(f)===f,L=await(p.isRTL==null?void 0:p.isRTL(v.floating)),D=h||(E||!w?[cd(f)]:XA(f)),A=b!=="none";!h&&A&&D.push(...ZA(f,w,b,L));const I=[f,...D],O=await zl(t,C),F=[];let K=((s=l.flip)==null?void 0:s.overflows)||[];if(g&&F.push(O[P]),u){const ie=KA(o,d,L);F.push(O[ie[0]],O[ie[1]])}if(K=[...K,{placement:o,overflows:F}],!F.every(ie=>ie<=0)){var ne,de;const ie=(((ne=l.flip)==null?void 0:ne.index)||0)+1,be=I[ie];if(be&&(!(u==="alignment"?j!==qr(be):!1)||K.every(W=>qr(W.placement)===j?W.overflows[0]>0:!0)))return{data:{index:ie,overflows:K},reset:{placement:be}};let ve=(de=K.filter(pe=>pe.overflows[0]<=0).sort((pe,W)=>pe.overflows[1]-W.overflows[1])[0])==null?void 0:de.placement;if(!ve)switch(y){case"bestFit":{var te;const pe=(te=K.filter(W=>{if(A){const J=qr(W.placement);return J===j||J==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(J=>J>0).reduce((J,ae)=>J+ae,0)]).sort((W,J)=>W[1]-J[1])[0])==null?void 0:te[0];pe&&(ve=pe);break}case"initialPlacement":ve=f;break}if(o!==ve)return{reset:{placement:ve}}}return{}}}};function e_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function t_(e){return HA.some(t=>e[t]>=0)}const s2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=ys(e,t);switch(s){case"referenceHidden":{const l=await zl(t,{...o,elementContext:"reference"}),d=e_(l,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:t_(d)}}}case"escaped":{const l=await zl(t,{...o,altBoundary:!0}),d=e_(l,n.floating);return{data:{escapedOffsets:d,escaped:t_(d)}}}default:return{}}}}},H0=new Set(["left","top"]);async function i2(e,t){const{placement:n,platform:s,elements:o}=e,l=await(s.isRTL==null?void 0:s.isRTL(o.floating)),d=xs(n),f=Sa(n),p=qr(n)==="y",v=H0.has(d)?-1:1,g=l&&p?-1:1,u=ys(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:b}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return f&&typeof b=="number"&&(y=f==="end"?b*-1:b),p?{x:y*g,y:h*v}:{x:h*v,y:y*g}}const o2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:l,placement:d,middlewareData:f}=t,p=await i2(t,e);return d===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:o+p.x,y:l+p.y,data:{...p,placement:d}}}}},a2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:l=!0,crossAxis:d=!1,limiter:f={fn:C=>{let{x:P,y:j}=C;return{x:P,y:j}}},...p}=ys(e,t),v={x:n,y:s},g=await zl(t,p),u=qr(xs(o)),h=Xm(u);let y=v[h],b=v[u];if(l){const C=h==="y"?"top":"left",P=h==="y"?"bottom":"right",j=y+g[C],E=y-g[P];y=Gp(j,y,E)}if(d){const C=u==="y"?"top":"left",P=u==="y"?"bottom":"right",j=b+g[C],E=b-g[P];b=Gp(j,b,E)}const w=f.fn({...t,[h]:y,[u]:b});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[h]:l,[u]:d}}}}}},l2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:l,middlewareData:d}=t,{offset:f=0,mainAxis:p=!0,crossAxis:v=!0}=ys(e,t),g={x:n,y:s},u=qr(o),h=Xm(u);let y=g[h],b=g[u];const w=ys(f,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(p){const E=h==="y"?"height":"width",L=l.reference[h]-l.floating[E]+C.mainAxis,D=l.reference[h]+l.reference[E]-C.mainAxis;y<L?y=L:y>D&&(y=D)}if(v){var P,j;const E=h==="y"?"width":"height",L=H0.has(xs(o)),D=l.reference[u]-l.floating[E]+(L&&((P=d.offset)==null?void 0:P[u])||0)+(L?0:C.crossAxis),A=l.reference[u]+l.reference[E]+(L?0:((j=d.offset)==null?void 0:j[u])||0)-(L?C.crossAxis:0);b<D?b=D:b>A&&(b=A)}return{[h]:y,[u]:b}}}},c2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:l,platform:d,elements:f}=t,{apply:p=()=>{},...v}=ys(e,t),g=await zl(t,v),u=xs(o),h=Sa(o),y=qr(o)==="y",{width:b,height:w}=l.floating;let C,P;u==="top"||u==="bottom"?(C=u,P=h===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(P=u,C=h==="end"?"top":"bottom");const j=w-g.top-g.bottom,E=b-g.left-g.right,L=ai(w-g[C],j),D=ai(b-g[P],E),A=!t.middlewareData.shift;let I=L,O=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=E),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(I=j),A&&!h){const K=$n(g.left,0),ne=$n(g.right,0),de=$n(g.top,0),te=$n(g.bottom,0);y?O=b-2*(K!==0||ne!==0?K+ne:$n(g.left,g.right)):I=w-2*(de!==0||te!==0?de+te:$n(g.top,g.bottom))}await p({...t,availableWidth:O,availableHeight:I});const F=await d.getDimensions(f.floating);return b!==F.width||w!==F.height?{reset:{rects:!0}}:{}}}};function Td(){return typeof window<"u"}function Ca(e){return W0(e)?(e.nodeName||"").toLowerCase():"#document"}function Bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zr(e){var t;return(t=(W0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function W0(e){return Td()?e instanceof Node||e instanceof Bn(e).Node:!1}function _r(e){return Td()?e instanceof Element||e instanceof Bn(e).Element:!1}function Yr(e){return Td()?e instanceof HTMLElement||e instanceof Bn(e).HTMLElement:!1}function n_(e){return!Td()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bn(e).ShadowRoot}const u2=new Set(["inline","contents"]);function cc(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!u2.has(o)}const d2=new Set(["table","td","th"]);function f2(e){return d2.has(Ca(e))}const h2=[":popover-open",":modal"];function Nd(e){return h2.some(t=>{try{return e.matches(t)}catch{return!1}})}const p2=["transform","translate","scale","rotate","perspective"],m2=["transform","translate","scale","rotate","perspective","filter"],g2=["paint","layout","strict","content"];function Jm(e){const t=Zm(),n=_r(e)?wr(e):e;return p2.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||m2.some(s=>(n.willChange||"").includes(s))||g2.some(s=>(n.contain||"").includes(s))}function v2(e){let t=li(e);for(;Yr(t)&&!pa(t);){if(Jm(t))return t;if(Nd(t))return null;t=li(t)}return null}function Zm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const y2=new Set(["html","body","#document"]);function pa(e){return y2.has(Ca(e))}function wr(e){return Bn(e).getComputedStyle(e)}function Ed(e){return _r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(Ca(e)==="html")return e;const t=e.assignedSlot||e.parentNode||n_(e)&&e.host||Zr(e);return n_(t)?t.host:t}function q0(e){const t=li(e);return pa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&cc(t)?t:q0(t)}function Hl(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=q0(e),l=o===((s=e.ownerDocument)==null?void 0:s.body),d=Bn(o);if(l){const f=Xp(d);return t.concat(d,d.visualViewport||[],cc(o)?o:[],f&&n?Hl(f):[])}return t.concat(o,Hl(o,[],n))}function Xp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function G0(e){const t=wr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=Yr(e),l=o?e.offsetWidth:n,d=o?e.offsetHeight:s,f=ld(n)!==l||ld(s)!==d;return f&&(n=l,s=d),{width:n,height:s,$:f}}function eg(e){return _r(e)?e:e.contextElement}function ca(e){const t=eg(e);if(!Yr(t))return Gr(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:l}=G0(t);let d=(l?ld(n.width):n.width)/s,f=(l?ld(n.height):n.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const x2=Gr(0);function K0(e){const t=Bn(e);return!Zm()||!t.visualViewport?x2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Bn(e)?!1:t}function lo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=eg(e);let d=Gr(1);t&&(s?_r(s)&&(d=ca(s)):d=ca(e));const f=_2(l,n,s)?K0(l):Gr(0);let p=(o.left+f.x)/d.x,v=(o.top+f.y)/d.y,g=o.width/d.x,u=o.height/d.y;if(l){const h=Bn(l),y=s&&_r(s)?Bn(s):s;let b=h,w=Xp(b);for(;w&&s&&y!==b;){const C=ca(w),P=w.getBoundingClientRect(),j=wr(w),E=P.left+(w.clientLeft+parseFloat(j.paddingLeft))*C.x,L=P.top+(w.clientTop+parseFloat(j.paddingTop))*C.y;p*=C.x,v*=C.y,g*=C.x,u*=C.y,p+=E,v+=L,b=Bn(w),w=Xp(b)}}return ud({width:g,height:u,x:p,y:v})}function Rd(e,t){const n=Ed(e).scrollLeft;return t?t.left+n:lo(Zr(e)).left+n}function X0(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Rd(e,n),o=n.top+t.scrollTop;return{x:s,y:o}}function w2(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const l=o==="fixed",d=Zr(s),f=t?Nd(t.floating):!1;if(s===d||f&&l)return n;let p={scrollLeft:0,scrollTop:0},v=Gr(1);const g=Gr(0),u=Yr(s);if((u||!u&&!l)&&((Ca(s)!=="body"||cc(d))&&(p=Ed(s)),Yr(s))){const y=lo(s);v=ca(s),g.x=y.x+s.clientLeft,g.y=y.y+s.clientTop}const h=d&&!u&&!l?X0(d,p):Gr(0);return{width:n.width*v.x,height:n.height*v.y,x:n.x*v.x-p.scrollLeft*v.x+g.x+h.x,y:n.y*v.y-p.scrollTop*v.y+g.y+h.y}}function b2(e){return Array.from(e.getClientRects())}function S2(e){const t=Zr(e),n=Ed(e),s=e.ownerDocument.body,o=$n(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),l=$n(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let d=-n.scrollLeft+Rd(e);const f=-n.scrollTop;return wr(s).direction==="rtl"&&(d+=$n(t.clientWidth,s.clientWidth)-o),{width:o,height:l,x:d,y:f}}const r_=25;function C2(e,t){const n=Bn(e),s=Zr(e),o=n.visualViewport;let l=s.clientWidth,d=s.clientHeight,f=0,p=0;if(o){l=o.width,d=o.height;const g=Zm();(!g||g&&t==="fixed")&&(f=o.offsetLeft,p=o.offsetTop)}const v=Rd(s);if(v<=0){const g=s.ownerDocument,u=g.body,h=getComputedStyle(u),y=g.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,b=Math.abs(s.clientWidth-u.clientWidth-y);b<=r_&&(l-=b)}else v<=r_&&(l+=v);return{width:l,height:d,x:f,y:p}}const k2=new Set(["absolute","fixed"]);function j2(e,t){const n=lo(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,l=Yr(e)?ca(e):Gr(1),d=e.clientWidth*l.x,f=e.clientHeight*l.y,p=o*l.x,v=s*l.y;return{width:d,height:f,x:p,y:v}}function s_(e,t,n){let s;if(t==="viewport")s=C2(e,n);else if(t==="document")s=S2(Zr(e));else if(_r(t))s=j2(t,n);else{const o=K0(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ud(s)}function Y0(e,t){const n=li(e);return n===t||!_r(n)||pa(n)?!1:wr(n).position==="fixed"||Y0(n,t)}function P2(e,t){const n=t.get(e);if(n)return n;let s=Hl(e,[],!1).filter(f=>_r(f)&&Ca(f)!=="body"),o=null;const l=wr(e).position==="fixed";let d=l?li(e):e;for(;_r(d)&&!pa(d);){const f=wr(d),p=Jm(d);!p&&f.position==="fixed"&&(o=null),(l?!p&&!o:!p&&f.position==="static"&&!!o&&k2.has(o.position)||cc(d)&&!p&&Y0(e,d))?s=s.filter(g=>g!==d):o=f,d=li(d)}return t.set(e,s),s}function T2(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const d=[...n==="clippingAncestors"?Nd(t)?[]:P2(t,this._c):[].concat(n),s],f=d[0],p=d.reduce((v,g)=>{const u=s_(t,g,o);return v.top=$n(u.top,v.top),v.right=ai(u.right,v.right),v.bottom=ai(u.bottom,v.bottom),v.left=$n(u.left,v.left),v},s_(t,f,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function N2(e){const{width:t,height:n}=G0(e);return{width:t,height:n}}function E2(e,t,n){const s=Yr(t),o=Zr(t),l=n==="fixed",d=lo(e,!0,l,t);let f={scrollLeft:0,scrollTop:0};const p=Gr(0);function v(){p.x=Rd(o)}if(s||!s&&!l)if((Ca(t)!=="body"||cc(o))&&(f=Ed(t)),s){const y=lo(t,!0,l,t);p.x=y.x+t.clientLeft,p.y=y.y+t.clientTop}else o&&v();l&&!s&&o&&v();const g=o&&!s&&!l?X0(o,f):Gr(0),u=d.left+f.scrollLeft-p.x-g.x,h=d.top+f.scrollTop-p.y-g.y;return{x:u,y:h,width:d.width,height:d.height}}function ip(e){return wr(e).position==="static"}function i_(e,t){if(!Yr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zr(e)===n&&(n=n.ownerDocument.body),n}function Q0(e,t){const n=Bn(e);if(Nd(e))return n;if(!Yr(e)){let o=li(e);for(;o&&!pa(o);){if(_r(o)&&!ip(o))return o;o=li(o)}return n}let s=i_(e,t);for(;s&&f2(s)&&ip(s);)s=i_(s,t);return s&&pa(s)&&ip(s)&&!Jm(s)?n:s||v2(e)||n}const R2=async function(e){const t=this.getOffsetParent||Q0,n=this.getDimensions,s=await n(e.floating);return{reference:E2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function A2(e){return wr(e).direction==="rtl"}const I2={convertOffsetParentRelativeRectToViewportRelativeRect:w2,getDocumentElement:Zr,getClippingRect:T2,getOffsetParent:Q0,getElementRects:R2,getClientRects:b2,getDimensions:N2,getScale:ca,isElement:_r,isRTL:A2};function J0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function M2(e,t){let n=null,s;const o=Zr(e);function l(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function d(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),l();const v=e.getBoundingClientRect(),{left:g,top:u,width:h,height:y}=v;if(f||t(),!h||!y)return;const b=Nu(u),w=Nu(o.clientWidth-(g+h)),C=Nu(o.clientHeight-(u+y)),P=Nu(g),E={rootMargin:-b+"px "+-w+"px "+-C+"px "+-P+"px",threshold:$n(0,ai(1,p))||1};let L=!0;function D(A){const I=A[0].intersectionRatio;if(I!==p){if(!L)return d();I?d(!1,I):s=setTimeout(()=>{d(!1,1e-7)},1e3)}I===1&&!J0(v,e.getBoundingClientRect())&&d(),L=!1}try{n=new IntersectionObserver(D,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(D,E)}n.observe(e)}return d(!0),l}function L2(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,v=eg(e),g=o||l?[...v?Hl(v):[],...Hl(t)]:[];g.forEach(P=>{o&&P.addEventListener("scroll",n,{passive:!0}),l&&P.addEventListener("resize",n)});const u=v&&f?M2(v,n):null;let h=-1,y=null;d&&(y=new ResizeObserver(P=>{let[j]=P;j&&j.target===v&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(t)})),n()}),v&&!p&&y.observe(v),y.observe(t));let b,w=p?lo(e):null;p&&C();function C(){const P=lo(e);w&&!J0(w,P)&&n(),w=P,b=requestAnimationFrame(C)}return n(),()=>{var P;g.forEach(j=>{o&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),u==null||u(),(P=y)==null||P.disconnect(),y=null,p&&cancelAnimationFrame(b)}}const O2=o2,D2=a2,F2=r2,U2=c2,V2=s2,o_=n2,$2=l2,B2=(e,t,n)=>{const s=new Map,o={platform:I2,...n},l={...o.platform,_c:s};return t2(e,t,{...o,platform:l})};var z2=typeof document<"u",H2=function(){},Xu=z2?S.useLayoutEffect:H2;function dd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!dd(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const l=o[s];if(!(l==="_owner"&&e.$$typeof)&&!dd(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function Z0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function a_(e,t){const n=Z0(e);return Math.round(t*n)/n}function op(e){const t=S.useRef(e);return Xu(()=>{t.current=e}),t}function W2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:l,floating:d}={},transform:f=!0,whileElementsMounted:p,open:v}=e,[g,u]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=S.useState(s);dd(h,s)||y(s);const[b,w]=S.useState(null),[C,P]=S.useState(null),j=S.useCallback(W=>{W!==A.current&&(A.current=W,w(W))},[]),E=S.useCallback(W=>{W!==I.current&&(I.current=W,P(W))},[]),L=l||b,D=d||C,A=S.useRef(null),I=S.useRef(null),O=S.useRef(g),F=p!=null,K=op(p),ne=op(o),de=op(v),te=S.useCallback(()=>{if(!A.current||!I.current)return;const W={placement:t,strategy:n,middleware:h};ne.current&&(W.platform=ne.current),B2(A.current,I.current,W).then(J=>{const ae={...J,isPositioned:de.current!==!1};ie.current&&!dd(O.current,ae)&&(O.current=ae,rc.flushSync(()=>{u(ae)}))})},[h,t,n,ne,de]);Xu(()=>{v===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,u(W=>({...W,isPositioned:!1})))},[v]);const ie=S.useRef(!1);Xu(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Xu(()=>{if(L&&(A.current=L),D&&(I.current=D),L&&D){if(K.current)return K.current(L,D,te);te()}},[L,D,te,K,F]);const be=S.useMemo(()=>({reference:A,floating:I,setReference:j,setFloating:E}),[j,E]),ve=S.useMemo(()=>({reference:L,floating:D}),[L,D]),pe=S.useMemo(()=>{const W={position:n,left:0,top:0};if(!ve.floating)return W;const J=a_(ve.floating,g.x),ae=a_(ve.floating,g.y);return f?{...W,transform:"translate("+J+"px, "+ae+"px)",...Z0(ve.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:ae}},[n,f,ve.floating,g.x,g.y]);return S.useMemo(()=>({...g,update:te,refs:be,elements:ve,floatingStyles:pe}),[g,te,be,ve,pe])}const q2=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?o_({element:s.current,padding:o}).fn(n):{}:s?o_({element:s,padding:o}).fn(n):{}}}},G2=(e,t)=>({...O2(e),options:[e,t]}),K2=(e,t)=>({...D2(e),options:[e,t]}),X2=(e,t)=>({...$2(e),options:[e,t]}),Y2=(e,t)=>({...F2(e),options:[e,t]}),Q2=(e,t)=>({...U2(e),options:[e,t]}),J2=(e,t)=>({...V2(e),options:[e,t]}),Z2=(e,t)=>({...q2(e),options:[e,t]});var eI="Arrow",eb=S.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...l}=e;return a.jsx(Ke.svg,{...l,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});eb.displayName=eI;var tI=eb;function tg(e){const[t,n]=S.useState(void 0);return pn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,f;if("borderBoxSize"in l){const p=l.borderBoxSize,v=Array.isArray(p)?p[0]:p;d=v.inlineSize,f=v.blockSize}else d=e.offsetWidth,f=e.offsetHeight;n({width:d,height:f})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var ng="Popper",[tb,ka]=Cr(ng),[nI,nb]=tb(ng),rb=e=>{const{__scopePopper:t,children:n}=e,[s,o]=S.useState(null);return a.jsx(nI,{scope:t,anchor:s,onAnchorChange:o,children:n})};rb.displayName=ng;var sb="PopperAnchor",ib=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,l=nb(sb,n),d=S.useRef(null),f=mt(t,d),p=S.useRef(null);return S.useEffect(()=>{const v=p.current;p.current=(s==null?void 0:s.current)||d.current,v!==p.current&&l.onAnchorChange(p.current)}),s?null:a.jsx(Ke.div,{...o,ref:f})});ib.displayName=sb;var rg="PopperContent",[rI,sI]=tb(rg),ob=S.forwardRef((e,t)=>{var re,ge,we,Oe,Ue,le;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:l="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:v=[],collisionPadding:g=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:b,...w}=e,C=nb(rg,n),[P,j]=S.useState(null),E=mt(t,Fe=>j(Fe)),[L,D]=S.useState(null),A=tg(L),I=(A==null?void 0:A.width)??0,O=(A==null?void 0:A.height)??0,F=s+(l!=="center"?"-"+l:""),K=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ne=Array.isArray(v)?v:[v],de=ne.length>0,te={padding:K,boundary:ne.filter(oI),altBoundary:de},{refs:ie,floatingStyles:be,placement:ve,isPositioned:pe,middlewareData:W}=W2({strategy:"fixed",placement:F,whileElementsMounted:(...Fe)=>L2(...Fe,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[G2({mainAxis:o+O,alignmentAxis:d}),p&&K2({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?X2():void 0,...te}),p&&Y2({...te}),Q2({...te,apply:({elements:Fe,rects:Nt,availableWidth:bt,availableHeight:mn})=>{const{width:gn,height:rr}=Nt.reference,tn=Fe.floating.style;tn.setProperty("--radix-popper-available-width",`${bt}px`),tn.setProperty("--radix-popper-available-height",`${mn}px`),tn.setProperty("--radix-popper-anchor-width",`${gn}px`),tn.setProperty("--radix-popper-anchor-height",`${rr}px`)}}),L&&Z2({element:L,padding:f}),aI({arrowWidth:I,arrowHeight:O}),h&&J2({strategy:"referenceHidden",...te})]}),[J,ae]=cb(ve),H=vs(b);pn(()=>{pe&&(H==null||H())},[pe,H]);const ee=(re=W.arrow)==null?void 0:re.x,xe=(ge=W.arrow)==null?void 0:ge.y,q=((we=W.arrow)==null?void 0:we.centerOffset)!==0,[Y,se]=S.useState();return pn(()=>{P&&se(window.getComputedStyle(P).zIndex)},[P]),a.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:pe?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(Oe=W.transformOrigin)==null?void 0:Oe.x,(Ue=W.transformOrigin)==null?void 0:Ue.y].join(" "),...((le=W.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(rI,{scope:n,placedSide:J,onArrowChange:D,arrowX:ee,arrowY:xe,shouldHideArrow:q,children:a.jsx(Ke.div,{"data-side":J,"data-align":ae,...w,ref:E,style:{...w.style,animation:pe?void 0:"none"}})})})});ob.displayName=rg;var ab="PopperArrow",iI={top:"bottom",right:"left",bottom:"top",left:"right"},lb=S.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,l=sI(ab,s),d=iI[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(tI,{...o,ref:n,style:{...o.style,display:"block"}})})});lb.displayName=ab;function oI(e){return e!==null}var aI=e=>({name:"transformOrigin",options:e,fn(t){var C,P,j;const{placement:n,rects:s,middlewareData:o}=t,d=((C=o.arrow)==null?void 0:C.centerOffset)!==0,f=d?0:e.arrowWidth,p=d?0:e.arrowHeight,[v,g]=cb(n),u={start:"0%",center:"50%",end:"100%"}[g],h=(((P=o.arrow)==null?void 0:P.x)??0)+f/2,y=(((j=o.arrow)==null?void 0:j.y)??0)+p/2;let b="",w="";return v==="bottom"?(b=d?u:`${h}px`,w=`${-p}px`):v==="top"?(b=d?u:`${h}px`,w=`${s.floating.height+p}px`):v==="right"?(b=`${-p}px`,w=d?u:`${y}px`):v==="left"&&(b=`${s.floating.width+p}px`,w=d?u:`${y}px`),{data:{x:b,y:w}}}});function cb(e){const[t,n="center"]=e.split("-");return[t,n]}var lI=rb,Ad=ib,sg=ob,ig=lb,cI="Portal",uc=S.forwardRef((e,t)=>{var f;const{container:n,...s}=e,[o,l]=S.useState(!1);pn(()=>l(!0),[]);const d=n||o&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return d?ZT.createPortal(a.jsx(Ke.div,{...s,ref:t}),d):null});uc.displayName=cI;function uI(e,t){return S.useReducer((n,s)=>t[n][s]??n,e)}var nr=e=>{const{present:t,children:n}=e,s=dI(t),o=typeof n=="function"?n({present:s.isPresent}):S.Children.only(n),l=mt(s.ref,fI(o));return typeof n=="function"||s.isPresent?S.cloneElement(o,{ref:l}):null};nr.displayName="Presence";function dI(e){const[t,n]=S.useState(),s=S.useRef(null),o=S.useRef(e),l=S.useRef("none"),d=e?"mounted":"unmounted",[f,p]=uI(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const v=Eu(s.current);l.current=f==="mounted"?v:"none"},[f]),pn(()=>{const v=s.current,g=o.current;if(g!==e){const h=l.current,y=Eu(v);e?p("MOUNT"):y==="none"||(v==null?void 0:v.display)==="none"?p("UNMOUNT"):p(g&&h!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,p]),pn(()=>{if(t){let v;const g=t.ownerDocument.defaultView??window,u=y=>{const w=Eu(s.current).includes(CSS.escape(y.animationName));if(y.target===t&&w&&(p("ANIMATION_END"),!o.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",v=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},h=y=>{y.target===t&&(l.current=Eu(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{g.clearTimeout(v),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:S.useCallback(v=>{s.current=v?getComputedStyle(v):null,n(v)},[])}}function Eu(e){return(e==null?void 0:e.animationName)||"none"}function fI(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hI=zw[" useInsertionEffect ".trim().toString()]||pn;function co({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,l,d]=pI({defaultProp:t,onChange:n}),f=e!==void 0,p=f?e:o;{const g=S.useRef(e!==void 0);S.useEffect(()=>{const u=g.current;u!==f&&console.warn(`${s} is changing from ${u?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,s])}const v=S.useCallback(g=>{var u;if(f){const h=mI(g)?g(e):g;h!==e&&((u=d.current)==null||u.call(d,h))}else l(g)},[f,e,l,d]);return[p,v]}function pI({defaultProp:e,onChange:t}){const[n,s]=S.useState(e),o=S.useRef(n),l=S.useRef(t);return hI(()=>{l.current=t},[t]),S.useEffect(()=>{var d;o.current!==n&&((d=l.current)==null||d.call(l,n),o.current=n)},[n,o]),[n,s,l]}function mI(e){return typeof e=="function"}var gI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yo=new WeakMap,Ru=new WeakMap,Au={},ap=0,ub=function(e){return e&&(e.host||ub(e.parentNode))},vI=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=ub(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yI=function(e,t,n,s){var o=vI(t,Array.isArray(e)?e:[e]);Au[n]||(Au[n]=new WeakMap);var l=Au[n],d=[],f=new Set,p=new Set(o),v=function(u){!u||f.has(u)||(f.add(u),v(u.parentNode))};o.forEach(v);var g=function(u){!u||p.has(u)||Array.prototype.forEach.call(u.children,function(h){if(f.has(h))g(h);else try{var y=h.getAttribute(s),b=y!==null&&y!=="false",w=(Yo.get(h)||0)+1,C=(l.get(h)||0)+1;Yo.set(h,w),l.set(h,C),d.push(h),w===1&&b&&Ru.set(h,!0),C===1&&h.setAttribute(n,"true"),b||h.setAttribute(s,"true")}catch(P){console.error("aria-hidden: cannot operate on ",h,P)}})};return g(t),f.clear(),ap++,function(){d.forEach(function(u){var h=Yo.get(u)-1,y=l.get(u)-1;Yo.set(u,h),l.set(u,y),h||(Ru.has(u)||u.removeAttribute(s),Ru.delete(u)),y||u.removeAttribute(n)}),ap--,ap||(Yo=new WeakMap,Yo=new WeakMap,Ru=new WeakMap,Au={})}},Id=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=gI(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),yI(s,o,n,"aria-hidden")):function(){return null}},Hr=function(){return Hr=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Hr.apply(this,arguments)};function db(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function xI(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,l;s<o;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||Array.prototype.slice.call(t))}var Yu="right-scroll-bar-position",Qu="width-before-scroll-bar",_I="with-scroll-bars-hidden",wI="--removed-body-scroll-bar-size";function lp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bI(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var SI=typeof window<"u"?S.useLayoutEffect:S.useEffect,l_=new WeakMap;function CI(e,t){var n=bI(null,function(s){return e.forEach(function(o){return lp(o,s)})});return SI(function(){var s=l_.get(n);if(s){var o=new Set(s),l=new Set(e),d=n.current;o.forEach(function(f){l.has(f)||lp(f,null)}),l.forEach(function(f){o.has(f)||lp(f,d)})}l_.set(n,e)},[e]),n}function kI(e){return e}function jI(e,t){t===void 0&&(t=kI);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var d=t(l,s);return n.push(d),function(){n=n.filter(function(f){return f!==d})}},assignSyncMedium:function(l){for(s=!0;n.length;){var d=n;n=[],d.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){s=!0;var d=[];if(n.length){var f=n;n=[],f.forEach(l),d=n}var p=function(){var g=d;d=[],g.forEach(l)},v=function(){return Promise.resolve().then(p)};v(),n={push:function(g){d.push(g),v()},filter:function(g){return d=d.filter(g),n}}}};return o}function PI(e){e===void 0&&(e={});var t=jI(null);return t.options=Hr({async:!0,ssr:!1},e),t}var fb=function(e){var t=e.sideCar,n=db(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return S.createElement(s,Hr({},n))};fb.isSideCarExport=!0;function TI(e,t){return e.useMedium(t),fb}var hb=PI(),cp=function(){},Md=S.forwardRef(function(e,t){var n=S.useRef(null),s=S.useState({onScrollCapture:cp,onWheelCapture:cp,onTouchMoveCapture:cp}),o=s[0],l=s[1],d=e.forwardProps,f=e.children,p=e.className,v=e.removeScrollBar,g=e.enabled,u=e.shards,h=e.sideCar,y=e.noRelative,b=e.noIsolation,w=e.inert,C=e.allowPinchZoom,P=e.as,j=P===void 0?"div":P,E=e.gapMode,L=db(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=h,A=CI([n,t]),I=Hr(Hr({},L),o);return S.createElement(S.Fragment,null,g&&S.createElement(D,{sideCar:hb,removeScrollBar:v,shards:u,noRelative:y,noIsolation:b,inert:w,setCallbacks:l,allowPinchZoom:!!C,lockRef:n,gapMode:E}),d?S.cloneElement(S.Children.only(f),Hr(Hr({},I),{ref:A})):S.createElement(j,Hr({},I,{className:p,ref:A}),f))});Md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Md.classNames={fullWidth:Qu,zeroRight:Yu};var NI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=NI();return t&&e.setAttribute("nonce",t),e}function RI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function AI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var II=function(){var e=0,t=null;return{add:function(n){e==0&&(t=EI())&&(RI(t,n),AI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MI=function(){var e=II();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pb=function(){var e=MI(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},LI={left:0,top:0,right:0,gap:0},up=function(e){return parseInt(e||"",10)||0},OI=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[up(n),up(s),up(o)]},DI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return LI;var t=OI(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},FI=pb(),ua="data-scroll-locked",UI=function(e,t,n,s){var o=e.left,l=e.top,d=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(_I,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(ua,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yu,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Qu,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Yu," .").concat(Yu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Qu," .").concat(Qu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ua,`] {
    `).concat(wI,": ").concat(f,`px;
  }
`)},c_=function(){var e=parseInt(document.body.getAttribute(ua)||"0",10);return isFinite(e)?e:0},VI=function(){S.useEffect(function(){return document.body.setAttribute(ua,(c_()+1).toString()),function(){var e=c_()-1;e<=0?document.body.removeAttribute(ua):document.body.setAttribute(ua,e.toString())}},[])},$I=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;VI();var l=S.useMemo(function(){return DI(o)},[o]);return S.createElement(FI,{styles:UI(l,!t,o,n?"":"!important")})},Yp=!1;if(typeof window<"u")try{var Iu=Object.defineProperty({},"passive",{get:function(){return Yp=!0,!0}});window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{Yp=!1}var Qo=Yp?{passive:!1}:!1,BI=function(e){return e.tagName==="TEXTAREA"},mb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!BI(e)&&n[t]==="visible")},zI=function(e){return mb(e,"overflowY")},HI=function(e){return mb(e,"overflowX")},u_=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=gb(e,s);if(o){var l=vb(e,s),d=l[1],f=l[2];if(d>f)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},WI=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},qI=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},gb=function(e,t){return e==="v"?zI(t):HI(t)},vb=function(e,t){return e==="v"?WI(t):qI(t)},GI=function(e,t){return e==="h"&&t==="rtl"?-1:1},KI=function(e,t,n,s,o){var l=GI(e,window.getComputedStyle(t).direction),d=l*s,f=n.target,p=t.contains(f),v=!1,g=d>0,u=0,h=0;do{if(!f)break;var y=vb(e,f),b=y[0],w=y[1],C=y[2],P=w-C-l*b;(b||P)&&gb(e,f)&&(u+=P,h+=b);var j=f.parentNode;f=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!p&&f!==document.body||p&&(t.contains(f)||t===f));return(g&&Math.abs(u)<1||!g&&Math.abs(h)<1)&&(v=!0),v},Mu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},d_=function(e){return[e.deltaX,e.deltaY]},f_=function(e){return e&&"current"in e?e.current:e},XI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},QI=0,Jo=[];function JI(e){var t=S.useRef([]),n=S.useRef([0,0]),s=S.useRef(),o=S.useState(QI++)[0],l=S.useState(pb)[0],d=S.useRef(e);S.useEffect(function(){d.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=xI([e.lockRef.current],(e.shards||[]).map(f_),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=S.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!d.current.allowPinchZoom;var P=Mu(w),j=n.current,E="deltaX"in w?w.deltaX:j[0]-P[0],L="deltaY"in w?w.deltaY:j[1]-P[1],D,A=w.target,I=Math.abs(E)>Math.abs(L)?"h":"v";if("touches"in w&&I==="h"&&A.type==="range")return!1;var O=u_(I,A);if(!O)return!0;if(O?D=I:(D=I==="v"?"h":"v",O=u_(I,A)),!O)return!1;if(!s.current&&"changedTouches"in w&&(E||L)&&(s.current=D),!D)return!0;var F=s.current||D;return KI(F,C,w,F==="h"?E:L)},[]),p=S.useCallback(function(w){var C=w;if(!(!Jo.length||Jo[Jo.length-1]!==l)){var P="deltaY"in C?d_(C):Mu(C),j=t.current.filter(function(D){return D.name===C.type&&(D.target===C.target||C.target===D.shadowParent)&&XI(D.delta,P)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var E=(d.current.shards||[]).map(f_).filter(Boolean).filter(function(D){return D.contains(C.target)}),L=E.length>0?f(C,E[0]):!d.current.noIsolation;L&&C.cancelable&&C.preventDefault()}}},[]),v=S.useCallback(function(w,C,P,j){var E={name:w,delta:C,target:P,should:j,shadowParent:ZI(P)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(L){return L!==E})},1)},[]),g=S.useCallback(function(w){n.current=Mu(w),s.current=void 0},[]),u=S.useCallback(function(w){v(w.type,d_(w),w.target,f(w,e.lockRef.current))},[]),h=S.useCallback(function(w){v(w.type,Mu(w),w.target,f(w,e.lockRef.current))},[]);S.useEffect(function(){return Jo.push(l),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",p,Qo),document.addEventListener("touchmove",p,Qo),document.addEventListener("touchstart",g,Qo),function(){Jo=Jo.filter(function(w){return w!==l}),document.removeEventListener("wheel",p,Qo),document.removeEventListener("touchmove",p,Qo),document.removeEventListener("touchstart",g,Qo)}},[]);var y=e.removeScrollBar,b=e.inert;return S.createElement(S.Fragment,null,b?S.createElement(l,{styles:YI(o)}):null,y?S.createElement($I,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ZI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const eM=TI(hb,JI);var dc=S.forwardRef(function(e,t){return S.createElement(Md,Hr({},e,{ref:t,sideCar:eM}))});dc.classNames=Md.classNames;var yb="Popover",[xb]=Cr(yb,[ka]),Ld=ka(),[MU,fi]=xb(yb),_b="PopoverAnchor",tM=S.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,o=fi(_b,n),l=Ld(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:f}=o;return S.useEffect(()=>(d(),()=>f()),[d,f]),a.jsx(Ad,{...l,...s,ref:t})});tM.displayName=_b;var wb="PopoverTrigger",nM=S.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,o=fi(wb,n),l=Ld(n),d=mt(t,o.triggerRef),f=a.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":jb(o.open),...s,ref:d,onClick:ke(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:a.jsx(Ad,{asChild:!0,...l,children:f})});nM.displayName=wb;var og="PopoverPortal",[rM,sM]=xb(og,{forceMount:void 0}),bb=e=>{const{__scopePopover:t,forceMount:n,children:s,container:o}=e,l=fi(og,t);return a.jsx(rM,{scope:t,forceMount:n,children:a.jsx(nr,{present:n||l.open,children:a.jsx(uc,{asChild:!0,container:o,children:s})})})};bb.displayName=og;var ma="PopoverContent",Sb=S.forwardRef((e,t)=>{const n=sM(ma,e.__scopePopover),{forceMount:s=n.forceMount,...o}=e,l=fi(ma,e.__scopePopover);return a.jsx(nr,{present:s||l.open,children:l.modal?a.jsx(oM,{...o,ref:t}):a.jsx(aM,{...o,ref:t})})});Sb.displayName=ma;var iM=oi("PopoverContent.RemoveScroll"),oM=S.forwardRef((e,t)=>{const n=fi(ma,e.__scopePopover),s=S.useRef(null),o=mt(t,s),l=S.useRef(!1);return S.useEffect(()=>{const d=s.current;if(d)return Id(d)},[]),a.jsx(dc,{as:iM,allowPinchZoom:!0,children:a.jsx(Cb,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,d=>{var f;d.preventDefault(),l.current||(f=n.triggerRef.current)==null||f.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,v=f.button===2||p;l.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),aM=S.forwardRef((e,t)=>{const n=fi(ma,e.__scopePopover),s=S.useRef(!1),o=S.useRef(!1);return a.jsx(Cb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,f;(d=e.onCloseAutoFocus)==null||d.call(e,l),l.defaultPrevented||(s.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{var p,v;(p=e.onInteractOutside)==null||p.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;((v=n.triggerRef.current)==null?void 0:v.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),Cb=S.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:g,...u}=e,h=fi(ma,n),y=Ld(n);return Pd(),a.jsx(lc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(ac,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:g,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:v,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(sg,{"data-state":jb(h.open),role:"dialog",id:h.contentId,...y,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kb="PopoverClose",lM=S.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,o=fi(kb,n);return a.jsx(Ke.button,{type:"button",...s,ref:t,onClick:ke(e.onClick,()=>o.onOpenChange(!1))})});lM.displayName=kb;var cM="PopoverArrow",uM=S.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,o=Ld(n);return a.jsx(ig,{...o,...s,ref:t})});uM.displayName=cM;function jb(e){return e?"open":"closed"}var dM=bb,Pb=Sb;const fM=S.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},o)=>a.jsx(dM,{children:a.jsx(Pb,{ref:o,align:t,sideOffset:n,className:Be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));fM.displayName=Pb.displayName;function ag(e){const t=e+"CollectionProvider",[n,s]=Cr(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=w=>{const{scope:C,children:P}=w,j=U.useRef(null),E=U.useRef(new Map).current;return a.jsx(o,{scope:C,itemMap:E,collectionRef:j,children:P})};d.displayName=t;const f=e+"CollectionSlot",p=oi(f),v=U.forwardRef((w,C)=>{const{scope:P,children:j}=w,E=l(f,P),L=mt(C,E.collectionRef);return a.jsx(p,{ref:L,children:j})});v.displayName=f;const g=e+"CollectionItemSlot",u="data-radix-collection-item",h=oi(g),y=U.forwardRef((w,C)=>{const{scope:P,children:j,...E}=w,L=U.useRef(null),D=mt(C,L),A=l(g,P);return U.useEffect(()=>(A.itemMap.set(L,{ref:L,...E}),()=>void A.itemMap.delete(L))),a.jsx(h,{[u]:"",ref:D,children:j})});y.displayName=g;function b(w){const C=l(e+"CollectionConsumer",w);return U.useCallback(()=>{const j=C.collectionRef.current;if(!j)return[];const E=Array.from(j.querySelectorAll(`[${u}]`));return Array.from(C.itemMap.values()).sort((A,I)=>E.indexOf(A.ref.current)-E.indexOf(I.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:d,Slot:v,ItemSlot:y},b,s]}var hM=S.createContext(void 0);function lg(e){const t=S.useContext(hM);return e||t||"ltr"}var dp="rovingFocusGroup.onEntryFocus",pM={bubbles:!1,cancelable:!0},fc="RovingFocusGroup",[Qp,Tb,mM]=ag(fc),[gM,Od]=Cr(fc,[mM]),[vM,yM]=gM(fc),Nb=S.forwardRef((e,t)=>a.jsx(Qp.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Qp.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(xM,{...e,ref:t})})}));Nb.displayName=fc;var xM=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:v,preventScrollOnEntryFocus:g=!1,...u}=e,h=S.useRef(null),y=mt(t,h),b=lg(l),[w,C]=co({prop:d,defaultProp:f??null,onChange:p,caller:fc}),[P,j]=S.useState(!1),E=vs(v),L=Tb(n),D=S.useRef(!1),[A,I]=S.useState(0);return S.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(dp,E),()=>O.removeEventListener(dp,E)},[E]),a.jsx(vM,{scope:n,orientation:s,dir:b,loop:o,currentTabStopId:w,onItemFocus:S.useCallback(O=>C(O),[C]),onItemShiftTab:S.useCallback(()=>j(!0),[]),onFocusableItemAdd:S.useCallback(()=>I(O=>O+1),[]),onFocusableItemRemove:S.useCallback(()=>I(O=>O-1),[]),children:a.jsx(Ke.div,{tabIndex:P||A===0?-1:0,"data-orientation":s,...u,ref:y,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{D.current=!0}),onFocus:ke(e.onFocus,O=>{const F=!D.current;if(O.target===O.currentTarget&&F&&!P){const K=new CustomEvent(dp,pM);if(O.currentTarget.dispatchEvent(K),!K.defaultPrevented){const ne=L().filter(ve=>ve.focusable),de=ne.find(ve=>ve.active),te=ne.find(ve=>ve.id===w),be=[de,te,...ne].filter(Boolean).map(ve=>ve.ref.current);Ab(be,g)}}D.current=!1}),onBlur:ke(e.onBlur,()=>j(!1))})})}),Eb="RovingFocusGroupItem",Rb=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:l,children:d,...f}=e,p=ri(),v=l||p,g=yM(Eb,n),u=g.currentTabStopId===v,h=Tb(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:w}=g;return S.useEffect(()=>{if(s)return y(),()=>b()},[s,y,b]),a.jsx(Qp.ItemSlot,{scope:n,id:v,focusable:s,active:o,children:a.jsx(Ke.span,{tabIndex:u?0:-1,"data-orientation":g.orientation,...f,ref:t,onMouseDown:ke(e.onMouseDown,C=>{s?g.onItemFocus(v):C.preventDefault()}),onFocus:ke(e.onFocus,()=>g.onItemFocus(v)),onKeyDown:ke(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){g.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const P=bM(C,g.orientation,g.dir);if(P!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let E=h().filter(L=>L.focusable).map(L=>L.ref.current);if(P==="last")E.reverse();else if(P==="prev"||P==="next"){P==="prev"&&E.reverse();const L=E.indexOf(C.currentTarget);E=g.loop?SM(E,L+1):E.slice(L+1)}setTimeout(()=>Ab(E))}}),children:typeof d=="function"?d({isCurrentTabStop:u,hasTabStop:w!=null}):d})})});Rb.displayName=Eb;var _M={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bM(e,t,n){const s=wM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return _M[s]}function Ab(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function SM(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Ib=Nb,Mb=Rb,Jp=["Enter"," "],CM=["ArrowDown","PageUp","Home"],Lb=["ArrowUp","PageDown","End"],kM=[...CM,...Lb],jM={ltr:[...Jp,"ArrowRight"],rtl:[...Jp,"ArrowLeft"]},PM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dd="Menu",[Wl,TM,NM]=ag(Dd),[po,Ob]=Cr(Dd,[NM,ka,Od]),cg=ka(),Db=Od(),[LU,mo]=po(Dd),[OU,hc]=po(Dd),EM="MenuAnchor",ug=S.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=cg(n);return a.jsx(Ad,{...o,...s,ref:t})});ug.displayName=EM;var dg="MenuPortal",[RM,Fb]=po(dg,{forceMount:void 0}),Ub=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,l=mo(dg,t);return a.jsx(RM,{scope:t,forceMount:n,children:a.jsx(nr,{present:n||l.open,children:a.jsx(uc,{asChild:!0,container:o,children:s})})})};Ub.displayName=dg;var er="MenuContent",[AM,fg]=po(er),Vb=S.forwardRef((e,t)=>{const n=Fb(er,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,l=mo(er,e.__scopeMenu),d=hc(er,e.__scopeMenu);return a.jsx(Wl.Provider,{scope:e.__scopeMenu,children:a.jsx(nr,{present:s||l.open,children:a.jsx(Wl.Slot,{scope:e.__scopeMenu,children:d.modal?a.jsx(IM,{...o,ref:t}):a.jsx(MM,{...o,ref:t})})})})}),IM=S.forwardRef((e,t)=>{const n=mo(er,e.__scopeMenu),s=S.useRef(null),o=mt(t,s);return S.useEffect(()=>{const l=s.current;if(l)return Id(l)},[]),a.jsx(hg,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),MM=S.forwardRef((e,t)=>{const n=mo(er,e.__scopeMenu);return a.jsx(hg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),LM=oi("MenuContent.ScrollLock"),hg=S.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:p,onEscapeKeyDown:v,onPointerDownOutside:g,onFocusOutside:u,onInteractOutside:h,onDismiss:y,disableOutsideScroll:b,...w}=e,C=mo(er,n),P=hc(er,n),j=cg(n),E=Db(n),L=TM(n),[D,A]=S.useState(null),I=S.useRef(null),O=mt(t,I,C.onContentChange),F=S.useRef(0),K=S.useRef(""),ne=S.useRef(0),de=S.useRef(null),te=S.useRef("right"),ie=S.useRef(0),be=b?dc:S.Fragment,ve=b?{as:LM,allowPinchZoom:!0}:void 0,pe=J=>{var re,ge;const ae=K.current+J,H=L().filter(we=>!we.disabled),ee=document.activeElement,xe=(re=H.find(we=>we.ref.current===ee))==null?void 0:re.textValue,q=H.map(we=>we.textValue),Y=GM(q,ae,xe),se=(ge=H.find(we=>we.textValue===Y))==null?void 0:ge.ref.current;(function we(Oe){K.current=Oe,window.clearTimeout(F.current),Oe!==""&&(F.current=window.setTimeout(()=>we(""),1e3))})(ae),se&&setTimeout(()=>se.focus())};S.useEffect(()=>()=>window.clearTimeout(F.current),[]),Pd();const W=S.useCallback(J=>{var H,ee;return te.current===((H=de.current)==null?void 0:H.side)&&XM(J,(ee=de.current)==null?void 0:ee.area)},[]);return a.jsx(AM,{scope:n,searchRef:K,onItemEnter:S.useCallback(J=>{W(J)&&J.preventDefault()},[W]),onItemLeave:S.useCallback(J=>{var ae;W(J)||((ae=I.current)==null||ae.focus(),A(null))},[W]),onTriggerLeave:S.useCallback(J=>{W(J)&&J.preventDefault()},[W]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:S.useCallback(J=>{de.current=J},[]),children:a.jsx(be,{...ve,children:a.jsx(lc,{asChild:!0,trapped:o,onMountAutoFocus:ke(l,J=>{var ae;J.preventDefault(),(ae=I.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:a.jsx(ac,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:v,onPointerDownOutside:g,onFocusOutside:u,onInteractOutside:h,onDismiss:y,children:a.jsx(Ib,{asChild:!0,...E,dir:P.dir,orientation:"vertical",loop:s,currentTabStopId:D,onCurrentTabStopIdChange:A,onEntryFocus:ke(p,J=>{P.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(sg,{role:"menu","aria-orientation":"vertical","data-state":nS(C.open),"data-radix-menu-content":"",dir:P.dir,...j,...w,ref:O,style:{outline:"none",...w.style},onKeyDown:ke(w.onKeyDown,J=>{const H=J.target.closest("[data-radix-menu-content]")===J.currentTarget,ee=J.ctrlKey||J.altKey||J.metaKey,xe=J.key.length===1;H&&(J.key==="Tab"&&J.preventDefault(),!ee&&xe&&pe(J.key));const q=I.current;if(J.target!==q||!kM.includes(J.key))return;J.preventDefault();const se=L().filter(re=>!re.disabled).map(re=>re.ref.current);Lb.includes(J.key)&&se.reverse(),WM(se)}),onBlur:ke(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(F.current),K.current="")}),onPointerMove:ke(e.onPointerMove,ql(J=>{const ae=J.target,H=ie.current!==J.clientX;if(J.currentTarget.contains(ae)&&H){const ee=J.clientX>ie.current?"right":"left";te.current=ee,ie.current=J.clientX}}))})})})})})})});Vb.displayName=er;var OM="MenuGroup",pg=S.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Ke.div,{role:"group",...s,ref:t})});pg.displayName=OM;var DM="MenuLabel",$b=S.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Ke.div,{...s,ref:t})});$b.displayName=DM;var fd="MenuItem",h_="menu.itemSelect",Fd=S.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,l=S.useRef(null),d=hc(fd,e.__scopeMenu),f=fg(fd,e.__scopeMenu),p=mt(t,l),v=S.useRef(!1),g=()=>{const u=l.current;if(!n&&u){const h=new CustomEvent(h_,{bubbles:!0,cancelable:!0});u.addEventListener(h_,y=>s==null?void 0:s(y),{once:!0}),U0(u,h),h.defaultPrevented?v.current=!1:d.onClose()}};return a.jsx(Bb,{...o,ref:p,disabled:n,onClick:ke(e.onClick,g),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),v.current=!0},onPointerUp:ke(e.onPointerUp,u=>{var h;v.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:ke(e.onKeyDown,u=>{const h=f.searchRef.current!=="";n||h&&u.key===" "||Jp.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Fd.displayName=fd;var Bb=S.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...l}=e,d=fg(fd,n),f=Db(n),p=S.useRef(null),v=mt(t,p),[g,u]=S.useState(!1),[h,y]=S.useState("");return S.useEffect(()=>{const b=p.current;b&&y((b.textContent??"").trim())},[l.children]),a.jsx(Wl.ItemSlot,{scope:n,disabled:s,textValue:o??h,children:a.jsx(Mb,{asChild:!0,...f,focusable:!s,children:a.jsx(Ke.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...l,ref:v,onPointerMove:ke(e.onPointerMove,ql(b=>{s?d.onItemLeave(b):(d.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,ql(b=>d.onItemLeave(b))),onFocus:ke(e.onFocus,()=>u(!0)),onBlur:ke(e.onBlur,()=>u(!1))})})})}),FM="MenuCheckboxItem",zb=S.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return a.jsx(Kb,{scope:e.__scopeMenu,checked:n,children:a.jsx(Fd,{role:"menuitemcheckbox","aria-checked":hd(n)?"mixed":n,...o,ref:t,"data-state":gg(n),onSelect:ke(o.onSelect,()=>s==null?void 0:s(hd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});zb.displayName=FM;var Hb="MenuRadioGroup",[UM,VM]=po(Hb,{value:void 0,onValueChange:()=>{}}),Wb=S.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,l=vs(s);return a.jsx(UM,{scope:e.__scopeMenu,value:n,onValueChange:l,children:a.jsx(pg,{...o,ref:t})})});Wb.displayName=Hb;var qb="MenuRadioItem",Gb=S.forwardRef((e,t)=>{const{value:n,...s}=e,o=VM(qb,e.__scopeMenu),l=n===o.value;return a.jsx(Kb,{scope:e.__scopeMenu,checked:l,children:a.jsx(Fd,{role:"menuitemradio","aria-checked":l,...s,ref:t,"data-state":gg(l),onSelect:ke(s.onSelect,()=>{var d;return(d=o.onValueChange)==null?void 0:d.call(o,n)},{checkForDefaultPrevented:!1})})})});Gb.displayName=qb;var mg="MenuItemIndicator",[Kb,$M]=po(mg,{checked:!1}),Xb=S.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,l=$M(mg,n);return a.jsx(nr,{present:s||hd(l.checked)||l.checked===!0,children:a.jsx(Ke.span,{...o,ref:t,"data-state":gg(l.checked)})})});Xb.displayName=mg;var BM="MenuSeparator",Yb=S.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Ke.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});Yb.displayName=BM;var zM="MenuArrow",Qb=S.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=cg(n);return a.jsx(ig,{...o,...s,ref:t})});Qb.displayName=zM;var HM="MenuSub",[DU,Jb]=po(HM),Nl="MenuSubTrigger",Zb=S.forwardRef((e,t)=>{const n=mo(Nl,e.__scopeMenu),s=hc(Nl,e.__scopeMenu),o=Jb(Nl,e.__scopeMenu),l=fg(Nl,e.__scopeMenu),d=S.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:p}=l,v={__scopeMenu:e.__scopeMenu},g=S.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return S.useEffect(()=>g,[g]),S.useEffect(()=>{const u=f.current;return()=>{window.clearTimeout(u),p(null)}},[f,p]),a.jsx(ug,{asChild:!0,...v,children:a.jsx(Bb,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":nS(n.open),...e,ref:jd(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,ql(u=>{l.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(l.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:ke(e.onPointerLeave,ql(u=>{var y,b;g();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const w=(b=n.content)==null?void 0:b.dataset.side,C=w==="right",P=C?-5:5,j=h[C?"left":"right"],E=h[C?"right":"left"];l.onPointerGraceIntentChange({area:[{x:u.clientX+P,y:u.clientY},{x:j,y:h.top},{x:E,y:h.top},{x:E,y:h.bottom},{x:j,y:h.bottom}],side:w}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(u),u.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,u=>{var y;const h=l.searchRef.current!=="";e.disabled||h&&u.key===" "||jM[s.dir].includes(u.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),u.preventDefault())})})})});Zb.displayName=Nl;var eS="MenuSubContent",tS=S.forwardRef((e,t)=>{const n=Fb(er,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,l=mo(er,e.__scopeMenu),d=hc(er,e.__scopeMenu),f=Jb(eS,e.__scopeMenu),p=S.useRef(null),v=mt(t,p);return a.jsx(Wl.Provider,{scope:e.__scopeMenu,children:a.jsx(nr,{present:s||l.open,children:a.jsx(Wl.Slot,{scope:e.__scopeMenu,children:a.jsx(hg,{id:f.contentId,"aria-labelledby":f.triggerId,...o,ref:v,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var u;d.isUsingKeyboardRef.current&&((u=p.current)==null||u.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ke(e.onFocusOutside,g=>{g.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,g=>{d.onClose(),g.preventDefault()}),onKeyDown:ke(e.onKeyDown,g=>{var y;const u=g.currentTarget.contains(g.target),h=PM[d.dir].includes(g.key);u&&h&&(l.onOpenChange(!1),(y=f.trigger)==null||y.focus(),g.preventDefault())})})})})})});tS.displayName=eS;function nS(e){return e?"open":"closed"}function hd(e){return e==="indeterminate"}function gg(e){return hd(e)?"indeterminate":e?"checked":"unchecked"}function WM(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function qM(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function GM(e,t,n){const o=t.length>1&&Array.from(t).every(v=>v===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let d=qM(e,Math.max(l,0));o.length===1&&(d=d.filter(v=>v!==n));const p=d.find(v=>v.toLowerCase().startsWith(o.toLowerCase()));return p!==n?p:void 0}function KM(e,t){const{x:n,y:s}=e;let o=!1;for(let l=0,d=t.length-1;l<t.length;d=l++){const f=t[l],p=t[d],v=f.x,g=f.y,u=p.x,h=p.y;g>s!=h>s&&n<(u-v)*(s-g)/(h-g)+v&&(o=!o)}return o}function XM(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return KM(n,t)}function ql(e){return t=>t.pointerType==="mouse"?e(t):void 0}var YM=ug,QM=Ub,JM=Vb,ZM=pg,eL=$b,tL=Fd,nL=zb,rL=Wb,sL=Gb,iL=Xb,oL=Yb,aL=Qb,lL=Zb,cL=tS,rS="DropdownMenu",[uL]=Cr(rS,[Ob]),In=Ob(),[FU,sS]=uL(rS),iS="DropdownMenuTrigger",dL=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,l=sS(iS,n),d=In(n);return a.jsx(YM,{asChild:!0,...d,children:a.jsx(Ke.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:jd(t,l.triggerRef),onPointerDown:ke(e.onPointerDown,f=>{!s&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:ke(e.onKeyDown,f=>{s||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});dL.displayName=iS;var fL="DropdownMenuPortal",oS=e=>{const{__scopeDropdownMenu:t,...n}=e,s=In(t);return a.jsx(QM,{...s,...n})};oS.displayName=fL;var aS="DropdownMenuContent",lS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=sS(aS,n),l=In(n),d=S.useRef(!1);return a.jsx(JM,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...s,ref:t,onCloseAutoFocus:ke(e.onCloseAutoFocus,f=>{var p;d.current||(p=o.triggerRef.current)==null||p.focus(),d.current=!1,f.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,f=>{const p=f.detail.originalEvent,v=p.button===0&&p.ctrlKey===!0,g=p.button===2||v;(!o.modal||g)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lS.displayName=aS;var hL="DropdownMenuGroup",pL=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(ZM,{...o,...s,ref:t})});pL.displayName=hL;var mL="DropdownMenuLabel",cS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(eL,{...o,...s,ref:t})});cS.displayName=mL;var gL="DropdownMenuItem",uS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(tL,{...o,...s,ref:t})});uS.displayName=gL;var vL="DropdownMenuCheckboxItem",dS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(nL,{...o,...s,ref:t})});dS.displayName=vL;var yL="DropdownMenuRadioGroup",xL=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(rL,{...o,...s,ref:t})});xL.displayName=yL;var _L="DropdownMenuRadioItem",fS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(sL,{...o,...s,ref:t})});fS.displayName=_L;var wL="DropdownMenuItemIndicator",hS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(iL,{...o,...s,ref:t})});hS.displayName=wL;var bL="DropdownMenuSeparator",pS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(oL,{...o,...s,ref:t})});pS.displayName=bL;var SL="DropdownMenuArrow",CL=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(aL,{...o,...s,ref:t})});CL.displayName=SL;var kL="DropdownMenuSubTrigger",mS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(lL,{...o,...s,ref:t})});mS.displayName=kL;var jL="DropdownMenuSubContent",gS=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=In(n);return a.jsx(cL,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gS.displayName=jL;var PL=oS,vS=lS,yS=cS,xS=uS,_S=dS,wS=fS,bS=hS,SS=pS,CS=mS,kS=gS;const TL=S.forwardRef(({className:e,inset:t,children:n,...s},o)=>a.jsxs(CS,{ref:o,className:Be("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,a.jsx(CR,{className:"ml-auto"})]}));TL.displayName=CS.displayName;const NL=S.forwardRef(({className:e,...t},n)=>a.jsx(kS,{ref:n,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));NL.displayName=kS.displayName;const EL=S.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(PL,{children:a.jsx(vS,{ref:s,sideOffset:t,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));EL.displayName=vS.displayName;const RL=S.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(xS,{ref:s,className:Be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));RL.displayName=xS.displayName;const AL=S.forwardRef(({className:e,children:t,checked:n,...s},o)=>a.jsxs(_S,{ref:o,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(bS,{children:a.jsx(Hm,{className:"h-4 w-4"})})}),t]}));AL.displayName=_S.displayName;const IL=S.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(wS,{ref:s,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(bS,{children:a.jsx(RR,{className:"h-2 w-2 fill-current"})})}),t]}));IL.displayName=wS.displayName;const ML=S.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(yS,{ref:s,className:Be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));ML.displayName=yS.displayName;const LL=S.forwardRef(({className:e,...t},n)=>a.jsx(SS,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));LL.displayName=SS.displayName;var Ud="Dialog",[jS]=Cr(Ud),[OL,kr]=jS(Ud),PS=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:o,onOpenChange:l,modal:d=!0}=e,f=S.useRef(null),p=S.useRef(null),[v,g]=co({prop:s,defaultProp:o??!1,onChange:l,caller:Ud});return a.jsx(OL,{scope:t,triggerRef:f,contentRef:p,contentId:ri(),titleId:ri(),descriptionId:ri(),open:v,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(u=>!u),[g]),modal:d,children:n})};PS.displayName=Ud;var TS="DialogTrigger",NS=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=kr(TS,n),l=mt(t,o.triggerRef);return a.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":xg(o.open),...s,ref:l,onClick:ke(e.onClick,o.onOpenToggle)})});NS.displayName=TS;var vg="DialogPortal",[DL,ES]=jS(vg,{forceMount:void 0}),RS=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:o}=e,l=kr(vg,t);return a.jsx(DL,{scope:t,forceMount:n,children:S.Children.map(s,d=>a.jsx(nr,{present:n||l.open,children:a.jsx(uc,{asChild:!0,container:o,children:d})}))})};RS.displayName=vg;var pd="DialogOverlay",AS=S.forwardRef((e,t)=>{const n=ES(pd,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,l=kr(pd,e.__scopeDialog);return l.modal?a.jsx(nr,{present:s||l.open,children:a.jsx(UL,{...o,ref:t})}):null});AS.displayName=pd;var FL=oi("DialogOverlay.RemoveScroll"),UL=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=kr(pd,n);return a.jsx(dc,{as:FL,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Ke.div,{"data-state":xg(o.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),uo="DialogContent",IS=S.forwardRef((e,t)=>{const n=ES(uo,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,l=kr(uo,e.__scopeDialog);return a.jsx(nr,{present:s||l.open,children:l.modal?a.jsx(VL,{...o,ref:t}):a.jsx($L,{...o,ref:t})})});IS.displayName=uo;var VL=S.forwardRef((e,t)=>{const n=kr(uo,e.__scopeDialog),s=S.useRef(null),o=mt(t,n.contentRef,s);return S.useEffect(()=>{const l=s.current;if(l)return Id(l)},[]),a.jsx(MS,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,l=>{var d;l.preventDefault(),(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&l.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,l=>l.preventDefault())})}),$L=S.forwardRef((e,t)=>{const n=kr(uo,e.__scopeDialog),s=S.useRef(!1),o=S.useRef(!1);return a.jsx(MS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var d,f;(d=e.onCloseAutoFocus)==null||d.call(e,l),l.defaultPrevented||(s.current||(f=n.triggerRef.current)==null||f.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{var p,v;(p=e.onInteractOutside)==null||p.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;((v=n.triggerRef.current)==null?void 0:v.contains(d))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),MS=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=e,f=kr(uo,n),p=S.useRef(null),v=mt(t,p);return Pd(),a.jsxs(a.Fragment,{children:[a.jsx(lc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(ac,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":xg(f.open),...d,ref:v,onDismiss:()=>f.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(BL,{titleId:f.titleId}),a.jsx(HL,{contentRef:p,descriptionId:f.descriptionId})]})]})}),yg="DialogTitle",LS=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=kr(yg,n);return a.jsx(Ke.h2,{id:o.titleId,...s,ref:t})});LS.displayName=yg;var OS="DialogDescription",DS=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=kr(OS,n);return a.jsx(Ke.p,{id:o.descriptionId,...s,ref:t})});DS.displayName=OS;var FS="DialogClose",US=S.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=kr(FS,n);return a.jsx(Ke.button,{type:"button",...s,ref:t,onClick:ke(e.onClick,()=>o.onOpenChange(!1))})});US.displayName=FS;function xg(e){return e?"open":"closed"}var VS="DialogTitleWarning",[UU,$S]=CA(VS,{contentName:uo,titleName:yg,docsSlug:"dialog"}),BL=({titleId:e})=>{const t=$S(VS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zL="DialogDescriptionWarning",HL=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$S(zL).contentName}}.`;return S.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},BS=PS,WL=NS,zS=RS,Vd=AS,$d=IS,Bd=LS,zd=DS,HS=US;const to=BS,qL=zS,WS=S.forwardRef(({className:e,...t},n)=>a.jsx(Vd,{ref:n,className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));WS.displayName=Vd.displayName;const Js=S.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(qL,{children:[a.jsx(WS,{}),a.jsxs($d,{ref:s,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(HS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(oc,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Js.displayName=$d.displayName;const Zs=({className:e,...t})=>a.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zs.displayName="DialogHeader";const ei=({className:e,...t})=>a.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ei.displayName="DialogFooter";const ti=S.forwardRef(({className:e,...t},n)=>a.jsx(Bd,{ref:n,className:Be("text-lg font-semibold leading-none tracking-tight",e),...t}));ti.displayName=Bd.displayName;const Gl=S.forwardRef(({className:e,...t},n)=>a.jsx(zd,{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));Gl.displayName=zd.displayName;const GL=BS,KL=WL,XL=zS,qS=S.forwardRef(({className:e,...t},n)=>a.jsx(Vd,{className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));qS.displayName=Vd.displayName;const YL=ic("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),GS=S.forwardRef(({side:e="right",className:t,children:n,...s},o)=>a.jsxs(XL,{children:[a.jsx(qS,{}),a.jsxs($d,{ref:o,className:Be(YL({side:e}),t),...s,children:[a.jsxs(HS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(oc,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));GS.displayName=$d.displayName;const KS=({className:e,...t})=>a.jsx("div",{className:Be("flex flex-col space-y-2 text-center sm:text-left",e),...t});KS.displayName="SheetHeader";const XS=S.forwardRef(({className:e,...t},n)=>a.jsx(Bd,{ref:n,className:Be("text-lg font-semibold text-foreground",e),...t}));XS.displayName=Bd.displayName;const QL=S.forwardRef(({className:e,...t},n)=>a.jsx(zd,{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));QL.displayName=zd.displayName;function JL(){return!!(window.navigator.standalone||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches)}function ZL(){const e=navigator.userAgent||"";return/iPhone|iPad|iPod|Android/i.test(e)}function eO(){const[e,t]=U.useState(!1);if(U.useEffect(()=>{!(localStorage.getItem("a2hsPromptDismissed")==="1")&&ZL()&&!JL()&&t(!0)},[]),!e)return null;const n=()=>{localStorage.setItem("a2hsPromptDismissed","1"),t(!1)},s=/iPhone|iPad|iPod/i.test(navigator.userAgent||"");return a.jsx("div",{className:"bg-indigo-50 border-y border-indigo-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-2 flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-indigo-900 text-xs sm:text-sm",children:[a.jsx(oA,{className:"w-4 h-4 flex-shrink-0"}),s?a.jsxs("span",{className:"flex items-center gap-1",children:["Add to Home: tap Share ",a.jsx(tA,{className:"w-3.5 h-3.5 inline"})," then “Add to Home Screen”."]}):a.jsxs("span",{className:"flex items-center gap-1",children:["Add to Home: tap menu ",a.jsx(LR,{className:"w-3.5 h-3.5 inline"})," then “Add to Home screen”."]})]}),a.jsx(Se,{size:"icon",variant:"ghost",onClick:n,className:"h-6 w-6 text-indigo-900",children:a.jsx(oc,{className:"w-4 h-4"})})]})})}const YS=U.createContext(null);function Hd(){return U.useContext(YS)}function fp({volume:e=1}={}){try{const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),s=t.createOscillator(),o=t.createGain();n.type="sine",s.type="triangle";const l=t.currentTime;n.frequency.setValueAtTime(880,l),s.frequency.setValueAtTime(660,l);const d=Math.min(1.5,e);o.gain.setValueAtTime(1e-4,l),o.gain.exponentialRampToValueAtTime(d,l+.03),n.connect(o),s.connect(o),o.connect(t.destination),n.start(l),s.start(l),n.frequency.setValueAtTime(990,l+.18),s.frequency.setValueAtTime(740,l+.18),n.frequency.setValueAtTime(660,l+.36),s.frequency.setValueAtTime(550,l+.36),o.gain.exponentialRampToValueAtTime(1e-4,l+.7),n.stop(l+.75),s.stop(l+.75),setTimeout(()=>t.close().catch(()=>{}),900)}catch{}}const si="/new-notification-021-370045.mp3";function QS(e){return typeof e=="boolean"?e:!!(typeof window<"u"&&window.__AUDIO_DEBUG)}function kt(e,...t){if(e)try{console.log("[SOUND]",...t)}catch{}}let ra=null;async function JS(){if(ra)return ra;try{const e=await fetch(si,{mode:"cors",credentials:"omit",cache:"force-cache"});if(!e.ok)throw new Error(`bell fetch failed: ${e.status}`);const t=await e.blob();return ra=URL.createObjectURL(t),ra}catch{return null}}let p_=!1;function tO(){if(typeof window>"u"||typeof document>"u"||p_)return;const e=()=>{p_=!0;try{const t=window.AudioContext||window.webkitAudioContext;if(t){const n=new t,s=n.createOscillator(),o=n.createGain();o.gain.value=1e-6,s.connect(o),o.connect(n.destination);const l=n.currentTime;try{s.start(l)}catch{}try{s.stop(l+.02)}catch{}setTimeout(()=>{try{n.close()}catch{}},200)}}catch{}document.removeEventListener("pointerdown",e),document.removeEventListener("keydown",e),document.removeEventListener("touchstart",e)};document.addEventListener("pointerdown",e,{once:!0,passive:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0,passive:!0})}let Qi=null;function nO(e,t){!e||e.__wiredDiagnostics||(e.__wiredDiagnostics=!0,e.addEventListener("loadedmetadata",()=>kt(t,"loadedmetadata",{duration:e.duration,readyState:e.readyState,networkState:e.networkState})),e.addEventListener("loadeddata",()=>kt(t,"loadeddata",{readyState:e.readyState,networkState:e.networkState})),e.addEventListener("canplay",()=>kt(t,"canplay",{readyState:e.readyState,networkState:e.networkState})),e.addEventListener("canplaythrough",()=>kt(t,"canplaythrough",{readyState:e.readyState,networkState:e.networkState})),e.addEventListener("play",()=>kt(t,"play event fired")),e.addEventListener("playing",()=>kt(t,"playing")),e.addEventListener("pause",()=>kt(t,"pause")),e.addEventListener("ended",()=>kt(t,"ended")),e.addEventListener("error",()=>{const n=e.error;kt(t,"audio error",{code:n==null?void 0:n.code,message:n==null?void 0:n.message,readyState:e.readyState,networkState:e.networkState,src:e.currentSrc||e.src})}))}function Ju(e=si,t=!1){if(typeof window>"u")return null;if(Qi&&Qi.src&&Qi.src.includes(e))return Qi;const n=new Audio;n.src=e,n.crossOrigin="anonymous",n.preload="auto",n.loop=!1,nO(n,t),Qi=n;try{Qi.load()}catch{}return kt(t,"created audio element",{src:n.src}),Qi}function rO(e=si,t={}){var s;const n=QS(t.debug);try{const o=Ju(e,n);kt(n,"preloading sound..."),(s=o==null?void 0:o.load)==null||s.call(o)}catch(o){kt(n,"preload error",(o==null?void 0:o.message)||o)}}async function Sn({volume:e=1,debug:t}={}){const n=QS(t);kt(n,"ring: START (Blob URL preferred)",{url:si,volume:e});try{const s=ra||await JS();if(s){const o=Ju(s,n);if(o){try{o.pause()}catch{}try{o.currentTime=0}catch{}o.volume=Math.max(.5,Math.min(1,e)),kt(n,"BlobAudio: attempting play()",{src:o.currentSrc||o.src,volume:o.volume});let l=!1;o.play().then(()=>{l=!0,kt(n,"BlobAudio: play() resolved (MP3 playing)")}).catch(f=>{kt(n,"BlobAudio: play() rejected",f==null?void 0:f.name,f==null?void 0:f.message)}),setTimeout(()=>{l||(kt(n,"BlobAudio: fallback chime (no playing within 2200ms)"),fp({volume:1}))},2200);return}}}catch(s){kt(n,"Blob path error:",s==null?void 0:s.name,s==null?void 0:s.message)}try{const s=Ju(si,n);if(s){try{s.pause()}catch{}try{s.currentTime=0}catch{}s.volume=Math.max(.5,Math.min(1,e)),kt(n,"HTMLAudio: attempting play()",{src:s.currentSrc||s.src,volume:s.volume,readyState:s.readyState,networkState:s.networkState});let o=!1;s.play().then(()=>{o=!0,kt(n,"HTMLAudio: play() resolved (MP3 playing)")}).catch(d=>{if(kt(n,"HTMLAudio: play() rejected",d==null?void 0:d.name,d==null?void 0:d.message),typeof document<"u"){const f=async()=>{try{const p=Ju(si,n);if(!p)return;try{p.pause()}catch{}try{p.currentTime=0}catch{}p.volume=Math.max(.5,Math.min(1,e)),kt(n,"HTMLAudio: retrying play() on gesture"),await p.play(),kt(n,"HTMLAudio: retry succeeded")}catch(p){kt(n,"HTMLAudio: retry failed",p==null?void 0:p.name,p==null?void 0:p.message)}finally{document.removeEventListener("pointerdown",f),document.removeEventListener("keydown",f),document.removeEventListener("touchstart",f)}};document.addEventListener("pointerdown",f,{once:!0,passive:!0}),document.addEventListener("keydown",f,{once:!0}),document.addEventListener("touchstart",f,{once:!0,passive:!0})}}),setTimeout(()=>{o||(kt(n,"HTMLAudio: fallback chime (no playing within 2200ms)"),fp({volume:1}))},2200);return}}catch(s){kt(n,"HTMLAudio: failed synchronously",s==null?void 0:s.name,s==null?void 0:s.message)}try{kt(n,"Final fallback: chime only"),fp({volume:Math.min(1.5,e*1.6)})}catch{}}function Ol(){if(typeof window>"u"||window.__AUDIO_PRIMED)return;const e=async()=>{try{await JS();const t=ra||si,n=new Audio(t);n.crossOrigin="anonymous",n.preload="auto",n.volume=0,await n.play().catch(()=>{});try{n.pause()}catch{}try{n.currentTime=0}catch{}window.__AUDIO_PRIMED=!0}catch{}finally{document.removeEventListener("pointerdown",e,!0),document.removeEventListener("keydown",e,!0),document.removeEventListener("touchstart",e,!0)}};document.addEventListener("pointerdown",e,{once:!0,passive:!0,capture:!0}),document.addEventListener("keydown",e,{once:!0,capture:!0}),document.addEventListener("touchstart",e,{once:!0,passive:!0,capture:!0})}function sO(){return Sn({volume:1,debug:!0})}typeof window<"u"&&(window.BELL_URL=si,window.__PLAY_NOTIFICATION_TEST||(window.__PLAY_NOTIFICATION_TEST=()=>Sn({volume:1,debug:!0})),window.playPharmacyBell||(window.playPharmacyBell=()=>Sn({volume:1})),window.__PLAY_NETLIFY_MP3||(window.__PLAY_NETLIFY_MP3=()=>sO()));var Bw;typeof window<"u"&&(delete window.__EVENTS_BASE__,window.__PHARMACY_CHANNEL__=(((Bw=window.__USER__)==null?void 0:Bw.email)||"").trim().toLowerCase());let en=null,Cl=!1,ZS=0,ea=0,kl="";const da=new Map,m_="__all__";function iO(e,t){da.has(e)||da.set(e,new Set),da.get(e).add(t)}function oO(e,t){const n=da.get(e);n&&n.delete(t)}function Gs(e,t){const n=da.get("*");if(n&&n.size>0)for(const o of Array.from(n))try{o(e,t)}catch{}const s=da.get(e);if(!(!s||s.size===0))for(const o of Array.from(s))try{o(t)}catch{}}function Zu(e){const t=Date.now();ea=Math.min(e??(ea?Math.min(ea*2,6e4):5e3),6e4),ZS=t+ea,setTimeout(()=>{_s()},ea+50)}function aO(){var t;if(typeof window>"u")return"";const e=(window.__PHARMACY_CHANNEL__||((t=window.__USER__)==null?void 0:t.email)||"").trim().toLowerCase();if(!e)try{return(localStorage.getItem("__rtx_pharmacy_channel")||"").trim().toLowerCase()||m_}catch{return m_}if(e)try{localStorage.setItem("__rtx_pharmacy_channel",e)}catch{}return e}function lO(e){try{if(typeof window>"u")return;const t=String(e||"").trim().toLowerCase();if(!t)return;window.__PHARMACY_CHANNEL__=t;try{localStorage.setItem("__rtx_pharmacy_channel",t)}catch{}console.log("[SSE] channel set via setSseChannel:",t),_s()}catch(t){try{console.warn("[SSE] setSseChannel error:",(t==null?void 0:t.message)||t)}catch{}}}function _s(){const e=Date.now();if(Cl)return;const t=aO();if(!t){Zu(1500);return}if(!(en&&en.readyState===1&&kl===t)&&!(e<ZS)){Cl=!0;try{if(en){try{en.close()}catch{}en=null}kl=t;const s=`${typeof window<"u"&&window.location&&window.location.origin?window.location.origin:""}/functions/events?ts=${Date.now()}&channel=${encodeURIComponent(t)}`;try{console.log("[SSE] connecting:",s,"channel:",t)}catch{}en=new EventSource(s,{withCredentials:!0}),en.addEventListener("open",l=>{ea=0,Gs("sse_open",{ok:!0,t:Date.now(),channel:t}),Gs("__connected__",{t:Date.now(),channel:t}),Cl=!1;try{const d=l!=null&&l.data?JSON.parse(l.data):null;d&&d.instance_id&&console.log("[SSE] server diagnostics:",d)}catch{}try{console.log("[SSE] open on",t)}catch{}}),["request_update","new_pharmacy_request","notification","ping","open"].forEach(l=>{en.addEventListener(l,d=>{let f=null;try{f=d.data?JSON.parse(d.data):null}catch{f=d.data||null}Gs(l,f)})}),en.addEventListener("message",l=>{try{const d=l!=null&&l.data?JSON.parse(l.data):null;d&&typeof d=="object"&&d.event&&Gs(d.event,d.data)}catch{}}),en.addEventListener("error",l=>{try{console.warn("[SSE] onerror fired; readyState:",en==null?void 0:en.readyState,"channel:",kl,l)}catch{}Gs("sse_error",{t:Date.now()}),Gs("__disconnected__",{t:Date.now(),channel:kl||t})}),en.onerror=()=>{Gs("sse_error",{t:Date.now()}),Gs("__disconnected__",{t:Date.now(),channel:kl||t});try{en.close()}catch{}en=null,Cl=!1,Zu()}}catch{Cl=!1,Zu()}}}function dn(e,t){return iO(e,t),_s(),()=>oO(e,t)}function Zo(){Zu(3e4)}function cO(){return!!en&&en.readyState===1}function uO({children:e,currentPageName:t}){const n=Sr(),[s,o]=U.useState(null),[l,d]=U.useState(!1),[f,p]=U.useState(!1),[v,g]=U.useState(!1),[u,h]=U.useState(""),[y,b]=U.useState(!0);U.useEffect(()=>{_s()},[]),U.useEffect(()=>{(async()=>{try{if(new URLSearchParams(window.location.search).has("hide_badge")){o(null),b(!1);return}const O=n.pathname,F=new Set(["/",Le("signin"),Le("logout"),Le("MedicationPublic")]);if(F.has(O)){o(null),b(!1);return}const K=await Je.me();if(o(K),!K&&!F.has(O)){const ne=window.__RTX_NAVIGATE__;typeof ne=="function"?ne("signin"):window.location.href=Le("signin");return}b(!1)}catch{o(null);const O=n.pathname;if(!new Set(["/",Le("signin"),Le("logout"),Le("MedicationPublic")]).has(O)){const K=window.__RTX_NAVIGATE__;typeof K=="function"?K("signin"):window.location.href=Le("signin");return}b(!1)}})()},[n.pathname]),U.useEffect(()=>{let A=!1;return(async()=>{var de;const O=n.pathname;if(new Set(["/",Le("Home"),Le("signin"),Le("Onboarding"),Le("MedicationPublic")]).has(O)){A||d(!1);return}if(new URLSearchParams(window.location.search).has("hide_badge")){A||d(!1);return}if(!s||!new Set(["admin","prescriber","pharmacy_staff","prescriber_staff"]).has(s.user_role)){A||d(!1);return}try{const{AppSettings:te}=await so(async()=>{const{AppSettings:be}=await Promise.resolve().then(()=>ni);return{AppSettings:be}},[]),ie=await te.list();A||d(((de=ie[0])==null?void 0:de.kiosk_mode)||!1)}catch{A||d(!1)}})(),()=>{A=!0}},[n.pathname,s]),U.useEffect(()=>{s!=null&&s.email&&(typeof window>"u"||(delete window.__EVENTS_BASE__,window.__PHARMACY_CHANNEL__=(s.email||"").trim(),console.log("[Layout] channel set:",window.__PHARMACY_CHANNEL__),_s()))},[s==null?void 0:s.email]),U.useEffect(()=>{tO(),rO()},[]),U.useEffect(()=>{try{const A=new URLSearchParams(window.location.search);A.has("audio_debug")&&(window.__AUDIO_DEBUG=!0,console.log("[SOUND] Audio debug enabled via ?audio_debug=1"));const I=navigator.userAgent||"";(window.todesktop||I.includes("ToDesktop"))&&!A.has("audio_debug")&&(window.__AUDIO_DEBUG=!0,console.log("[SOUND] Audio debug enabled (ToDesktop detected)"))}catch{}},[]),U.useEffect(()=>{if(!l)return;const A=setInterval(async()=>{try{await Je.me()}catch{}},240*1e3),I=F=>{F.shiftKey&&String(F.key).toLowerCase()==="l"&&(window.location.href=Le("logout"))};window.addEventListener("keydown",I);const O=document.documentElement;return O.requestFullscreen&&O.requestFullscreen().catch(()=>{}),()=>{clearInterval(A),window.removeEventListener("keydown",I),document.fullscreenElement&&document.exitFullscreen().catch(()=>{})}},[l]),U.useEffect(()=>{v&&(async()=>{var A;try{const{AppSettings:I}=await so(async()=>{const{AppSettings:F}=await Promise.resolve().then(()=>ni);return{AppSettings:F}},void 0),O=await I.list();h(((A=O==null?void 0:O[0])==null?void 0:A.helpdesk_phone_number)||"")}catch{h("")}})()},[v]);const w=U.useCallback(async()=>{await Je.logout(),window.location.reload()},[]),C=U.useCallback(A=>{const I=window.__RTX_NAVIGATE__;typeof I=="function"?I(A):window.location.href=Le(A)},[]);n.pathname===Le("Home")||n.pathname,n.pathname===Le("signin")||(n.pathname,Le("Onboarding"));const j=new URLSearchParams(window.location.search).has("hide_badge"),E=n.pathname===Le("MedicationPublic");s&&s.user_role,s&&(s.user_role==="prescriber"||s.user_role);const L=U.useCallback(()=>{const A=[],I=O=>{p(!1),C(O)};return s&&(s.user_role==="prescriber"||s.user_role==="prescriber_staff")?A.push({label:"Requests",action:()=>I("PrescriberTool")}):A.push({label:"Home",action:()=>I("Home")}),s&&(s.user_role==="prescriber"&&A.push({label:"Team Access",action:()=>I("TeamAccess")}),s.user_role==="pharmacy_staff"&&A.push({label:"My Prices",action:()=>I("PharmacyPrices")}),s.user_role==="admin"&&(A.push({label:"Admin Users",action:()=>I("AdminUsers")}),A.push({label:"Admin Medication Requests",action:()=>I("AdminMedicationRequests")}),A.push({label:"Admin Settings",action:()=>I("AdminSettings")}),A.push({label:"Security Check",action:()=>I("SecurityCheck")})),A.push({label:"Profile & Settings",action:()=>I("ProfileSettings")}),A.push({label:"Help & Support",action:()=>{p(!1),g(!0)}}),A.push({label:"Logout",action:()=>{p(!1),w()},destructive:!0})),A},[s,p,C,g,w]),D=U.useMemo(()=>{const A=n.pathname;return new Set(["/",Le("signin"),Le("logout"),Le("MedicationPublic")]).has(A)},[n.pathname]);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col overflow-x-hidden",children:[a.jsx("style",{children:`
        .card{background:#fff;border:1px solid #e8e9ee;border-radius:12px;padding:12px;margin:10px 0}
        .card .row{display:flex;justify-content:space-between;align-items:center;gap:8px}
        .title{font-weight:600;font-size:15px;line-height:1.25}
        .meta{color:#667085;font-size:12px}
        .badge{background:#eef2ff;color:#2746ff;padding:4px 8px;border-radius:999px;font-size:12px}
        .btn{background:#2b67ff;color:#fff;border:none;border-radius:10px;padding:10px 12px;font-weight:600}
        .btn[disabled]{opacity:.5}
        .btn-secondary{background:#fff;color:#2b67ff;border:1px solid #cdd3ff}
        .page{min-height:100dvh;display:flex;flex-direction:column}
        .sticky-actions{position:sticky;bottom:0;padding:12px 12px calc(12px + env(safe-area-inset-bottom));background:#f7f8fa}
        .form-card{background:#fff;border:1px solid #e8e9ee;border-radius:12px;padding:12px;margin:0 12px;max-height:calc(100dvh - 160px);overflow:auto}
        .label{display:block;font-size:13px;font-weight:600;margin-bottom:6px}
        .input, .select{width:100%;height:44px;border:1px solid #dcdde3;border-radius:8px;padding:0 12px}
        .grid-zip{display:grid;grid-template-columns:2fr 1fr;gap:8px}
        .actions{display:flex;gap:8px;margin:8px 12px 12px;align-items:flex-start}
      `}),a.jsx("style",{children:`
        .rtx-card{background:#fff;border:1px solid #E6E8EE;border-radius:14px;box-shadow:0 1px 2px rgba(16,24,40,.04);padding:14px}
        .rtx-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
        .rtx-col{display:flex;flex-direction:column;gap:4px}
        .rtx-title{font-weight:700;font-size:16px;line-height:1.25;color:#101828}
        .rtx-sub{font-weight:500;font-size:13px;color:#344054}
        .rtx-muted{font-size:12px;color:#667085}
        .rtx-badge{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:600}
        .badge-waiting{background:#F2F4F7;color:#475467}
        .badge-instock{background:#ECFDF3;color:#027A48}
        .badge-outstock{background:#FEF3F2;color:#B42318}
        .badge-options{background:#EEF2FF;color:#3538CD}
        .rtx-chip{display:inline-flex;align-items:center;gap:6px;padding:3px 8px;border-radius:999px;font-size:12px;background:#F8FAFF;color:#344054;border:1px solid #E6E8EE}
        .rtx-btn{height:40px;padding:0 14px;border-radius:10px;border:1px solid transparent;font-weight:700;background:#2B67FF;color:#fff}
        .rtx-btn:disabled{opacity:.5;pointer-events:none}
        .rtx-btn-secondary{background:#fff;color:#2B67FF;border-color:#CAD7FF}
        .rtx-divider{height:1px;background:#F2F4F7;margin:12px 0}
        .rtx-item{padding:8px 0}
        @keyframes flash{0%{background:#FFFBEA}100%{background:transparent}}
        .rtx-flash{animation:flash .8s ease-in-out 1}
      `}),a.jsxs("header",{className:"bg-white border-b shadow-sm sticky top-0 z-40",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center h-16 justify-between",children:[E?a.jsxs("div",{className:"flex items-center gap-2 min-w-0 cursor-default select-none",children:[a.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68c3ebca8e946b48f7cd65fe/dcccf585d_RT.png",alt:"RealTimeRx logo",className:"h-8 w-8 object-contain select-none",draggable:"false"}),a.jsx("span",{className:"font-semibold text-lg sm:text-2xl text-gray-800 truncate",children:"RealTimeRx"})]}):a.jsxs("button",{onClick:()=>C("Home"),className:"flex items-center gap-2 min-w-0",children:[a.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68c3ebca8e946b48f7cd65fe/dcccf585d_RT.png",alt:"RealTimeRx logo",className:"h-8 w-8 object-contain select-none",draggable:"false"}),a.jsx("span",{className:"font-semibold text-lg sm:text-2xl text-gray-800 truncate",children:"RealTimeRx"})]}),a.jsxs(GL,{open:f,onOpenChange:p,children:[a.jsx(KL,{asChild:!0,children:a.jsx(Se,{variant:"ghost",size:"icon","aria-label":"Menu",children:a.jsx(BR,{className:"w-5 h-5"})})}),a.jsxs(GS,{side:"right",className:"w-[90vw] sm:w-80",children:[a.jsx(KS,{children:a.jsx(XS,{children:"Menu"})}),a.jsx("div",{className:"mt-4 grid gap-2",children:L().map((A,I)=>A.customRender?a.jsx("div",{children:A.label},I):a.jsx(Se,{variant:A.destructive?"destructive":"ghost",className:"justify-start",onClick:A.action,children:A.label},I))})]})]})]})}),a.jsx(eO,{})]}),a.jsx(to,{open:v,onOpenChange:g,children:a.jsxs(Js,{children:[a.jsxs(Zs,{children:[a.jsx(ti,{children:"Help & Support"}),a.jsx(Gl,{children:"Contact us for assistance. No PHI in messages."})]}),a.jsx("div",{className:"space-y-3",children:u?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Helpdesk: ",u]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("a",{href:`tel:${encodeURIComponent(u)}`,className:"flex-1",children:a.jsxs(Se,{className:"w-full",children:[a.jsx(WR,{className:"w-4 h-4 mr-2"}),"Call"]})})})]}):a.jsx("div",{className:"text-sm text-amber-600",children:"No helpdesk number configured yet."})}),a.jsx(ei,{children:a.jsx(Se,{onClick:()=>g(!1),children:"Close"})})]})}),a.jsx(YS.Provider,{value:s,children:!y||D?a.jsx("main",{className:"flex-1",children:e}):a.jsx("main",{className:"flex-1"})}),a.jsx(F0,{})]})}const tt=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("rounded-xl border bg-card text-card-foreground shadow",e),...t}));tt.displayName="Card";const _t=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("flex flex-col space-y-1.5 p-6",e),...t}));_t.displayName="CardHeader";const wt=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("font-semibold leading-none tracking-tight",e),...t}));wt.displayName="CardTitle";const Ct=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));Ct.displayName="CardDescription";const ot=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("p-6 pt-0",e),...t}));ot.displayName="CardContent";const dO=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("flex items-center p-6 pt-0",e),...t}));dO.displayName="CardFooter";const fO=ic("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hn({className:e,variant:t,...n}){return a.jsx("div",{className:Be(fO({variant:t}),e),...n})}function hO(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{timeZone:"America/New_York",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0,timeZoneName:"short"}).format(t)}function _g(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{timeZone:"America/New_York",year:"numeric",month:"short",day:"numeric"}).format(t)}const wg=S.createContext({});function bg(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sg=typeof window<"u",e1=Sg?S.useLayoutEffect:S.useEffect,Wd=S.createContext(null);function Cg(e,t){e.indexOf(t)===-1&&e.push(t)}function kg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ws=(e,t,n)=>n>t?t:n<e?e:n;let jg=()=>{};const bs={},t1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function n1(e){return typeof e=="object"&&e!==null}const r1=e=>/^0[^.\s]+$/u.test(e);function Pg(e){let t;return()=>(t===void 0&&(t=e()),t)}const tr=e=>e,pO=(e,t)=>n=>t(e(n)),pc=(...e)=>e.reduce(pO),Kl=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Tg{constructor(){this.subscriptions=[]}add(t){return Cg(this.subscriptions,t),()=>kg(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const d=this.subscriptions[l];d&&d(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kr=e=>e*1e3,Jn=e=>e/1e3;function s1(e,t){return t?e*(1e3/t):0}const i1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,mO=1e-7,gO=12;function vO(e,t,n,s,o){let l,d,f=0;do d=t+(n-t)/2,l=i1(d,s,o)-e,l>0?n=d:t=d;while(Math.abs(l)>mO&&++f<gO);return d}function mc(e,t,n,s){if(e===t&&n===s)return tr;const o=l=>vO(l,0,1,e,n);return l=>l===0||l===1?l:i1(o(l),t,s)}const o1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,a1=e=>t=>1-e(1-t),l1=mc(.33,1.53,.69,.99),Ng=a1(l1),c1=o1(Ng),u1=e=>(e*=2)<1?.5*Ng(e):.5*(2-Math.pow(2,-10*(e-1))),Eg=e=>1-Math.sin(Math.acos(e)),d1=a1(Eg),f1=o1(Eg),yO=mc(.42,0,1,1),xO=mc(0,0,.58,1),h1=mc(.42,0,.58,1),_O=e=>Array.isArray(e)&&typeof e[0]!="number",p1=e=>Array.isArray(e)&&typeof e[0]=="number",wO={linear:tr,easeIn:yO,easeInOut:h1,easeOut:xO,circIn:Eg,circInOut:f1,circOut:d1,backIn:Ng,backInOut:c1,backOut:l1,anticipate:u1},bO=e=>typeof e=="string",g_=e=>{if(p1(e)){jg(e.length===4);const[t,n,s,o]=e;return mc(t,n,s,o)}else if(bO(e))return wO[e];return e},Lu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SO(e,t){let n=new Set,s=new Set,o=!1,l=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(g){d.has(g)&&(v.schedule(g),e()),g(f)}const v={schedule:(g,u=!1,h=!1)=>{const b=h&&o?n:s;return u&&d.add(g),b.has(g)||b.add(g),g},cancel:g=>{s.delete(g),d.delete(g)},process:g=>{if(f=g,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),n.clear(),o=!1,l&&(l=!1,v.process(g))}};return v}const CO=40;function m1(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,d=Lu.reduce((E,L)=>(E[L]=SO(l),E),{}),{setup:f,read:p,resolveKeyframes:v,preUpdate:g,update:u,preRender:h,render:y,postRender:b}=d,w=()=>{const E=bs.useManualTiming?o.timestamp:performance.now();n=!1,bs.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(E-o.timestamp,CO),1)),o.timestamp=E,o.isProcessing=!0,f.process(o),p.process(o),v.process(o),g.process(o),u.process(o),h.process(o),y.process(o),b.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(w))},C=()=>{n=!0,s=!0,o.isProcessing||e(w)};return{schedule:Lu.reduce((E,L)=>{const D=d[L];return E[L]=(A,I=!1,O=!1)=>(n||C(),D.schedule(A,I,O)),E},{}),cancel:E=>{for(let L=0;L<Lu.length;L++)d[Lu[L]].cancel(E)},state:o,steps:d}}const{schedule:At,cancel:ci,state:sn,steps:hp}=m1(typeof requestAnimationFrame<"u"?requestAnimationFrame:tr,!0);let ed;function kO(){ed=void 0}const An={now:()=>(ed===void 0&&An.set(sn.isProcessing||bs.useManualTiming?sn.timestamp:performance.now()),ed),set:e=>{ed=e,queueMicrotask(kO)}},g1=e=>t=>typeof t=="string"&&t.startsWith(e),Rg=g1("--"),jO=g1("var(--"),Ag=e=>jO(e)?PO.test(e.split("/*")[0].trim()):!1,PO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ja={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xl={...ja,transform:e=>ws(0,1,e)},Ou={...ja,default:1},Dl=e=>Math.round(e*1e5)/1e5,Ig=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TO(e){return e==null}const NO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mg=(e,t)=>n=>!!(typeof n=="string"&&NO.test(n)&&n.startsWith(e)||t&&!TO(n)&&Object.prototype.hasOwnProperty.call(n,t)),v1=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,d,f]=s.match(Ig);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},EO=e=>ws(0,255,e),pp={...ja,transform:e=>Math.round(EO(e))},no={test:Mg("rgb","red"),parse:v1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+pp.transform(e)+", "+pp.transform(t)+", "+pp.transform(n)+", "+Dl(Xl.transform(s))+")"};function RO(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Zp={test:Mg("#"),parse:RO,transform:no.transform},gc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xs=gc("deg"),Xr=gc("%"),qe=gc("px"),AO=gc("vh"),IO=gc("vw"),v_={...Xr,parse:e=>Xr.parse(e)/100,transform:e=>Xr.transform(e*100)},sa={test:Mg("hsl","hue"),parse:v1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Xr.transform(Dl(t))+", "+Xr.transform(Dl(n))+", "+Dl(Xl.transform(s))+")"},Wt={test:e=>no.test(e)||Zp.test(e)||sa.test(e),parse:e=>no.test(e)?no.parse(e):sa.test(e)?sa.parse(e):Zp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?no.transform(e):sa.transform(e),getAnimatableNone:e=>{const t=Wt.parse(e);return t.alpha=0,Wt.transform(t)}},MO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ig))==null?void 0:t.length)||0)+(((n=e.match(MO))==null?void 0:n.length)||0)>0}const y1="number",x1="color",OO="var",DO="var(",y_="${}",FO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yl(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const f=t.replace(FO,p=>(Wt.test(p)?(s.color.push(l),o.push(x1),n.push(Wt.parse(p))):p.startsWith(DO)?(s.var.push(l),o.push(OO),n.push(p)):(s.number.push(l),o.push(y1),n.push(parseFloat(p))),++l,y_)).split(y_);return{values:n,split:f,indexes:s,types:o}}function _1(e){return Yl(e).values}function w1(e){const{split:t,types:n}=Yl(e),s=t.length;return o=>{let l="";for(let d=0;d<s;d++)if(l+=t[d],o[d]!==void 0){const f=n[d];f===y1?l+=Dl(o[d]):f===x1?l+=Wt.transform(o[d]):l+=o[d]}return l}}const UO=e=>typeof e=="number"?0:Wt.test(e)?Wt.getAnimatableNone(e):e;function VO(e){const t=_1(e);return w1(e)(t.map(UO))}const ui={test:LO,parse:_1,createTransformer:w1,getAnimatableNone:VO};function mp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $O({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,d=0;if(!t)o=l=d=n;else{const f=n<.5?n*(1+t):n+t-n*t,p=2*n-f;o=mp(p,f,e+1/3),l=mp(p,f,e),d=mp(p,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(d*255),alpha:s}}function md(e,t){return n=>n>0?t:e}const Dt=(e,t,n)=>e+(t-e)*n,gp=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},BO=[Zp,no,sa],zO=e=>BO.find(t=>t.test(e));function x_(e){const t=zO(e);if(!t)return!1;let n=t.parse(e);return t===sa&&(n=$O(n)),n}const __=(e,t)=>{const n=x_(e),s=x_(t);if(!n||!s)return md(e,t);const o={...n};return l=>(o.red=gp(n.red,s.red,l),o.green=gp(n.green,s.green,l),o.blue=gp(n.blue,s.blue,l),o.alpha=Dt(n.alpha,s.alpha,l),no.transform(o))},em=new Set(["none","hidden"]);function HO(e,t){return em.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function WO(e,t){return n=>Dt(e,t,n)}function Lg(e){return typeof e=="number"?WO:typeof e=="string"?Ag(e)?md:Wt.test(e)?__:KO:Array.isArray(e)?b1:typeof e=="object"?Wt.test(e)?__:qO:md}function b1(e,t){const n=[...e],s=n.length,o=e.map((l,d)=>Lg(l)(l,t[d]));return l=>{for(let d=0;d<s;d++)n[d]=o[d](l);return n}}function qO(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Lg(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function GO(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],d=e.indexes[l][s[l]],f=e.values[d]??0;n[o]=f,s[l]++}return n}const KO=(e,t)=>{const n=ui.createTransformer(t),s=Yl(e),o=Yl(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?em.has(e)&&!o.values.length||em.has(t)&&!s.values.length?HO(e,t):pc(b1(GO(s,o),o.values),n):md(e,t)};function S1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Dt(e,t,n):Lg(e)(e,t)}const XO=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>At.update(t,n),stop:()=>ci(t),now:()=>sn.isProcessing?sn.timestamp:An.now()}},C1=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},gd=2e4;function Og(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<gd;)t+=n,s=e.next(t);return t>=gd?1/0:t}function YO(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Og(s),gd);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:Jn(o)}}const QO=5;function k1(e,t,n){const s=Math.max(t-QO,0);return s1(n-e(s),t-s)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vp=.001;function JO({duration:e=Ut.duration,bounce:t=Ut.bounce,velocity:n=Ut.velocity,mass:s=Ut.mass}){let o,l,d=1-t;d=ws(Ut.minDamping,Ut.maxDamping,d),e=ws(Ut.minDuration,Ut.maxDuration,Jn(e)),d<1?(o=v=>{const g=v*d,u=g*e,h=g-n,y=tm(v,d),b=Math.exp(-u);return vp-h/y*b},l=v=>{const u=v*d*e,h=u*n+n,y=Math.pow(d,2)*Math.pow(v,2)*e,b=Math.exp(-u),w=tm(Math.pow(v,2),d);return(-o(v)+vp>0?-1:1)*((h-y)*b)/w}):(o=v=>{const g=Math.exp(-v*e),u=(v-n)*e+1;return-vp+g*u},l=v=>{const g=Math.exp(-v*e),u=(n-v)*(e*e);return g*u});const f=5/e,p=eD(o,l,f);if(e=Kr(e),isNaN(p))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:e};{const v=Math.pow(p,2)*s;return{stiffness:v,damping:d*2*Math.sqrt(s*v),duration:e}}}const ZO=12;function eD(e,t,n){let s=n;for(let o=1;o<ZO;o++)s=s-e(s)/t(s);return s}function tm(e,t){return e*Math.sqrt(1-t*t)}const tD=["duration","bounce"],nD=["stiffness","damping","mass"];function w_(e,t){return t.some(n=>e[n]!==void 0)}function rD(e){let t={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...e};if(!w_(e,nD)&&w_(e,tD))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*ws(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ut.mass,stiffness:o,damping:l}}else{const n=JO(e);t={...t,...n,mass:Ut.mass},t.isResolvedFromDuration=!0}return t}function vd(e=Ut.visualDuration,t=Ut.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:v,mass:g,duration:u,velocity:h,isResolvedFromDuration:y}=rD({...n,velocity:-Jn(n.velocity||0)}),b=h||0,w=v/(2*Math.sqrt(p*g)),C=d-l,P=Jn(Math.sqrt(p/g)),j=Math.abs(C)<5;s||(s=j?Ut.restSpeed.granular:Ut.restSpeed.default),o||(o=j?Ut.restDelta.granular:Ut.restDelta.default);let E;if(w<1){const D=tm(P,w);E=A=>{const I=Math.exp(-w*P*A);return d-I*((b+w*P*C)/D*Math.sin(D*A)+C*Math.cos(D*A))}}else if(w===1)E=D=>d-Math.exp(-P*D)*(C+(b+P*C)*D);else{const D=P*Math.sqrt(w*w-1);E=A=>{const I=Math.exp(-w*P*A),O=Math.min(D*A,300);return d-I*((b+w*P*C)*Math.sinh(O)+D*C*Math.cosh(O))/D}}const L={calculatedDuration:y&&u||null,next:D=>{const A=E(D);if(y)f.done=D>=u;else{let I=D===0?b:0;w<1&&(I=D===0?Kr(b):k1(E,D,A));const O=Math.abs(I)<=s,F=Math.abs(d-A)<=o;f.done=O&&F}return f.value=f.done?d:A,f},toString:()=>{const D=Math.min(Og(L),gd),A=C1(I=>L.next(D*I).value,D,30);return D+"ms "+A},toTransition:()=>{}};return L}vd.applyToOptions=e=>{const t=YO(e,100,vd);return e.ease=t.ease,e.duration=Kr(t.duration),e.type="keyframes",e};function nm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:d,min:f,max:p,restDelta:v=.5,restSpeed:g}){const u=e[0],h={done:!1,value:u},y=O=>f!==void 0&&O<f||p!==void 0&&O>p,b=O=>f===void 0?p:p===void 0||Math.abs(f-O)<Math.abs(p-O)?f:p;let w=n*t;const C=u+w,P=d===void 0?C:d(C);P!==C&&(w=P-u);const j=O=>-w*Math.exp(-O/s),E=O=>P+j(O),L=O=>{const F=j(O),K=E(O);h.done=Math.abs(F)<=v,h.value=h.done?P:K};let D,A;const I=O=>{y(h.value)&&(D=O,A=vd({keyframes:[h.value,b(h.value)],velocity:k1(E,O,h.value),damping:o,stiffness:l,restDelta:v,restSpeed:g}))};return I(0),{calculatedDuration:null,next:O=>{let F=!1;return!A&&D===void 0&&(F=!0,L(O),I(O)),D!==void 0&&O>=D?A.next(O-D):(!F&&L(O),h)}}}function sD(e,t,n){const s=[],o=n||bs.mix||S1,l=e.length-1;for(let d=0;d<l;d++){let f=o(e[d],e[d+1]);if(t){const p=Array.isArray(t)?t[d]||tr:t;f=pc(p,f)}s.push(f)}return s}function iD(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(jg(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=sD(t,s,o),p=f.length,v=g=>{if(d&&g<e[0])return t[0];let u=0;if(p>1)for(;u<e.length-2&&!(g<e[u+1]);u++);const h=Kl(e[u],e[u+1],g);return f[u](h)};return n?g=>v(ws(e[0],e[l-1],g)):v}function oD(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Kl(0,t,s);e.push(Dt(n,1,o))}}function aD(e){const t=[0];return oD(t,e.length-1),t}function lD(e,t){return e.map(n=>n*t)}function cD(e,t){return e.map(()=>t||h1).splice(0,e.length-1)}function Fl({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=_O(s)?s.map(g_):g_(s),l={done:!1,value:t[0]},d=lD(n&&n.length===t.length?n:aD(t),e),f=iD(d,t,{ease:Array.isArray(o)?o:cD(t,o)});return{calculatedDuration:e,next:p=>(l.value=f(p),l.done=p>=e,l)}}const uD=e=>e!==null;function Dg(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(uD),f=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const dD={decay:nm,inertia:nm,tween:Fl,keyframes:Fl,spring:vd};function j1(e){typeof e.type=="string"&&(e.type=dD[e.type])}class Fg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const fD=e=>e/100;class Ug extends Fg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;j1(t);const{type:n=Fl,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:d=0}=t;let{keyframes:f}=t;const p=n||Fl;p!==Fl&&typeof f[0]!="number"&&(this.mixKeyframes=pc(fD,S1(f[0],f[1])),f=[0,100]);const v=p({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...f].reverse(),velocity:-d})),v.calculatedDuration===null&&(v.calculatedDuration=Og(v));const{calculatedDuration:g}=v;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=v}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:v=0,keyframes:g,repeat:u,repeatType:h,repeatDelay:y,type:b,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const P=this.currentTime-v*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?P<0:P>o;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,L=s;if(u){const O=Math.min(this.currentTime,o)/f;let F=Math.floor(O),K=O%1;!K&&O>=1&&(K=1),K===1&&F--,F=Math.min(F,u+1),!!(F%2)&&(h==="reverse"?(K=1-K,y&&(K-=y/f)):h==="mirror"&&(L=d)),E=ws(0,1,K)*f}const D=j?{done:!1,value:g[0]}:L.next(E);l&&(D.value=l(D.value));let{done:A}=D;!j&&p!==null&&(A=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return I&&b!==nm&&(D.value=Dg(g,this.options,C,this.speed)),w&&w(D.value),I&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(this.currentTime)}set time(t){var n;t=Kr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(An.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Jn(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=XO,startTime:n}=this.options;this.driver||(this.driver=t(d=>this.tick(d))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function hD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ro=e=>e*180/Math.PI,rm=e=>{const t=ro(Math.atan2(e[1],e[0]));return sm(t)},pD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:rm,rotateZ:rm,skewX:e=>ro(Math.atan(e[1])),skewY:e=>ro(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},sm=e=>(e=e%360,e<0&&(e+=360),e),b_=rm,S_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),C_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),mD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:S_,scaleY:C_,scale:e=>(S_(e)+C_(e))/2,rotateX:e=>sm(ro(Math.atan2(e[6],e[5]))),rotateY:e=>sm(ro(Math.atan2(-e[2],e[0]))),rotateZ:b_,rotate:b_,skewX:e=>ro(Math.atan(e[4])),skewY:e=>ro(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function im(e){return e.includes("scale")?1:0}function om(e,t){if(!e||e==="none")return im(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=mD,o=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=pD,o=f}if(!o)return im(t);const l=s[t],d=o[1].split(",").map(vD);return typeof l=="function"?l(d):d[l]}const gD=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return om(n,t)};function vD(e){return parseFloat(e.trim())}const Pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(Pa),k_=e=>e===ja||e===qe,yD=new Set(["x","y","z"]),xD=Pa.filter(e=>!yD.has(e));function _D(e){const t=[];return xD.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const io={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>om(t,"x"),y:(e,{transform:t})=>om(t,"y")};io.translateX=io.x;io.translateY=io.y;const oo=new Set;let am=!1,lm=!1,cm=!1;function P1(){if(lm){const e=Array.from(oo).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=_D(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,d])=>{var f;(f=s.getValue(l))==null||f.set(d)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}lm=!1,am=!1,oo.forEach(e=>e.complete(cm)),oo.clear()}function T1(){oo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(lm=!0)})}function wD(){cm=!0,T1(),P1(),cm=!1}class Vg{constructor(t,n,s,o,l,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),am||(am=!0,At.read(T1),At.resolveKeyframes(P1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),d=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const f=s.readValue(n,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),o&&l===void 0&&o.set(t[0])}hD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bD=e=>e.startsWith("--");function SD(e,t,n){bD(t)?e.style.setProperty(t,n):e.style[t]=n}const CD=Pg(()=>window.ScrollTimeline!==void 0),kD={};function jD(e,t){const n=Pg(e);return()=>kD[t]??n()}const N1=jD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),El=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,j_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:El([0,.65,.55,1]),circOut:El([.55,0,1,.45]),backIn:El([.31,.01,.66,-.59]),backOut:El([.33,1.53,.69,.99])};function E1(e,t){if(e)return typeof e=="function"?N1()?C1(e,t):"ease-out":p1(e)?El(e):Array.isArray(e)?e.map(n=>E1(n,t)||j_.easeOut):j_[e]}function PD(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:d="loop",ease:f="easeOut",times:p}={},v=void 0){const g={[t]:n};p&&(g.offset=p);const u=E1(f,o);Array.isArray(u)&&(g.easing=u);const h={delay:s,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:l+1,direction:d==="reverse"?"alternate":"normal"};return v&&(h.pseudoElement=v),e.animate(g,h)}function R1(e){return typeof e=="function"&&"applyToOptions"in e}function TD({type:e,...t}){return R1(e)&&N1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ND extends Fg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:d=!1,finalKeyframe:f,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=d,this.options=t,jg(typeof t.type!="string");const v=TD(t);this.animation=PD(n,s,o,v,l),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Dg(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):SD(n,s,g),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Jn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Kr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&CD()?(this.animation.timeline=t,tr):n(this)}}const A1={anticipate:u1,backInOut:c1,circInOut:f1};function ED(e){return e in A1}function RD(e){typeof e.ease=="string"&&ED(e.ease)&&(e.ease=A1[e.ease])}const P_=10;class AD extends ND{constructor(t){RD(t),j1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...d}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Ug({...d,autoplay:!1}),p=Kr(this.finishedTime??this.time);n.setWithVelocity(f.sample(p-P_).value,f.sample(p).value,P_),f.stop()}}const T_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ui.test(e)||e==="0")&&!e.startsWith("url("));function ID(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function MD(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],d=T_(o,t),f=T_(l,t);return!d||!f?!1:ID(e)||(n==="spring"||R1(n))&&s}function um(e){e.duration=0,e.type="keyframes"}const LD=new Set(["opacity","clipPath","filter","transform"]),OD=Pg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DD(e){var g;const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:d}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:v}=t.owner.getProps();return OD()&&n&&LD.has(n)&&(n!=="transform"||!v)&&!p&&!s&&o!=="mirror"&&l!==0&&d!=="inertia"}const FD=40;class UD extends Fg{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:d="loop",keyframes:f,name:p,motionValue:v,element:g,...u}){var b;super(),this.stop=()=>{var w,C;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=An.now();const h={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:d,name:p,motionValue:v,element:g,...u},y=(g==null?void 0:g.KeyframeResolver)||Vg;this.keyframeResolver=new y(f,(w,C,P)=>this.onKeyframesResolved(w,C,h,!P),p,v,g),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:d,velocity:f,delay:p,isHandoff:v,onUpdate:g}=s;this.resolvedAt=An.now(),MD(t,l,d,f)||((bs.instantAnimations||!p)&&(g==null||g(Dg(t,s,n))),t[0]=t[t.length-1],um(s),s.repeat=0);const h={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>FD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},y=!v&&DD(h)?new AD({...h,element:h.motionValue.owner.current}):new Ug(h);y.finished.then(()=>this.notifyFinished()).catch(tr),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const VD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $D(e){const t=VD.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function I1(e,t,n=1){const[s,o]=$D(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const d=l.trim();return t1(d)?parseFloat(d):d}return Ag(o)?I1(o,t,n+1):o}function $g(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const M1=new Set(["width","height","top","left","right","bottom",...Pa]),BD={test:e=>e==="auto",parse:e=>e},L1=e=>t=>t.test(e),O1=[ja,qe,Xr,Xs,IO,AO,BD],N_=e=>O1.find(L1(e));function zD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||r1(e):!0}const HD=new Set(["brightness","contrast","saturate","opacity"]);function WD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Ig)||[];if(!s)return e;const o=n.replace(s,"");let l=HD.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const qD=/\b([a-z-]*)\(.*?\)/gu,dm={...ui,getAnimatableNone:e=>{const t=e.match(qD);return t?t.map(WD).join(" "):e}},E_={...ja,transform:Math.round},GD={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:Ou,scaleX:Ou,scaleY:Ou,scaleZ:Ou,skew:Xs,skewX:Xs,skewY:Xs,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:Xl,originX:v_,originY:v_,originZ:qe},Bg={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...GD,zIndex:E_,fillOpacity:Xl,strokeOpacity:Xl,numOctaves:E_},KD={...Bg,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:dm,WebkitFilter:dm},D1=e=>KD[e];function F1(e,t){let n=D1(e);return n!==dm&&(n=ui),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const XD=new Set(["auto","none","0"]);function YD(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!XD.has(l)&&Yl(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=F1(n,o)}class QD extends Vg{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let v=t[p];if(typeof v=="string"&&(v=v.trim(),Ag(v))){const g=I1(v,n.current);g!==void 0&&(t[p]=g),p===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!M1.has(s)||t.length!==2)return;const[o,l]=t,d=N_(o),f=N_(l);if(d!==f)if(k_(d)&&k_(f))for(let p=0;p<t.length;p++){const v=t[p];typeof v=="string"&&(t[p]=parseFloat(v))}else io[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||zD(t[o]))&&s.push(o);s.length&&YD(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=io[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,d=s[l];s[l]=io[n](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([p,v])=>{t.getValue(p).set(v)}),this.resolveNoneKeyframes()}}function JD(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(n==null?void 0:n[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const U1=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function V1(e){return n1(e)&&"offsetHeight"in e}const R_=30,ZD=e=>!isNaN(parseFloat(e));class e4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const o=An.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ZD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Tg);const s=this.events[t].add(n);return t==="change"?()=>{s(),At.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>R_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R_);return s1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ga(e,t){return new e4(e,t)}const{schedule:zg}=m1(queueMicrotask,!1),mr={x:!1,y:!1};function $1(){return mr.x||mr.y}function t4(e){return e==="x"||e==="y"?mr[e]?null:(mr[e]=!0,()=>{mr[e]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1})}function B1(e,t){const n=JD(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function A_(e){return!(e.pointerType==="touch"||$1())}function n4(e,t,n={}){const[s,o,l]=B1(e,n),d=f=>{if(!A_(f))return;const{target:p}=f,v=t(p,f);if(typeof v!="function"||!p)return;const g=u=>{A_(u)&&(v(u),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,o)};return s.forEach(f=>{f.addEventListener("pointerenter",d,o)}),l}const z1=(e,t)=>t?e===t?!0:z1(e,t.parentElement):!1,Hg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,r4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s4(e){return r4.has(e.tagName)||e.tabIndex!==-1}const td=new WeakSet;function I_(e){return t=>{t.key==="Enter"&&e(t)}}function yp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const i4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=I_(()=>{if(td.has(n))return;yp(n,"down");const o=I_(()=>{yp(n,"up")}),l=()=>yp(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function M_(e){return Hg(e)&&!$1()}function o4(e,t,n={}){const[s,o,l]=B1(e,n),d=f=>{const p=f.currentTarget;if(!M_(f))return;td.add(p);const v=t(p,f),g=(y,b)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",h),td.has(p)&&td.delete(p),M_(y)&&typeof v=="function"&&v(y,{success:b})},u=y=>{g(y,p===window||p===document||n.useGlobalTarget||z1(p,y.target))},h=y=>{g(y,!1)};window.addEventListener("pointerup",u,o),window.addEventListener("pointercancel",h,o)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",d,o),V1(f)&&(f.addEventListener("focus",v=>i4(v,o)),!s4(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function H1(e){return n1(e)&&"ownerSVGElement"in e}function a4(e){return H1(e)&&e.tagName==="svg"}const fn=e=>!!(e&&e.getVelocity),l4=[...O1,Wt,ui],c4=e=>l4.find(L1(e)),Wg=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function L_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function u4(...e){return t=>{let n=!1;const s=e.map(o=>{const l=L_(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():L_(e[o],null)}}}}function d4(...e){return S.useCallback(u4(...e),e)}class f4 extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=V1(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h4({children:e,isPresent:t,anchorX:n,root:s}){const o=S.useId(),l=S.useRef(null),d=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=S.useContext(Wg),p=d4(l,e==null?void 0:e.ref);return S.useInsertionEffect(()=>{const{width:v,height:g,top:u,left:h,right:y}=d.current;if(t||!l.current||!v||!g)return;const b=n==="left"?`left: ${h}`:`right: ${y}`;l.current.dataset.motionPopId=o;const w=document.createElement("style");f&&(w.nonce=f);const C=s??document.head;return C.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${g}px !important;
            ${b}px !important;
            top: ${u}px !important;
          }
        `),()=>{C.contains(w)&&C.removeChild(w)}},[t]),a.jsx(f4,{isPresent:t,childRef:l,sizeRef:d,children:S.cloneElement(e,{ref:p})})}const p4=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:d,anchorX:f,root:p})=>{const v=bg(m4),g=S.useId();let u=!0,h=S.useMemo(()=>(u=!1,{id:g,initial:t,isPresent:n,custom:o,onExitComplete:y=>{v.set(y,!0);for(const b of v.values())if(!b)return;s&&s()},register:y=>(v.set(y,!1),()=>v.delete(y))}),[n,v,s]);return l&&u&&(h={...h}),S.useMemo(()=>{v.forEach((y,b)=>v.set(b,!1))},[n]),S.useEffect(()=>{!n&&!v.size&&s&&s()},[n]),d==="popLayout"&&(e=a.jsx(h4,{isPresent:n,anchorX:f,root:p,children:e})),a.jsx(Wd.Provider,{value:h,children:e})};function m4(){return new Map}function W1(e=!0){const t=S.useContext(Wd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=S.useId();S.useEffect(()=>{if(e)return o(l)},[e]);const d=S.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,d]:[!0]}const Du=e=>e.key||"";function O_(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const g4=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:d=!1,anchorX:f="left",root:p})=>{const[v,g]=W1(d),u=S.useMemo(()=>O_(e),[e]),h=d&&!v?[]:u.map(Du),y=S.useRef(!0),b=S.useRef(u),w=bg(()=>new Map),[C,P]=S.useState(u),[j,E]=S.useState(u);e1(()=>{y.current=!1,b.current=u;for(let A=0;A<j.length;A++){const I=Du(j[A]);h.includes(I)?w.delete(I):w.get(I)!==!0&&w.set(I,!1)}},[j,h.length,h.join("-")]);const L=[];if(u!==C){let A=[...u];for(let I=0;I<j.length;I++){const O=j[I],F=Du(O);h.includes(F)||(A.splice(I,0,O),L.push(O))}return l==="wait"&&L.length&&(A=L),E(O_(A)),P(u),null}const{forceRender:D}=S.useContext(wg);return a.jsx(a.Fragment,{children:j.map(A=>{const I=Du(A),O=d&&!v?!1:u===j||h.includes(I),F=()=>{if(w.has(I))w.set(I,!0);else return;let K=!0;w.forEach(ne=>{ne||(K=!1)}),K&&(D==null||D(),E(b.current),d&&(g==null||g()),s&&s())};return a.jsx(p4,{isPresent:O,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:p,onExitComplete:O?void 0:F,anchorX:f,children:A},I)})})},q1=S.createContext({strict:!1}),D_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},va={};for(const e in D_)va[e]={isEnabled:t=>D_[e].some(n=>!!t[n])};function v4(e){for(const t in e)va[t]={...va[t],...e[t]}}const y4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||y4.has(e)}let G1=e=>!yd(e);function x4(e){typeof e=="function"&&(G1=t=>t.startsWith("on")?!yd(t):e(t))}try{x4(require("@emotion/is-prop-valid").default)}catch{}function _4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(G1(o)||n===!0&&yd(o)||!t&&!yd(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const qd=S.createContext({});function Gd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ql(e){return typeof e=="string"||Array.isArray(e)}const qg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gg=["initial",...qg];function Kd(e){return Gd(e.animate)||Gg.some(t=>Ql(e[t]))}function K1(e){return!!(Kd(e)||e.variants)}function w4(e,t){if(Kd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ql(n)?n:void 0,animate:Ql(s)?s:void 0}}return e.inherit!==!1?t:{}}function b4(e){const{initial:t,animate:n}=w4(e,S.useContext(qd));return S.useMemo(()=>({initial:t,animate:n}),[F_(t),F_(n)])}function F_(e){return Array.isArray(e)?e.join(" "):e}const Jl={};function S4(e){for(const t in e)Jl[t]=e[t],Rg(t)&&(Jl[t].isCSSVariable=!0)}function X1(e,{layout:t,layoutId:n}){return Ta.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jl[e]||e==="opacity")}const C4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k4=Pa.length;function j4(e,t,n){let s="",o=!0;for(let l=0;l<k4;l++){const d=Pa[l],f=e[d];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(d.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const v=U1(f,Bg[d]);if(!p){o=!1;const g=C4[d]||d;s+=`${g}(${v}) `}n&&(t[d]=v)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function Kg(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let d=!1,f=!1;for(const p in t){const v=t[p];if(Ta.has(p)){d=!0;continue}else if(Rg(p)){o[p]=v;continue}else{const g=U1(v,Bg[p]);p.startsWith("origin")?(f=!0,l[p]=g):s[p]=g}}if(t.transform||(d||n?s.transform=j4(t,e.transform,n):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:v="50%",originZ:g=0}=l;s.transformOrigin=`${p} ${v} ${g}`}}const Xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Y1(e,t,n){for(const s in t)!fn(t[s])&&!X1(s,n)&&(e[s]=t[s])}function P4({transformTemplate:e},t){return S.useMemo(()=>{const n=Xg();return Kg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function T4(e,t){const n=e.style||{},s={};return Y1(s,n,e),Object.assign(s,P4(e,t)),s}function N4(e,t){const n={},s=T4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const E4={offset:"stroke-dashoffset",array:"stroke-dasharray"},R4={offset:"strokeDashoffset",array:"strokeDasharray"};function A4(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?E4:R4;e[l.offset]=qe.transform(-s);const d=qe.transform(t),f=qe.transform(n);e[l.array]=`${d} ${f}`}function Q1(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:d=0,...f},p,v,g){if(Kg(e,f,v),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete u.transformBox),t!==void 0&&(u.x=t),n!==void 0&&(u.y=n),s!==void 0&&(u.scale=s),o!==void 0&&A4(u,o,l,d,!1)}const J1=()=>({...Xg(),attrs:{}}),Z1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function I4(e,t,n,s){const o=S.useMemo(()=>{const l=J1();return Q1(l,t,Z1(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Y1(l,e.style,e),o.style={...l,...o.style}}return o}const M4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yg(e){return typeof e!="string"||e.includes("-")?!1:!!(M4.indexOf(e)>-1||/[A-Z]/u.test(e))}function L4(e,t,n,{latestValues:s},o,l=!1){const f=(Yg(e)?I4:N4)(t,s,o,e),p=_4(t,typeof e=="string",l),v=e!==S.Fragment?{...p,...f,ref:n}:{},{children:g}=t,u=S.useMemo(()=>fn(g)?g.get():g,[g]);return S.createElement(e,{...v,children:u})}function U_(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Qg(e,t,n,s){if(typeof t=="function"){const[o,l]=U_(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=U_(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function nd(e){return fn(e)?e.get():e}function O4({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:D4(n,s,o,e),renderState:t()}}function D4(e,t,n,s){const o={},l=s(e,{});for(const h in l)o[h]=nd(l[h]);let{initial:d,animate:f}=e;const p=Kd(e),v=K1(e);t&&v&&!p&&e.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let g=n?n.initial===!1:!1;g=g||d===!1;const u=g?f:d;if(u&&typeof u!="boolean"&&!Gd(u)){const h=Array.isArray(u)?u:[u];for(let y=0;y<h.length;y++){const b=Qg(e,h[y]);if(b){const{transitionEnd:w,transition:C,...P}=b;for(const j in P){let E=P[j];if(Array.isArray(E)){const L=g?E.length-1:0;E=E[L]}E!==null&&(o[j]=E)}for(const j in w)o[j]=w[j]}}}return o}const eC=e=>(t,n)=>{const s=S.useContext(qd),o=S.useContext(Wd),l=()=>O4(e,t,s,o);return n?l():bg(l)};function Jg(e,t,n){var l;const{style:s}=e,o={};for(const d in s)(fn(s[d])||t.style&&fn(t.style[d])||X1(d,e)||((l=n==null?void 0:n.getValue(d))==null?void 0:l.liveStyle)!==void 0)&&(o[d]=s[d]);return o}const F4=eC({scrapeMotionValuesFromProps:Jg,createRenderState:Xg});function tC(e,t,n){const s=Jg(e,t,n);for(const o in e)if(fn(e[o])||fn(t[o])){const l=Pa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const U4=eC({scrapeMotionValuesFromProps:tC,createRenderState:J1}),V4=Symbol.for("motionComponentSymbol");function ia(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $4(e,t,n){return S.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ia(n)&&(n.current=s))},[t])}const Zg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B4="framerAppearId",nC="data-"+Zg(B4),rC=S.createContext({});function z4(e,t,n,s,o){var w,C;const{visualElement:l}=S.useContext(qd),d=S.useContext(q1),f=S.useContext(Wd),p=S.useContext(Wg).reducedMotion,v=S.useRef(null);s=s||d.renderer,!v.current&&s&&(v.current=s(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const g=v.current,u=S.useContext(rC);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&H4(v.current,n,o,u);const h=S.useRef(!1);S.useInsertionEffect(()=>{g&&h.current&&g.update(n,f)});const y=n[nC],b=S.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,y)));return e1(()=>{g&&(h.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),b.current&&g.animationState&&g.animationState.animateChanges())}),S.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,y)}),b.current=!1),g.enteringChildren=void 0)}),g}function H4(e,t,n,s){const{layoutId:o,layout:l,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:v,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:sC(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!d||f&&ia(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:p,layoutRoot:v})}function sC(e){if(e)return e.options.allowProjection!==!1?e.projection:sC(e.parent)}function xp(e,{forwardMotionProps:t=!1}={},n,s){n&&v4(n);const o=Yg(e)?U4:F4;function l(f,p){let v;const g={...S.useContext(Wg),...f,layoutId:W4(f)},{isStatic:u}=g,h=b4(f),y=o(f,u);if(!u&&Sg){q4();const b=G4(g);v=b.MeasureLayout,h.visualElement=z4(e,y,g,s,b.ProjectionNode)}return a.jsxs(qd.Provider,{value:h,children:[v&&h.visualElement?a.jsx(v,{visualElement:h.visualElement,...g}):null,L4(e,f,$4(y,h.visualElement,p),y,u,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=S.forwardRef(l);return d[V4]=e,d}function W4({layoutId:e}){const t=S.useContext(wg).id;return t&&e!==void 0?t+"-"+e:e}function q4(e,t){S.useContext(q1).strict}function G4(e){const{drag:t,layout:n}=va;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function K4(e,t){if(typeof Proxy>"u")return xp;const n=new Map,s=(l,d)=>xp(l,d,e,t),o=(l,d)=>s(l,d);return new Proxy(o,{get:(l,d)=>d==="create"?s:(n.has(d)||n.set(d,xp(d,void 0,e,t)),n.get(d))})}function iC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function X4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Y4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function _p(e){return e===void 0||e===1}function fm({scale:e,scaleX:t,scaleY:n}){return!_p(e)||!_p(t)||!_p(n)}function eo(e){return fm(e)||oC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function oC(e){return V_(e.x)||V_(e.y)}function V_(e){return e&&e!=="0%"}function xd(e,t,n){const s=e-n,o=t*s;return n+o}function $_(e,t,n,s,o){return o!==void 0&&(e=xd(e,o,s)),xd(e,n,s)+t}function hm(e,t=0,n=1,s,o){e.min=$_(e.min,t,n,s,o),e.max=$_(e.max,t,n,s,o)}function aC(e,{x:t,y:n}){hm(e.x,t.translate,t.scale,t.originPoint),hm(e.y,n.translate,n.scale,n.originPoint)}const B_=.999999999999,z_=1.0000000000001;function Q4(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,d;for(let f=0;f<o;f++){l=n[f],d=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&aa(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,aC(e,d)),s&&eo(l.latestValues)&&aa(e,l.latestValues))}t.x<z_&&t.x>B_&&(t.x=1),t.y<z_&&t.y>B_&&(t.y=1)}function oa(e,t){e.min=e.min+t,e.max=e.max+t}function H_(e,t,n,s,o=.5){const l=Dt(e.min,e.max,o);hm(e,t,n,l,s)}function aa(e,t){H_(e.x,t.x,t.scaleX,t.scale,t.originX),H_(e.y,t.y,t.scaleY,t.scale,t.originY)}function lC(e,t){return iC(Y4(e.getBoundingClientRect(),t))}function J4(e,t,n){const s=lC(e,n),{scroll:o}=t;return o&&(oa(s.x,o.offset.x),oa(s.y,o.offset.y)),s}const W_=()=>({translate:0,scale:1,origin:0,originPoint:0}),la=()=>({x:W_(),y:W_()}),q_=()=>({min:0,max:0}),Bt=()=>({x:q_(),y:q_()}),pm={current:null},cC={current:!1};function Z4(){if(cC.current=!0,!!Sg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pm.current=e.matches;e.addEventListener("change",t),t()}else pm.current=!1}const eF=new WeakMap;function tF(e,t,n){for(const s in t){const o=t[s],l=n[s];if(fn(o))e.addValue(s,o);else if(fn(l))e.addValue(s,ga(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const d=e.getValue(s);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=e.getStaticValue(s);e.addValue(s,ga(d!==void 0?d:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const G_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nF{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=An.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,At.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=v,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Kd(n),this.isVariantNode=K1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const y=u[h];p[h]!==void 0&&fn(y)&&y.set(p[h])}}mount(t){var n;this.current=t,eF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),cC.current||Z4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ci(this.notifyUpdate),ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ta.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&At.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in va){const n=va[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<G_.length;s++){const o=G_[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,d=t[l];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=tF(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ga(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(t1(s)||r1(s))?s=parseFloat(s):!c4(s)&&ui.test(n)&&(s=F1(t,n)),this.setBaseTarget(t,fn(s)?s.get():s)),fn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const d=Qg(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);d&&(s=d[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!fn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Tg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){zg.render(this.render)}}class uC extends nF{constructor(){super(...arguments),this.KeyframeResolver=QD}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dC(e,{style:t,vars:n},s,o){const l=e.style;let d;for(d in t)l[d]=t[d];o==null||o.applyProjectionStyles(l,s);for(d in n)l.setProperty(d,n[d])}function rF(e){return window.getComputedStyle(e)}class sF extends uC{constructor(){super(...arguments),this.type="html",this.renderInstance=dC}readValueFromInstance(t,n){var s;if(Ta.has(n))return(s=this.projection)!=null&&s.isProjecting?im(n):gD(t,n);{const o=rF(t),l=(Rg(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return lC(t,n)}build(t,n,s){Kg(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Jg(t,n,s)}}const fC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iF(e,t,n,s){dC(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(fC.has(o)?o:Zg(o),t.attrs[o])}class oF extends uC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ta.has(n)){const s=D1(n);return s&&s.default||0}return n=fC.has(n)?n:Zg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return tC(t,n,s)}build(t,n,s){Q1(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){iF(t,n,s,o)}mount(t){this.isSVGTag=Z1(t.tagName),super.mount(t)}}const aF=(e,t)=>Yg(e)?new oF(t):new sF(t,{allowProjection:e!==S.Fragment});function fa(e,t,n){const s=e.getProps();return Qg(s,t,n!==void 0?n:s.custom,e)}const mm=e=>Array.isArray(e);function lF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ga(n))}function cF(e){return mm(e)?e[e.length-1]||0:e}function uF(e,t){const n=fa(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const d in l){const f=cF(l[d]);lF(e,d,f)}}function dF(e){return!!(fn(e)&&e.add)}function gm(e,t){const n=e.getValue("willChange");if(dF(n))return n.add(t);if(!n&&bs.WillChange){const s=new bs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function hC(e){return e.props[nC]}const fF=e=>e!==null;function hF(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(fF),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const pF={type:"spring",stiffness:500,damping:25,restSpeed:10},mF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gF={type:"keyframes",duration:.8},vF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yF=(e,{keyframes:t})=>t.length>2?gF:Ta.has(e)?e.startsWith("scale")?mF(t[1]):pF:vF;function xF({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:d,repeatDelay:f,from:p,elapsed:v,...g}){return!!Object.keys(g).length}const ev=(e,t,n,s={},o,l)=>d=>{const f=$g(s,e)||{},p=f.delay||s.delay||0;let{elapsed:v=0}=s;v=v-Kr(p);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-v,onUpdate:h=>{t.set(h),f.onUpdate&&f.onUpdate(h)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:o};xF(f)||Object.assign(g,yF(e,g)),g.duration&&(g.duration=Kr(g.duration)),g.repeatDelay&&(g.repeatDelay=Kr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let u=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(um(g),g.delay===0&&(u=!0)),(bs.instantAnimations||bs.skipAnimations)&&(u=!0,um(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,u&&!l&&t.get()!==void 0){const h=hF(g.keyframes,f);if(h!==void 0){At.update(()=>{g.onUpdate(h),g.onComplete()});return}}return f.isSync?new Ug(g):new UD(g)};function _F({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function pC(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:d,...f}=t;s&&(l=s);const p=[],v=o&&e.animationState&&e.animationState.getState()[o];for(const g in f){const u=e.getValue(g,e.latestValues[g]??null),h=f[g];if(h===void 0||v&&_F(v,g))continue;const y={delay:n,...$g(l||{},g)},b=u.get();if(b!==void 0&&!u.isAnimating&&!Array.isArray(h)&&h===b&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const P=hC(e);if(P){const j=window.MotionHandoffAnimation(P,g,At);j!==null&&(y.startTime=j,w=!0)}}gm(e,g),u.start(ev(g,u,h,e.shouldReduceMotion&&M1.has(g)?{type:!1}:y,e,w));const C=u.animation;C&&p.push(C)}return d&&Promise.all(p).then(()=>{At.update(()=>{d&&uF(e,d)})}),p}function mC(e,t,n,s=0,o=1){const l=Array.from(e).sort((v,g)=>v.sortNodePosition(g)).indexOf(t),d=e.size,f=(d-1)*s;return typeof n=="function"?n(l,d):o===1?l*s:f-l*s}function vm(e,t,n={}){var p;const s=fa(e,t,n.type==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(pC(e,s,n)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(v=0)=>{const{delayChildren:g=0,staggerChildren:u,staggerDirection:h}=o;return wF(e,t,v,g,u,h,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[v,g]=f==="beforeChildren"?[l,d]:[d,l];return v().then(()=>g())}else return Promise.all([l(),d(n.delay)])}function wF(e,t,n=0,s=0,o=0,l=1,d){const f=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),f.push(vm(p,t,{...d,delay:n+(typeof s=="function"?0:s)+mC(e.variantChildren,p,s,o,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(f)}function bF(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>vm(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=vm(e,t,n);else{const o=typeof t=="function"?fa(e,t,n.custom):t;s=Promise.all(pC(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function gC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const SF=Gg.length;function vC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?vC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<SF;n++){const s=Gg[n],o=e.props[s];(Ql(o)||o===!1)&&(t[s]=o)}return t}const CF=[...qg].reverse(),kF=qg.length;function jF(e){return t=>Promise.all(t.map(({animation:n,options:s})=>bF(e,n,s)))}function PF(e){let t=jF(e),n=K_(),s=!0;const o=p=>(v,g)=>{var h;const u=fa(e,g,p==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(u){const{transition:y,transitionEnd:b,...w}=u;v={...v,...w,...b}}return v};function l(p){t=p(e)}function d(p){const{props:v}=e,g=vC(e.parent)||{},u=[],h=new Set;let y={},b=1/0;for(let C=0;C<kF;C++){const P=CF[C],j=n[P],E=v[P]!==void 0?v[P]:g[P],L=Ql(E),D=P===p?j.isActive:null;D===!1&&(b=C);let A=E===g[P]&&E!==v[P]&&L;if(A&&s&&e.manuallyAnimateOnMount&&(A=!1),j.protectedKeys={...y},!j.isActive&&D===null||!E&&!j.prevProp||Gd(E)||typeof E=="boolean")continue;const I=TF(j.prevProp,E);let O=I||P===p&&j.isActive&&!A&&L||C>b&&L,F=!1;const K=Array.isArray(E)?E:[E];let ne=K.reduce(o(P),{});D===!1&&(ne={});const{prevResolvedValues:de={}}=j,te={...de,...ne},ie=pe=>{O=!0,h.has(pe)&&(F=!0,h.delete(pe)),j.needsAnimating[pe]=!0;const W=e.getValue(pe);W&&(W.liveStyle=!1)};for(const pe in te){const W=ne[pe],J=de[pe];if(y.hasOwnProperty(pe))continue;let ae=!1;mm(W)&&mm(J)?ae=!gC(W,J):ae=W!==J,ae?W!=null?ie(pe):h.add(pe):W!==void 0&&h.has(pe)?ie(pe):j.protectedKeys[pe]=!0}j.prevProp=E,j.prevResolvedValues=ne,j.isActive&&(y={...y,...ne}),s&&e.blockInitialAnimation&&(O=!1);const be=A&&I;O&&(!be||F)&&u.push(...K.map(pe=>{const W={type:P};if(typeof pe=="string"&&s&&!be&&e.manuallyAnimateOnMount&&e.parent){const{parent:J}=e,ae=fa(J,pe);if(J.enteringChildren&&ae){const{delayChildren:H}=ae.transition||{};W.delay=mC(J.enteringChildren,e,H)}}return{animation:pe,options:W}}))}if(h.size){const C={};if(typeof v.initial!="boolean"){const P=fa(e,Array.isArray(v.initial)?v.initial[0]:v.initial);P&&P.transition&&(C.transition=P.transition)}h.forEach(P=>{const j=e.getBaseTarget(P),E=e.getValue(P);E&&(E.liveStyle=!0),C[P]=j??null}),u.push({animation:C})}let w=!!u.length;return s&&(v.initial===!1||v.initial===v.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?t(u):Promise.resolve()}function f(p,v){var u;if(n[p].isActive===v)return Promise.resolve();(u=e.variantChildren)==null||u.forEach(h=>{var y;return(y=h.animationState)==null?void 0:y.setActive(p,v)}),n[p].isActive=v;const g=d(p);for(const h in n)n[h].protectedKeys={};return g}return{animateChanges:d,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=K_()}}}function TF(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gC(t,e):!1}function Ji(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K_(){return{animate:Ji(!0),whileInView:Ji(),whileHover:Ji(),whileTap:Ji(),whileDrag:Ji(),whileFocus:Ji(),exit:Ji()}}class hi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class NF extends hi{constructor(t){super(t),t.animationState||(t.animationState=PF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Gd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let EF=0;class RF extends hi{constructor(){super(...arguments),this.id=EF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const AF={animation:{Feature:NF},exit:{Feature:RF}};function Zl(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function vc(e){return{point:{x:e.pageX,y:e.pageY}}}const IF=e=>t=>Hg(t)&&e(t,vc(t));function Ul(e,t,n,s){return Zl(e,t,IF(n),s)}const yC=1e-4,MF=1-yC,LF=1+yC,xC=.01,OF=0-xC,DF=0+xC;function Cn(e){return e.max-e.min}function FF(e,t,n){return Math.abs(e-t)<=n}function X_(e,t,n,s=.5){e.origin=s,e.originPoint=Dt(t.min,t.max,e.origin),e.scale=Cn(n)/Cn(t),e.translate=Dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=MF&&e.scale<=LF||isNaN(e.scale))&&(e.scale=1),(e.translate>=OF&&e.translate<=DF||isNaN(e.translate))&&(e.translate=0)}function Vl(e,t,n,s){X_(e.x,t.x,n.x,s?s.originX:void 0),X_(e.y,t.y,n.y,s?s.originY:void 0)}function Y_(e,t,n){e.min=n.min+t.min,e.max=e.min+Cn(t)}function UF(e,t,n){Y_(e.x,t.x,n.x),Y_(e.y,t.y,n.y)}function Q_(e,t,n){e.min=t.min-n.min,e.max=e.min+Cn(t)}function $l(e,t,n){Q_(e.x,t.x,n.x),Q_(e.y,t.y,n.y)}function Qn(e){return[e("x"),e("y")]}const _C=({current:e})=>e?e.ownerDocument.defaultView:null,J_=(e,t)=>Math.abs(e-t);function VF(e,t){const n=J_(e.x,t.x),s=J_(e.y,t.y);return Math.sqrt(n**2+s**2)}class wC{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=bp(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=VF(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:w}=h,{timestamp:C}=sn;this.history.push({...w,timestamp:C});const{onStart:P,onMove:j}=this.handlers;y||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,h)},this.handlePointerMove=(h,y)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=wp(y,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(h,y)=>{this.end();const{onEnd:b,onSessionEnd:w,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=bp(h.type==="pointercancel"?this.lastMoveEventInfo:wp(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(h,P),w&&w(h,P)},!Hg(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=d,this.contextWindow=o||window;const f=vc(t),p=wp(f,this.transformPagePoint),{point:v}=p,{timestamp:g}=sn;this.history=[{...v,timestamp:g}];const{onSessionStart:u}=n;u&&u(t,bp(p,this.history)),this.removeListeners=pc(Ul(this.contextWindow,"pointermove",this.handlePointerMove),Ul(this.contextWindow,"pointerup",this.handlePointerUp),Ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ci(this.updatePoint)}}function wp(e,t){return t?{point:t(e.point)}:e}function Z_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bp({point:e},t){return{point:e,delta:Z_(e,bC(t)),offset:Z_(e,$F(t)),velocity:BF(t,.1)}}function $F(e){return e[0]}function bC(e){return e[e.length-1]}function BF(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=bC(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Kr(t)));)n--;if(!s)return{x:0,y:0};const l=Jn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const d={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function zF(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Dt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Dt(n,e,s.max):Math.min(e,n)),e}function ew(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function HF(e,{top:t,left:n,bottom:s,right:o}){return{x:ew(e.x,n,o),y:ew(e.y,t,s)}}function tw(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function WF(e,t){return{x:tw(e.x,t.x),y:tw(e.y,t.y)}}function qF(e,t){let n=.5;const s=Cn(e),o=Cn(t);return o>s?n=Kl(t.min,t.max-s,e.min):s>o&&(n=Kl(e.min,e.max-o,t.min)),ws(0,1,n)}function GF(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ym=.35;function KF(e=ym){return e===!1?e=0:e===!0&&(e=ym),{x:nw(e,"left","right"),y:nw(e,"top","bottom")}}function nw(e,t,n){return{min:rw(e,t),max:rw(e,n)}}function rw(e,t){return typeof e=="number"?e:e[t]||0}const XF=new WeakMap;class YF{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vc(u).point)},d=(u,h)=>{const{drag:y,dragPropagation:b,onDragStart:w}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t4(y),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(P=>{let j=this.getAxisMotionValue(P).get()||0;if(Xr.test(j)){const{projection:E}=this.visualElement;if(E&&E.layout){const L=E.layout.layoutBox[P];L&&(j=Cn(L)*(parseFloat(j)/100))}}this.originPoint[P]=j}),w&&At.postRender(()=>w(u,h)),gm(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},f=(u,h)=>{this.latestPointerEvent=u,this.latestPanInfo=h;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:w,onDrag:C}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:P}=h;if(b&&this.currentDirection===null){this.currentDirection=QF(P),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),C&&C(u,h)},p=(u,h)=>{this.latestPointerEvent=u,this.latestPanInfo=h,this.stop(u,h),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Qn(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new wC(t,{onSessionStart:l,onStart:d,onMove:f,onSessionEnd:p,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:_C(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:d}=o;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&At.postRender(()=>f(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Fu(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let d=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(d=zF(d,this.constraints[t],this.elastic[t])),l.set(d)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&ia(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=HF(s.layoutBox,t):this.constraints=!1,this.elastic=KF(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=GF(s.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ia(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=J4(s,o.root,this.visualElement.getTransformPagePoint());let d=WF(o.layout.layoutBox,l);if(n){const f=n(X4(d));this.hasMutatedConstraints=!!f,f&&(d=iC(f))}return d}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},v=Qn(g=>{if(!Fu(g,n,this.currentDirection))return;let u=p&&p[g]||{};d&&(u={min:0,max:0});const h=o?200:1e6,y=o?40:1e7,b={type:"inertia",velocity:s?t[g]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...u};return this.startAxisValueAnimation(g,b)});return Promise.all(v).then(f)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return gm(this.visualElement,t),s.start(ev(t,s,0,n,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Qn(n=>{const{drag:s}=this.getProps();if(!Fu(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:d,max:f}=o.layout.layoutBox[n];l.set(t[n]-Dt(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ia(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Qn(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const p=f.get();o[d]=qF({min:p,max:p},this.constraints[d])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qn(d=>{if(!Fu(d,t,null))return;const f=this.getAxisMotionValue(d),{min:p,max:v}=this.constraints[d];f.set(Dt(p,v,o[d]))})}addListeners(){if(!this.visualElement.current)return;XF.set(this.visualElement,this);const t=this.visualElement.current,n=Ul(t,"pointerdown",p=>{const{drag:v,dragListener:g=!0}=this.getProps();v&&g&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();ia(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),At.read(s);const d=Zl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(Qn(g=>{const u=this.getAxisMotionValue(g);u&&(this.originPoint[g]+=p[g].translate,u.set(u.get()+p[g].translate))}),this.visualElement.render())}));return()=>{d(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:d=ym,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:d,dragMomentum:f}}}function Fu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function QF(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JF extends hi{constructor(t){super(t),this.removeGroupControls=tr,this.removeListeners=tr,this.controls=new YF(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const sw=e=>(t,n)=>{e&&At.postRender(()=>e(t,n))};class ZF extends hi{constructor(){super(...arguments),this.removePointerDownListener=tr}onPointerDown(t){this.session=new wC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_C(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:sw(t),onStart:sw(n),onMove:s,onEnd:(l,d)=>{delete this.session,o&&At.postRender(()=>o(l,d))}}}mount(){this.removePointerDownListener=Ul(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qe.test(e))e=parseFloat(e);else return e;const n=iw(e,t.target.x),s=iw(e,t.target.y);return`${n}% ${s}%`}},e6={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=ui.parse(e);if(o.length>5)return s;const l=ui.createTransformer(e),d=typeof o[0]!="number"?1:0,f=n.x.scale*t.x,p=n.y.scale*t.y;o[0+d]/=f,o[1+d]/=p;const v=Dt(f,p,.5);return typeof o[2+d]=="number"&&(o[2+d]/=v),typeof o[3+d]=="number"&&(o[3+d]/=v),l(o)}};let Sp=!1;class t6 extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;S4(n6),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Sp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:d}=s;return d&&(d.isPresent=l,Sp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?d.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?d.promote():d.relegate()||At.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Sp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SC(e){const[t,n]=W1(),s=S.useContext(wg);return a.jsx(t6,{...e,layoutGroup:s,switchLayoutGroup:S.useContext(rC),isPresent:t,safeToRemove:n})}const n6={borderRadius:{...jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jl,borderTopRightRadius:jl,borderBottomLeftRadius:jl,borderBottomRightRadius:jl,boxShadow:e6};function r6(e,t,n){const s=fn(e)?e:ga(e);return s.start(ev("",s,t,n)),s.animation}const s6=(e,t)=>e.depth-t.depth;class i6{constructor(){this.children=[],this.isDirty=!1}add(t){Cg(this.children,t),this.isDirty=!0}remove(t){kg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(s6),this.isDirty=!1,this.children.forEach(t)}}function o6(e,t){const n=An.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(ci(s),e(l-t))};return At.setup(s,!0),()=>ci(s)}const CC=["TopLeft","TopRight","BottomLeft","BottomRight"],a6=CC.length,ow=e=>typeof e=="string"?parseFloat(e):e,aw=e=>typeof e=="number"||qe.test(e);function l6(e,t,n,s,o,l){o?(e.opacity=Dt(0,n.opacity??1,c6(s)),e.opacityExit=Dt(t.opacity??1,0,u6(s))):l&&(e.opacity=Dt(t.opacity??1,n.opacity??1,s));for(let d=0;d<a6;d++){const f=`border${CC[d]}Radius`;let p=lw(t,f),v=lw(n,f);if(p===void 0&&v===void 0)continue;p||(p=0),v||(v=0),p===0||v===0||aw(p)===aw(v)?(e[f]=Math.max(Dt(ow(p),ow(v),s),0),(Xr.test(v)||Xr.test(p))&&(e[f]+="%")):e[f]=v}(t.rotate||n.rotate)&&(e.rotate=Dt(t.rotate||0,n.rotate||0,s))}function lw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const c6=kC(0,.5,d1),u6=kC(.5,.95,tr);function kC(e,t,n){return s=>s<e?0:s>t?1:n(Kl(e,t,s))}function cw(e,t){e.min=t.min,e.max=t.max}function Yn(e,t){cw(e.x,t.x),cw(e.y,t.y)}function uw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dw(e,t,n,s,o){return e-=t,e=xd(e,1/n,s),o!==void 0&&(e=xd(e,1/o,s)),e}function d6(e,t=0,n=1,s=.5,o,l=e,d=e){if(Xr.test(t)&&(t=parseFloat(t),t=Dt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let f=Dt(l.min,l.max,s);e===l&&(f-=t),e.min=dw(e.min,t,n,f,o),e.max=dw(e.max,t,n,f,o)}function fw(e,t,[n,s,o],l,d){d6(e,t[n],t[s],t[o],t.scale,l,d)}const f6=["x","scaleX","originX"],h6=["y","scaleY","originY"];function hw(e,t,n,s){fw(e.x,t,f6,n?n.x:void 0,s?s.x:void 0),fw(e.y,t,h6,n?n.y:void 0,s?s.y:void 0)}function pw(e){return e.translate===0&&e.scale===1}function jC(e){return pw(e.x)&&pw(e.y)}function mw(e,t){return e.min===t.min&&e.max===t.max}function p6(e,t){return mw(e.x,t.x)&&mw(e.y,t.y)}function gw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function PC(e,t){return gw(e.x,t.x)&&gw(e.y,t.y)}function vw(e){return Cn(e.x)/Cn(e.y)}function yw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class m6{constructor(){this.members=[]}add(t){Cg(this.members,t),t.scheduleRender()}remove(t){if(kg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function g6(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,d=(n==null?void 0:n.z)||0;if((o||l||d)&&(s=`translate3d(${o}px, ${l}px, ${d}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:v,rotate:g,rotateX:u,rotateY:h,skewX:y,skewY:b}=n;v&&(s=`perspective(${v}px) ${s}`),g&&(s+=`rotate(${g}deg) `),u&&(s+=`rotateX(${u}deg) `),h&&(s+=`rotateY(${h}deg) `),y&&(s+=`skewX(${y}deg) `),b&&(s+=`skewY(${b}deg) `)}const f=e.x.scale*t.x,p=e.y.scale*t.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const Cp=["","X","Y","Z"],v6=1e3;let y6=0;function kp(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function TC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=hC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&TC(s)}function NC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(d={},f=t==null?void 0:t()){this.id=y6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w6),this.nodes.forEach(k6),this.nodes.forEach(j6),this.nodes.forEach(b6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new i6)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Tg),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const p=this.eventHandlers.get(d);p&&p.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=H1(d)&&!a4(d),this.instance=d;const{layoutId:f,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),e){let g,u=0;const h=()=>this.root.updateBlockedByResize=!1;At.read(()=>{u=window.innerWidth}),e(d,()=>{const y=window.innerWidth;y!==u&&(u=y,this.root.updateBlockedByResize=!0,g&&g(),g=o6(h,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(ww)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:u,hasRelativeLayoutChanged:h,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||v.getDefaultTransition()||R6,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=v.getProps(),P=!this.targetLayout||!PC(this.targetLayout,y),j=!u&&h;if(this.options.layoutRoot||this.resumeFrom||j||u&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...$g(b,"layout"),onPlay:w,onComplete:C};(v.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(g,j)}else u||ww(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P6),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const u=this.path[g];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_w);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(C6),this.nodes.forEach(x6),this.nodes.forEach(_6)):this.nodes.forEach(_w),this.clearAllSnapshots();const f=An.now();sn.delta=ws(0,1e3/60,f-sn.timestamp),sn.timestamp=f,sn.isProcessing=!0,hp.update.process(sn),hp.preRender.process(sn),hp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(S6),this.sharedNodes.forEach(T6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!jC(this.projectionDelta),p=this.getTransformTemplate(),v=p?p(this.latestValues,""):void 0,g=v!==this.prevTransformTemplateValue;d&&this.instance&&(f||eo(this.latestValues)||g)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return d&&(p=this.removeTransform(p)),A6(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var v;const{visualElement:d}=this.options;if(!d)return Bt();const f=d.measureViewportBox();if(!(((v=this.scroll)==null?void 0:v.wasRoot)||this.path.some(I6))){const{scroll:g}=this.root;g&&(oa(f.x,g.offset.x),oa(f.y,g.offset.y))}return f}removeElementScroll(d){var p;const f=Bt();if(Yn(f,d),(p=this.scroll)!=null&&p.wasRoot)return f;for(let v=0;v<this.path.length;v++){const g=this.path[v],{scroll:u,options:h}=g;g!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Yn(f,d),oa(f.x,u.offset.x),oa(f.y,u.offset.y))}return f}applyTransform(d,f=!1){const p=Bt();Yn(p,d);for(let v=0;v<this.path.length;v++){const g=this.path[v];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&aa(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),eo(g.latestValues)&&aa(p,g.latestValues)}return eo(this.latestValues)&&aa(p,this.latestValues),p}removeTransform(d){const f=Bt();Yn(f,d);for(let p=0;p<this.path.length;p++){const v=this.path[p];if(!v.instance||!eo(v.latestValues))continue;fm(v.latestValues)&&v.updateSnapshot();const g=Bt(),u=v.measurePageBox();Yn(g,u),hw(f,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,g)}return eo(this.latestValues)&&hw(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:u}=this.options;if(!(!this.layout||!(g||u))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),$l(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),aC(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),$l(this.relativeTargetOrigin,this.target,y.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fm(this.parent.latestValues)||oC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(p=!1),p)return;const{layout:v,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||g))return;Yn(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,h=this.treeScale.y;Q4(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Bt());const{target:y}=d;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uw(this.prevProjectionDelta.x,this.projectionDelta.x),uw(this.prevProjectionDelta.y,this.projectionDelta.y)),Vl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==h||!yw(this.projectionDelta.x,this.prevProjectionDelta.x)||!yw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=la(),this.projectionDelta=la(),this.projectionDeltaWithTransform=la()}setAnimationOrigin(d,f=!1){const p=this.snapshot,v=p?p.latestValues:{},g={...this.latestValues},u=la();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const h=Bt(),y=p?p.source:void 0,b=this.layout?this.layout.source:void 0,w=y!==b,C=this.getStack(),P=!C||C.members.length<=1,j=!!(w&&!P&&this.options.crossfade===!0&&!this.path.some(E6));this.animationProgress=0;let E;this.mixTargetDelta=L=>{const D=L/1e3;bw(u.x,d.x,D),bw(u.y,d.y,D),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($l(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N6(this.relativeTarget,this.relativeTargetOrigin,h,D),E&&p6(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Bt()),Yn(E,this.relativeTarget)),w&&(this.animationValues=g,l6(g,v,this.latestValues,D,j,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){var f,p,v;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(v=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||v.stop(),this.pendingAnimation&&(ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ga(0)),this.currentAnimation=r6(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),d.onUpdate&&d.onUpdate(g)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:p,layout:v,latestValues:g}=d;if(!(!f||!p||!v)){if(this!==d&&this.layout&&v&&EC(this.options.animationType,this.layout.layoutBox,v.layoutBox)){p=this.target||Bt();const u=Cn(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+u;const h=Cn(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+h}Yn(f,p),aa(f,g),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new m6),this.sharedNodes.get(d).add(f);const v=f.options.initialPromotionConfig;f.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var f;const{layoutId:d}=this.options;return d?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:d}=this.options;return d?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:p}={}){const v=this.getStack();v&&v.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const v={};p.z&&kp("z",d,v,this.animationValues);for(let g=0;g<Cp.length;g++)kp(`rotate${Cp[g]}`,d,v,this.animationValues),kp(`skew${Cp[g]}`,d,v,this.animationValues);d.render();for(const g in v)d.setStaticValue(g,v[g]),this.animationValues&&(this.animationValues[g]=v[g]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=nd(f==null?void 0:f.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=nd(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!eo(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const g=v.animationValues||v.latestValues;this.applyTransformsToTarget();let u=g6(this.projectionDeltaWithTransform,this.treeScale,g);p&&(u=p(g,u)),d.transform=u;const{x:h,y}=this.projectionDelta;d.transformOrigin=`${h.origin*100}% ${y.origin*100}% 0`,v.animationValues?d.opacity=v===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=v===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in Jl){if(g[b]===void 0)continue;const{correct:w,applyTo:C,isCSSVariable:P}=Jl[b],j=u==="none"?g[b]:w(g[b],v);if(C){const E=C.length;for(let L=0;L<E;L++)d[C[L]]=j}else P?this.options.visualElement.renderState.vars[b]=j:d[b]=j}this.options.layoutId&&(d.pointerEvents=v===this?nd(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var f;return(f=d.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(xw),this.root.sharedNodes.clear()}}}function x6(e){e.updateLayout()}function _6(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,d=t.source!==e.layout.source;l==="size"?Qn(u=>{const h=d?t.measuredBox[u]:t.layoutBox[u],y=Cn(h);h.min=s[u].min,h.max=h.min+y}):EC(l,t.layoutBox,s)&&Qn(u=>{const h=d?t.measuredBox[u]:t.layoutBox[u],y=Cn(s[u]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+y)});const f=la();Vl(f,s,t.layoutBox);const p=la();d?Vl(p,e.applyTransform(o,!0),t.measuredBox):Vl(p,s,t.layoutBox);const v=!jC(f);let g=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:y}=u;if(h&&y){const b=Bt();$l(b,t.layoutBox,h.layoutBox);const w=Bt();$l(w,s,y.layoutBox),PC(b,w)||(g=!0),u.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=b,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:v,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function w6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function b6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function S6(e){e.clearSnapshot()}function xw(e){e.clearMeasurements()}function _w(e){e.isLayoutDirty=!1}function C6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ww(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function k6(e){e.resolveTargetDelta()}function j6(e){e.calcProjection()}function P6(e){e.resetSkewAndRotation()}function T6(e){e.removeLeadSnapshot()}function bw(e,t,n){e.translate=Dt(t.translate,0,n),e.scale=Dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sw(e,t,n,s){e.min=Dt(t.min,n.min,s),e.max=Dt(t.max,n.max,s)}function N6(e,t,n,s){Sw(e.x,t.x,n.x,s),Sw(e.y,t.y,n.y,s)}function E6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const R6={duration:.45,ease:[.4,0,.1,1]},Cw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),kw=Cw("applewebkit/")&&!Cw("chrome/")?Math.round:tr;function jw(e){e.min=kw(e.min),e.max=kw(e.max)}function A6(e){jw(e.x),jw(e.y)}function EC(e,t,n){return e==="position"||e==="preserve-aspect"&&!FF(vw(t),vw(n),.2)}function I6(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const M6=NC({attachResizeListener:(e,t)=>Zl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},RC=NC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jp.current){const e=new M6({});e.mount(window),e.setOptions({layoutScroll:!0}),jp.current=e}return jp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),L6={pan:{Feature:ZF},drag:{Feature:JF,ProjectionNode:RC,MeasureLayout:SC}};function Pw(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&At.postRender(()=>l(t,vc(t)))}class O6 extends hi{mount(){const{current:t}=this.node;t&&(this.unmount=n4(t,(n,s)=>(Pw(this.node,s,"Start"),o=>Pw(this.node,o,"End"))))}unmount(){}}class D6 extends hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pc(Zl(this.node.current,"focus",()=>this.onFocus()),Zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tw(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&At.postRender(()=>l(t,vc(t)))}class F6 extends hi{mount(){const{current:t}=this.node;t&&(this.unmount=o4(t,(n,s)=>(Tw(this.node,s,"Start"),(o,{success:l})=>Tw(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xm=new WeakMap,Pp=new WeakMap,U6=e=>{const t=xm.get(e.target);t&&t(e)},V6=e=>{e.forEach(U6)};function $6({root:e,...t}){const n=e||document;Pp.has(n)||Pp.set(n,{});const s=Pp.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(V6,{root:e,...t})),s[o]}function B6(e,t,n){const s=$6(t);return xm.set(e,n),s.observe(e),()=>{xm.delete(e),s.unobserve(e)}}const z6={some:0,all:1};class H6 extends hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,d={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:z6[o]},f=p=>{const{isIntersecting:v}=p;if(this.isInView===v||(this.isInView=v,l&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:g,onViewportLeave:u}=this.node.getProps(),h=v?g:u;h&&h(p)};return B6(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(W6(t,n))&&this.startObserver()}unmount(){}}function W6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const q6={inView:{Feature:H6},tap:{Feature:F6},focus:{Feature:D6},hover:{Feature:O6}},G6={layout:{ProjectionNode:RC,MeasureLayout:SC}},K6={...AF,...q6,...L6,...G6},X6=K4(K6,aF),Ie=S.forwardRef(({className:e,type:t,...n},s)=>a.jsx("input",{type:t,className:Be("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Ie.displayName="Input";const _m="https://your-chat-vendor.example/start";let ta=null,Nw=0;async function Y6(e=!1){var n;const t=Date.now();if(!e&&ta&&t-Nw<6e4)return ta;try{const{AppSettings:s}=await so(async()=>{const{AppSettings:d}=await Promise.resolve().then(()=>ni);return{AppSettings:d}},void 0),o=await s.list(),l=(n=o==null?void 0:o[0])==null?void 0:n.chat_vendor_base_url;ta=typeof l=="string"&&l.trim()?l.trim():_m}catch{ta=_m}finally{Nw=t}return ta}function Q6({pharmacyName:e,pharmacyEmail:t,prescriberEmail:n,requestId:s,medicationName:o,ready:l,price:d,address:f,patientName:p,patientId:v}){const g=ta||_m,u=new URLSearchParams;return e&&u.set("pharmacy",e),t&&u.set("pharmacy_email",t),n&&u.set("prescriber_email",n),s&&u.set("request_id",String(s)),o&&u.set("med",o),u.set("ready","1"),typeof d=="number"&&u.set("price",String(d)),f&&u.set("address",f),p&&u.set("patient_name",p),v&&u.set("patient_id",String(v)),`${g}?${u.toString()}`}function J6(e){return String(e||"").trim().toLowerCase()}async function wm({channel:e,event:t,payload:n}){var l,d;const s=J6(e);if(!s||!t)return;const o={channel:s,event:t,payload:n||{}};try{const f=await st.functions.invoke("events",o);if(Number(((l=f==null?void 0:f.data)==null?void 0:l.delivered)??0)>0)return;let v=400;for(let g=0;g<3;g++){await new Promise(y=>setTimeout(y,v));const u=await st.functions.invoke("events",o);if(Number(((d=u==null?void 0:u.data)==null?void 0:d.delivered)??0)>0)return;v=Math.min(v*2,1600)}console.warn("[realtime] notifyEvent delivered=0 after retries for",{ch:s,event:t})}catch(f){console.warn("[realtime] notifyEvent failed:",(f==null?void 0:f.message)||f)}}var Xd="Tabs",[Z6]=Cr(Xd,[Od]),AC=Od(),[e3,tv]=Z6(Xd),IC=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:l,orientation:d="horizontal",dir:f,activationMode:p="automatic",...v}=e,g=lg(f),[u,h]=co({prop:s,onChange:o,defaultProp:l??"",caller:Xd});return a.jsx(e3,{scope:n,baseId:ri(),value:u,onValueChange:h,orientation:d,dir:g,activationMode:p,children:a.jsx(Ke.div,{dir:g,"data-orientation":d,...v,ref:t})})});IC.displayName=Xd;var MC="TabsList",LC=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...o}=e,l=tv(MC,n),d=AC(n);return a.jsx(Ib,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:s,children:a.jsx(Ke.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});LC.displayName=MC;var OC="TabsTrigger",DC=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...l}=e,d=tv(OC,n),f=AC(n),p=VC(d.baseId,s),v=$C(d.baseId,s),g=s===d.value;return a.jsx(Mb,{asChild:!0,...f,focusable:!o,active:g,children:a.jsx(Ke.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":v,"data-state":g?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...l,ref:t,onMouseDown:ke(e.onMouseDown,u=>{!o&&u.button===0&&u.ctrlKey===!1?d.onValueChange(s):u.preventDefault()}),onKeyDown:ke(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&d.onValueChange(s)}),onFocus:ke(e.onFocus,()=>{const u=d.activationMode!=="manual";!g&&!o&&u&&d.onValueChange(s)})})})});DC.displayName=OC;var FC="TabsContent",UC=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:o,children:l,...d}=e,f=tv(FC,n),p=VC(f.baseId,s),v=$C(f.baseId,s),g=s===f.value,u=S.useRef(g);return S.useEffect(()=>{const h=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(nr,{present:o||g,children:({present:h})=>a.jsx(Ke.div,{"data-state":g?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!h,id:v,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:h&&l})})});UC.displayName=FC;function VC(e,t){return`${e}-trigger-${t}`}function $C(e,t){return`${e}-content-${t}`}var t3=IC,BC=LC,zC=DC,HC=UC;const n3=t3,WC=S.forwardRef(({className:e,...t},n)=>a.jsx(BC,{ref:n,className:Be("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));WC.displayName=BC.displayName;const Rl=S.forwardRef(({className:e,...t},n)=>a.jsx(zC,{ref:n,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Rl.displayName=zC.displayName;const Al=S.forwardRef(({className:e,...t},n)=>a.jsx(HC,{ref:n,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Al.displayName=HC.displayName;function Ew(e,[t,n]){return Math.min(n,Math.max(t,e))}function nv(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),r3="VisuallyHidden",s3=S.forwardRef((e,t)=>a.jsx(Ke.span,{...e,ref:t,style:{...qC,...e.style}}));s3.displayName=r3;var i3=[" ","Enter","ArrowUp","ArrowDown"],o3=[" ","Enter"],fo="Select",[Yd,Qd,a3]=ag(fo),[Na]=Cr(fo,[a3,ka]),Jd=ka(),[l3,pi]=Na(fo),[c3,u3]=Na(fo),GC=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:o,onOpenChange:l,value:d,defaultValue:f,onValueChange:p,dir:v,name:g,autoComplete:u,disabled:h,required:y,form:b}=e,w=Jd(t),[C,P]=S.useState(null),[j,E]=S.useState(null),[L,D]=S.useState(!1),A=lg(v),[I,O]=co({prop:s,defaultProp:o??!1,onChange:l,caller:fo}),[F,K]=co({prop:d,defaultProp:f,onChange:p,caller:fo}),ne=S.useRef(null),de=C?b||!!C.closest("form"):!0,[te,ie]=S.useState(new Set),be=Array.from(te).map(ve=>ve.props.value).join(";");return a.jsx(lI,{...w,children:a.jsxs(l3,{required:y,scope:t,trigger:C,onTriggerChange:P,valueNode:j,onValueNodeChange:E,valueNodeHasChildren:L,onValueNodeHasChildrenChange:D,contentId:ri(),value:F,onValueChange:K,open:I,onOpenChange:O,dir:A,triggerPointerDownPosRef:ne,disabled:h,children:[a.jsx(Yd.Provider,{scope:t,children:a.jsx(c3,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(ve=>{ie(pe=>new Set(pe).add(ve))},[]),onNativeOptionRemove:S.useCallback(ve=>{ie(pe=>{const W=new Set(pe);return W.delete(ve),W})},[]),children:n})}),de?a.jsxs(vk,{"aria-hidden":!0,required:y,tabIndex:-1,name:g,autoComplete:u,value:F,onChange:ve=>K(ve.target.value),disabled:h,form:b,children:[F===void 0?a.jsx("option",{value:""}):null,Array.from(te)]},be):null]})})};GC.displayName=fo;var KC="SelectTrigger",XC=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...o}=e,l=Jd(n),d=pi(KC,n),f=d.disabled||s,p=mt(t,d.onTriggerChange),v=Qd(n),g=S.useRef("touch"),[u,h,y]=xk(w=>{const C=v().filter(E=>!E.disabled),P=C.find(E=>E.value===d.value),j=_k(C,w,P);j!==void 0&&d.onValueChange(j.value)}),b=w=>{f||(d.onOpenChange(!0),y()),w&&(d.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return a.jsx(Ad,{asChild:!0,...l,children:a.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":yk(d.value)?"":void 0,...o,ref:p,onClick:ke(o.onClick,w=>{w.currentTarget.focus(),g.current!=="mouse"&&b(w)}),onPointerDown:ke(o.onPointerDown,w=>{g.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:ke(o.onKeyDown,w=>{const C=u.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&h(w.key),!(C&&w.key===" ")&&i3.includes(w.key)&&(b(),w.preventDefault())})})})});XC.displayName=KC;var YC="SelectValue",QC=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,children:l,placeholder:d="",...f}=e,p=pi(YC,n),{onValueNodeHasChildrenChange:v}=p,g=l!==void 0,u=mt(t,p.onValueNodeChange);return pn(()=>{v(g)},[v,g]),a.jsx(Ke.span,{...f,ref:u,style:{pointerEvents:"none"},children:yk(p.value)?a.jsx(a.Fragment,{children:d}):l})});QC.displayName=YC;var d3="SelectIcon",JC=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...o}=e;return a.jsx(Ke.span,{"aria-hidden":!0,...o,ref:t,children:s||"▼"})});JC.displayName=d3;var f3="SelectPortal",ZC=e=>a.jsx(uc,{asChild:!0,...e});ZC.displayName=f3;var ho="SelectContent",ek=S.forwardRef((e,t)=>{const n=pi(ho,e.__scopeSelect),[s,o]=S.useState();if(pn(()=>{o(new DocumentFragment)},[]),!n.open){const l=s;return l?rc.createPortal(a.jsx(tk,{scope:e.__scopeSelect,children:a.jsx(Yd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),l):null}return a.jsx(nk,{...e,ref:t})});ek.displayName=ho;var gr=10,[tk,mi]=Na(ho),h3="SelectContentImpl",p3=oi("SelectContent.RemoveScroll"),nk=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:d,side:f,sideOffset:p,align:v,alignOffset:g,arrowPadding:u,collisionBoundary:h,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:C,...P}=e,j=pi(ho,n),[E,L]=S.useState(null),[D,A]=S.useState(null),I=mt(t,re=>L(re)),[O,F]=S.useState(null),[K,ne]=S.useState(null),de=Qd(n),[te,ie]=S.useState(!1),be=S.useRef(!1);S.useEffect(()=>{if(E)return Id(E)},[E]),Pd();const ve=S.useCallback(re=>{const[ge,...we]=de().map(le=>le.ref.current),[Oe]=we.slice(-1),Ue=document.activeElement;for(const le of re)if(le===Ue||(le==null||le.scrollIntoView({block:"nearest"}),le===ge&&D&&(D.scrollTop=0),le===Oe&&D&&(D.scrollTop=D.scrollHeight),le==null||le.focus(),document.activeElement!==Ue))return},[de,D]),pe=S.useCallback(()=>ve([O,E]),[ve,O,E]);S.useEffect(()=>{te&&pe()},[te,pe]);const{onOpenChange:W,triggerPointerDownPosRef:J}=j;S.useEffect(()=>{if(E){let re={x:0,y:0};const ge=Oe=>{var Ue,le;re={x:Math.abs(Math.round(Oe.pageX)-(((Ue=J.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((le=J.current)==null?void 0:le.y)??0))}},we=Oe=>{re.x<=10&&re.y<=10?Oe.preventDefault():E.contains(Oe.target)||W(!1),document.removeEventListener("pointermove",ge),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",we,{capture:!0})}}},[E,W,J]),S.useEffect(()=>{const re=()=>W(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[W]);const[ae,H]=xk(re=>{const ge=de().filter(Ue=>!Ue.disabled),we=ge.find(Ue=>Ue.ref.current===document.activeElement),Oe=_k(ge,re,we);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ee=S.useCallback((re,ge,we)=>{const Oe=!be.current&&!we;(j.value!==void 0&&j.value===ge||Oe)&&(F(re),Oe&&(be.current=!0))},[j.value]),xe=S.useCallback(()=>E==null?void 0:E.focus(),[E]),q=S.useCallback((re,ge,we)=>{const Oe=!be.current&&!we;(j.value!==void 0&&j.value===ge||Oe)&&ne(re)},[j.value]),Y=s==="popper"?bm:rk,se=Y===bm?{side:f,sideOffset:p,align:v,alignOffset:g,arrowPadding:u,collisionBoundary:h,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:C}:{};return a.jsx(tk,{scope:n,content:E,viewport:D,onViewportChange:A,itemRefCallback:ee,selectedItem:O,onItemLeave:xe,itemTextRefCallback:q,focusSelectedItem:pe,selectedItemText:K,position:s,isPositioned:te,searchRef:ae,children:a.jsx(dc,{as:p3,allowPinchZoom:!0,children:a.jsx(lc,{asChild:!0,trapped:j.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ke(o,re=>{var ge;(ge=j.trigger)==null||ge.focus({preventScroll:!0}),re.preventDefault()}),children:a.jsx(ac,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:a.jsx(Y,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:re=>re.preventDefault(),...P,...se,onPlaced:()=>ie(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:ke(P.onKeyDown,re=>{const ge=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ge&&re.key.length===1&&H(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Oe=de().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ue=re.target,le=Oe.indexOf(Ue);Oe=Oe.slice(le+1)}setTimeout(()=>ve(Oe)),re.preventDefault()}})})})})})})});nk.displayName=h3;var m3="SelectItemAlignedPosition",rk=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...o}=e,l=pi(ho,n),d=mi(ho,n),[f,p]=S.useState(null),[v,g]=S.useState(null),u=mt(t,I=>g(I)),h=Qd(n),y=S.useRef(!1),b=S.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:P,focusSelectedItem:j}=d,E=S.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&v&&w&&C&&P){const I=l.trigger.getBoundingClientRect(),O=v.getBoundingClientRect(),F=l.valueNode.getBoundingClientRect(),K=P.getBoundingClientRect();if(l.dir!=="rtl"){const Ue=K.left-O.left,le=F.left-Ue,Fe=I.left-le,Nt=I.width+Fe,bt=Math.max(Nt,O.width),mn=window.innerWidth-gr,gn=Ew(le,[gr,Math.max(gr,mn-bt)]);f.style.minWidth=Nt+"px",f.style.left=gn+"px"}else{const Ue=O.right-K.right,le=window.innerWidth-F.right-Ue,Fe=window.innerWidth-I.right-le,Nt=I.width+Fe,bt=Math.max(Nt,O.width),mn=window.innerWidth-gr,gn=Ew(le,[gr,Math.max(gr,mn-bt)]);f.style.minWidth=Nt+"px",f.style.right=gn+"px"}const ne=h(),de=window.innerHeight-gr*2,te=w.scrollHeight,ie=window.getComputedStyle(v),be=parseInt(ie.borderTopWidth,10),ve=parseInt(ie.paddingTop,10),pe=parseInt(ie.borderBottomWidth,10),W=parseInt(ie.paddingBottom,10),J=be+ve+te+W+pe,ae=Math.min(C.offsetHeight*5,J),H=window.getComputedStyle(w),ee=parseInt(H.paddingTop,10),xe=parseInt(H.paddingBottom,10),q=I.top+I.height/2-gr,Y=de-q,se=C.offsetHeight/2,re=C.offsetTop+se,ge=be+ve+re,we=J-ge;if(ge<=q){const Ue=ne.length>0&&C===ne[ne.length-1].ref.current;f.style.bottom="0px";const le=v.clientHeight-w.offsetTop-w.offsetHeight,Fe=Math.max(Y,se+(Ue?xe:0)+le+pe),Nt=ge+Fe;f.style.height=Nt+"px"}else{const Ue=ne.length>0&&C===ne[0].ref.current;f.style.top="0px";const Fe=Math.max(q,be+w.offsetTop+(Ue?ee:0)+se)+we;f.style.height=Fe+"px",w.scrollTop=ge-q+w.offsetTop}f.style.margin=`${gr}px 0`,f.style.minHeight=ae+"px",f.style.maxHeight=de+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[h,l.trigger,l.valueNode,f,v,w,C,P,l.dir,s]);pn(()=>E(),[E]);const[L,D]=S.useState();pn(()=>{v&&D(window.getComputedStyle(v).zIndex)},[v]);const A=S.useCallback(I=>{I&&b.current===!0&&(E(),j==null||j(),b.current=!1)},[E,j]);return a.jsx(v3,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:y,onScrollButtonChange:A,children:a.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:a.jsx(Ke.div,{...o,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});rk.displayName=m3;var g3="SelectPopperPosition",bm=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=gr,...l}=e,d=Jd(n);return a.jsx(sg,{...d,...l,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bm.displayName=g3;var[v3,rv]=Na(ho,{}),Sm="SelectViewport",sk=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...o}=e,l=mi(Sm,n),d=rv(Sm,n),f=mt(t,l.onViewportChange),p=S.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Yd.Slot,{scope:n,children:a.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ke(o.onScroll,v=>{const g=v.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:h}=d;if(h!=null&&h.current&&u){const y=Math.abs(p.current-g.scrollTop);if(y>0){const b=window.innerHeight-gr*2,w=parseFloat(u.style.minHeight),C=parseFloat(u.style.height),P=Math.max(w,C);if(P<b){const j=P+y,E=Math.min(b,j),L=j-E;u.style.height=E+"px",u.style.bottom==="0px"&&(g.scrollTop=L>0?L:0,u.style.justifyContent="flex-end")}}}p.current=g.scrollTop})})})]})});sk.displayName=Sm;var ik="SelectGroup",[y3,x3]=Na(ik),_3=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=ri();return a.jsx(y3,{scope:n,id:o,children:a.jsx(Ke.div,{role:"group","aria-labelledby":o,...s,ref:t})})});_3.displayName=ik;var ok="SelectLabel",ak=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=x3(ok,n);return a.jsx(Ke.div,{id:o.id,...s,ref:t})});ak.displayName=ok;var _d="SelectItem",[w3,lk]=Na(_d),ck=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:l,...d}=e,f=pi(_d,n),p=mi(_d,n),v=f.value===s,[g,u]=S.useState(l??""),[h,y]=S.useState(!1),b=mt(t,j=>{var E;return(E=p.itemRefCallback)==null?void 0:E.call(p,j,s,o)}),w=ri(),C=S.useRef("touch"),P=()=>{o||(f.onValueChange(s),f.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(w3,{scope:n,value:s,disabled:o,textId:w,isSelected:v,onItemTextChange:S.useCallback(j=>{u(E=>E||((j==null?void 0:j.textContent)??"").trim())},[]),children:a.jsx(Yd.ItemSlot,{scope:n,value:s,disabled:o,textValue:g,children:a.jsx(Ke.div,{role:"option","aria-labelledby":w,"data-highlighted":h?"":void 0,"aria-selected":v&&h,"data-state":v?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:b,onFocus:ke(d.onFocus,()=>y(!0)),onBlur:ke(d.onBlur,()=>y(!1)),onClick:ke(d.onClick,()=>{C.current!=="mouse"&&P()}),onPointerUp:ke(d.onPointerUp,()=>{C.current==="mouse"&&P()}),onPointerDown:ke(d.onPointerDown,j=>{C.current=j.pointerType}),onPointerMove:ke(d.onPointerMove,j=>{var E;C.current=j.pointerType,o?(E=p.onItemLeave)==null||E.call(p):C.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(d.onPointerLeave,j=>{var E;j.currentTarget===document.activeElement&&((E=p.onItemLeave)==null||E.call(p))}),onKeyDown:ke(d.onKeyDown,j=>{var L;((L=p.searchRef)==null?void 0:L.current)!==""&&j.key===" "||(o3.includes(j.key)&&P(),j.key===" "&&j.preventDefault())})})})})});ck.displayName=_d;var Il="SelectItemText",uk=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,...l}=e,d=pi(Il,n),f=mi(Il,n),p=lk(Il,n),v=u3(Il,n),[g,u]=S.useState(null),h=mt(t,P=>u(P),p.onItemTextChange,P=>{var j;return(j=f.itemTextRefCallback)==null?void 0:j.call(f,P,p.value,p.disabled)}),y=g==null?void 0:g.textContent,b=S.useMemo(()=>a.jsx("option",{value:p.value,disabled:p.disabled,children:y},p.value),[p.disabled,p.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=v;return pn(()=>(w(b),()=>C(b)),[w,C,b]),a.jsxs(a.Fragment,{children:[a.jsx(Ke.span,{id:p.textId,...l,ref:h}),p.isSelected&&d.valueNode&&!d.valueNodeHasChildren?rc.createPortal(l.children,d.valueNode):null]})});uk.displayName=Il;var dk="SelectItemIndicator",fk=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return lk(dk,n).isSelected?a.jsx(Ke.span,{"aria-hidden":!0,...s,ref:t}):null});fk.displayName=dk;var Cm="SelectScrollUpButton",hk=S.forwardRef((e,t)=>{const n=mi(Cm,e.__scopeSelect),s=rv(Cm,e.__scopeSelect),[o,l]=S.useState(!1),d=mt(t,s.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let f=function(){const v=p.scrollTop>0;l(v)};const p=n.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),o?a.jsx(mk,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=n;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});hk.displayName=Cm;var km="SelectScrollDownButton",pk=S.forwardRef((e,t)=>{const n=mi(km,e.__scopeSelect),s=rv(km,e.__scopeSelect),[o,l]=S.useState(!1),d=mt(t,s.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let f=function(){const v=p.scrollHeight-p.clientHeight,g=Math.ceil(p.scrollTop)<v;l(g)};const p=n.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),o?a.jsx(mk,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=n;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});pk.displayName=km;var mk=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=e,l=mi("SelectScrollButton",n),d=S.useRef(null),f=Qd(n),p=S.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return S.useEffect(()=>()=>p(),[p]),pn(()=>{var g;const v=f().find(u=>u.ref.current===document.activeElement);(g=v==null?void 0:v.ref.current)==null||g.scrollIntoView({block:"nearest"})},[f]),a.jsx(Ke.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ke(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(s,50))}),onPointerMove:ke(o.onPointerMove,()=>{var v;(v=l.onItemLeave)==null||v.call(l),d.current===null&&(d.current=window.setInterval(s,50))}),onPointerLeave:ke(o.onPointerLeave,()=>{p()})})}),b3="SelectSeparator",gk=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return a.jsx(Ke.div,{"aria-hidden":!0,...s,ref:t})});gk.displayName=b3;var jm="SelectArrow",S3=S.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Jd(n),l=pi(jm,n),d=mi(jm,n);return l.open&&d.position==="popper"?a.jsx(ig,{...o,...s,ref:t}):null});S3.displayName=jm;var C3="SelectBubbleInput",vk=S.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const o=S.useRef(null),l=mt(s,o),d=nv(t);return S.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(p,"value").set;if(d!==t&&g){const u=new Event("change",{bubbles:!0});g.call(f,t),f.dispatchEvent(u)}},[d,t]),a.jsx(Ke.select,{...n,style:{...qC,...n.style},ref:l,defaultValue:t})});vk.displayName=C3;function yk(e){return e===""||e===void 0}function xk(e){const t=vs(e),n=S.useRef(""),s=S.useRef(0),o=S.useCallback(d=>{const f=n.current+d;t(f),(function p(v){n.current=v,window.clearTimeout(s.current),v!==""&&(s.current=window.setTimeout(()=>p(""),1e3))})(f)},[t]),l=S.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,l]}function _k(e,t,n){const o=t.length>1&&Array.from(t).every(v=>v===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let d=k3(e,Math.max(l,0));o.length===1&&(d=d.filter(v=>v!==n));const p=d.find(v=>v.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==n?p:void 0}function k3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var j3=GC,wk=XC,P3=QC,T3=JC,N3=ZC,bk=ek,E3=sk,Sk=ak,Ck=ck,R3=uk,A3=fk,kk=hk,jk=pk,Pk=gk;const Br=j3,zr=P3,vr=S.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(wk,{ref:s,className:Be("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(T3,{asChild:!0,children:a.jsx(Wm,{className:"h-4 w-4 opacity-50"})})]}));vr.displayName=wk.displayName;const Tk=S.forwardRef(({className:e,...t},n)=>a.jsx(kk,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(P0,{className:"h-4 w-4"})}));Tk.displayName=kk.displayName;const Nk=S.forwardRef(({className:e,...t},n)=>a.jsx(jk,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Wm,{className:"h-4 w-4"})}));Nk.displayName=jk.displayName;const yr=S.forwardRef(({className:e,children:t,position:n="popper",...s},o)=>a.jsx(N3,{children:a.jsxs(bk,{ref:o,className:Be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[a.jsx(Tk,{}),a.jsx(E3,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Nk,{})]})}));yr.displayName=bk.displayName;const I3=S.forwardRef(({className:e,...t},n)=>a.jsx(Sk,{ref:n,className:Be("px-2 py-1.5 text-sm font-semibold",e),...t}));I3.displayName=Sk.displayName;const pt=S.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(Ck,{ref:s,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(A3,{children:a.jsx(Hm,{className:"h-4 w-4"})})}),a.jsx(R3,{children:t})]}));pt.displayName=Ck.displayName;const M3=S.forwardRef(({className:e,...t},n)=>a.jsx(Pk,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));M3.displayName=Pk.displayName;const L3=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Rw=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function Pm(e){return String(e).padStart(2,"0")}function O3(e,t){const n=e%24,s=n<12;return`${n%12===0?12:n%12}:${Pm(t)} ${s?"AM":"PM"}`}function D3(e=30){const t=[];for(let n=0;n<24;n++)for(let s=0;s<60;s+=e){const o=`${Pm(n)}:${Pm(s)}`;t.push({value:o,label:O3(n,s)})}return t}const Aw=D3(30),F3=()=>({sunday:{status:"closed",open:"09:00",close:"17:00"},monday:{status:"open",open:"09:00",close:"17:00"},tuesday:{status:"open",open:"09:00",close:"17:00"},wednesday:{status:"open",open:"09:00",close:"17:00"},thursday:{status:"open",open:"09:00",close:"17:00"},friday:{status:"open",open:"09:00",close:"17:00"},saturday:{status:"closed",open:"09:00",close:"13:00"}});function Iw(){const[e,t]=U.useState(F3()),[n,s]=U.useState(!1),[o,l]=U.useState("");U.useEffect(()=>{(async()=>{try{const g=await Je.me(),u=g==null?void 0:g.hours_of_operation;u&&typeof u=="object"&&t(h=>({...h,...u}))}catch{}})()},[]);const d=(g,u)=>{t(h=>({...h,[g]:{...h[g]||{},...u}}))},f=(g,u)=>{var h;u==="closed"?d(g,{status:"closed"}):d(g,{status:"open",open:u,close:((h=e[g])==null?void 0:h.close)||u})},p=(g,u)=>d(g,{close:u}),v=async()=>{s(!0),await Je.updateMyUserData({hours_of_operation:e}),s(!1),l(new Date().toLocaleTimeString()),window.dispatchEvent(new CustomEvent("hoursUpdated",{detail:{hours:e}}))};return a.jsxs(tt,{className:"shadow-sm",children:[a.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[a.jsx(wt,{children:"Operating Hours"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o?a.jsxs("span",{children:["Saved ",o]}):null,a.jsx(Se,{onClick:v,disabled:n,className:"h-8 px-3",children:n?"Saving…":"Save"})]})]}),a.jsx(ot,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"min-w-[720px]",children:[a.jsxs("div",{className:"grid grid-cols-8 text-xs font-semibold text-gray-700",children:[a.jsx("div",{className:"py-2 px-2"}),L3.map((g,u)=>a.jsx("div",{className:"py-2 px-2 text-center",children:g},g))]}),a.jsxs("div",{className:"grid grid-cols-8 items-center border-t text-sm",children:[a.jsx("div",{className:"py-2 px-2 font-medium text-gray-700",children:"Open"}),Rw.map((g,u)=>{var y,b;const h=(((y=e[g])==null?void 0:y.status)||"closed")==="closed";return a.jsx("div",{className:`py-2 px-2 ${h?"bg-gray-50":""}`,children:a.jsxs(Br,{value:h?"closed":((b=e[g])==null?void 0:b.open)||"",onValueChange:w=>f(g,w),children:[a.jsx(vr,{className:`h-9 ${h?"opacity-70":""}`,children:a.jsx(zr,{placeholder:"Select time"})}),a.jsxs(yr,{className:"max-h-64",children:[a.jsx(pt,{value:"closed",children:"Closed"}),Aw.map(w=>a.jsx(pt,{value:w.value,children:w.label},w.value))]})]})},g)})]}),a.jsxs("div",{className:"grid grid-cols-8 items-center border-t text-sm",children:[a.jsx("div",{className:"py-2 px-2 font-medium text-gray-700",children:"Close"}),Rw.map(g=>{var h,y;const u=(((h=e[g])==null?void 0:h.status)||"closed")==="closed";return a.jsx("div",{className:`py-2 px-2 ${u?"bg-gray-50":""}`,children:a.jsxs(Br,{value:((y=e[g])==null?void 0:y.close)||"",onValueChange:b=>p(g,b),disabled:u,children:[a.jsx(vr,{className:"h-9",children:a.jsx(zr,{placeholder:u?"Closed":"Select time"})}),a.jsx(yr,{className:"max-h-64",children:Aw.map(b=>a.jsx(pt,{value:b.value,children:b.label},b.value))})]})},g)})]})]})})})]})}const ec=S.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:Be("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ec.displayName="Textarea";function U3(){const e=Hd(),[t,n]=U.useState(!0),[s,o]=U.useState([]),[l,d]=U.useState({}),[f,p]=U.useState({}),v=U.useCallback(async()=>{if(e!=null&&e.email){n(!0);try{const u=await Ht.filter({is_public_inquiry:!0},"-created_date",150).catch(()=>[]),h=(Array.isArray(u)?u:[]).filter(y=>Array.isArray(y.pharmacy_responses)&&y.pharmacy_responses.some(b=>(b.pharmacy_email||"").toLowerCase()===(e.email||"").toLowerCase()));o(h)}finally{n(!1)}}},[e]);U.useEffect(()=>{v()},[v]);const g=async(u,h)=>{p(y=>({...y,[u.id]:!0}));try{await st.functions.invoke("respondToPublicInquiry",{medication_request_id:u.id,status:h,note:l[u.id]||""}),await v()}finally{p(y=>({...y,[u.id]:!1}))}};return t?a.jsx("div",{className:"flex justify-center p-6",children:a.jsx(rt,{className:"w-6 h-6 animate-spin"})}):s.length?a.jsx("div",{className:"space-y-3",children:s.map(u=>{const h=(u.pharmacy_responses||[]).find(C=>(C.pharmacy_email||"").toLowerCase()===(e.email||"").toLowerCase())||{},y=["available","low_stock","no_stock"].includes(h.status),b=Array.isArray(u.medications)?u.medications:u.medication_name?[{name:u.medication_name,dosage:u.dosage,quantity:u.quantity}]:[],w=!!f[u.id];return a.jsx(tt,{className:"shadow-sm",children:a.jsxs(ot,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Ref #",u.reference_number||"—"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["ZIP ",u.zip," • within ",u.radius," mi"]})]}),a.jsx(hn,{variant:"outline",className:"text-xs",children:y?"Responded":"Awaiting Response"})]}),a.jsx("ul",{className:"text-sm space-y-1",children:b.map((C,P)=>a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:C.name||"Medication"}),C.dosage?` — ${C.dosage}`:"",C.form?` • ${C.form}`:"",typeof C.quantity=="number"?` • Qty: ${C.quantity}`:""]},P))}),u.generic_acceptable?a.jsx("div",{className:"text-xs text-gray-600",children:"Generic acceptable"}):null,a.jsx(ec,{placeholder:"Optional note for the patient (e.g., Generic available, Brand only)",value:l[u.id]||"",onChange:C=>d(P=>({...P,[u.id]:C.target.value})),disabled:w||y}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Se,{disabled:w||y,onClick:()=>g(u,"available"),children:"Available"}),a.jsx(Se,{variant:"secondary",disabled:w||y,onClick:()=>g(u,"low_stock"),children:"Low Stock"}),a.jsx(Se,{variant:"destructive",disabled:w||y,onClick:()=>g(u,"no_stock"),children:"No Stock"})]})]})},u.id)})}):a.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed",children:[a.jsx(Hp,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"No public inquiries right now."})]})}var Tp={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var Mw;function V3(){return Mw||(Mw=1,(function(e,t){(function(s,o){e.exports=o()})(window,function(){return(function(n){var s={};function o(l){if(s[l])return s[l].exports;var d=s[l]={i:l,l:!1,exports:{}};return n[l].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=n,o.c=s,o.d=function(l,d,f){o.o(l,d)||Object.defineProperty(l,d,{enumerable:!0,get:f})},o.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,d){if(d&1&&(l=o(l)),d&8||d&4&&typeof l=="object"&&l&&l.__esModule)return l;var f=Object.create(null);if(o.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),d&2&&typeof l!="string")for(var p in l)o.d(f,p,(function(v){return l[v]}).bind(null,p));return f},o.n=function(l){var d=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(d,"a",d),d},o.o=function(l,d){return Object.prototype.hasOwnProperty.call(l,d)},o.p="",o(o.s=2)})([(function(n,s,o){var l=this&&this.__extends||(function(){var w=function(C,P){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,E){j.__proto__=E}||function(j,E){for(var L in E)E.hasOwnProperty(L)&&(j[L]=E[L])},w(C,P)};return function(C,P){w(C,P);function j(){this.constructor=C}C.prototype=P===null?Object.create(P):(j.prototype=P.prototype,new j)}})();Object.defineProperty(s,"__esModule",{value:!0});var d=256,f=(function(){function w(C){C===void 0&&(C="="),this._paddingCharacter=C}return w.prototype.encodedLength=function(C){return this._paddingCharacter?(C+2)/3*4|0:(C*8+5)/6|0},w.prototype.encode=function(C){for(var P="",j=0;j<C.length-2;j+=3){var E=C[j]<<16|C[j+1]<<8|C[j+2];P+=this._encodeByte(E>>>18&63),P+=this._encodeByte(E>>>12&63),P+=this._encodeByte(E>>>6&63),P+=this._encodeByte(E>>>0&63)}var L=C.length-j;if(L>0){var E=C[j]<<16|(L===2?C[j+1]<<8:0);P+=this._encodeByte(E>>>18&63),P+=this._encodeByte(E>>>12&63),L===2?P+=this._encodeByte(E>>>6&63):P+=this._paddingCharacter||"",P+=this._paddingCharacter||""}return P},w.prototype.maxDecodedLength=function(C){return this._paddingCharacter?C/4*3|0:(C*6+7)/8|0},w.prototype.decodedLength=function(C){return this.maxDecodedLength(C.length-this._getPaddingLength(C))},w.prototype.decode=function(C){if(C.length===0)return new Uint8Array(0);for(var P=this._getPaddingLength(C),j=C.length-P,E=new Uint8Array(this.maxDecodedLength(j)),L=0,D=0,A=0,I=0,O=0,F=0,K=0;D<j-4;D+=4)I=this._decodeChar(C.charCodeAt(D+0)),O=this._decodeChar(C.charCodeAt(D+1)),F=this._decodeChar(C.charCodeAt(D+2)),K=this._decodeChar(C.charCodeAt(D+3)),E[L++]=I<<2|O>>>4,E[L++]=O<<4|F>>>2,E[L++]=F<<6|K,A|=I&d,A|=O&d,A|=F&d,A|=K&d;if(D<j-1&&(I=this._decodeChar(C.charCodeAt(D)),O=this._decodeChar(C.charCodeAt(D+1)),E[L++]=I<<2|O>>>4,A|=I&d,A|=O&d),D<j-2&&(F=this._decodeChar(C.charCodeAt(D+2)),E[L++]=O<<4|F>>>2,A|=F&d),D<j-3&&(K=this._decodeChar(C.charCodeAt(D+3)),E[L++]=F<<6|K,A|=K&d),A!==0)throw new Error("Base64Coder: incorrect characters for decoding");return E},w.prototype._encodeByte=function(C){var P=C;return P+=65,P+=25-C>>>8&6,P+=51-C>>>8&-75,P+=61-C>>>8&-15,P+=62-C>>>8&3,String.fromCharCode(P)},w.prototype._decodeChar=function(C){var P=d;return P+=(42-C&C-44)>>>8&-d+C-43+62,P+=(46-C&C-48)>>>8&-d+C-47+63,P+=(47-C&C-58)>>>8&-d+C-48+52,P+=(64-C&C-91)>>>8&-d+C-65+0,P+=(96-C&C-123)>>>8&-d+C-97+26,P},w.prototype._getPaddingLength=function(C){var P=0;if(this._paddingCharacter){for(var j=C.length-1;j>=0&&C[j]===this._paddingCharacter;j--)P++;if(C.length<4||P>2)throw new Error("Base64Coder: incorrect padding")}return P},w})();s.Coder=f;var p=new f;function v(w){return p.encode(w)}s.encode=v;function g(w){return p.decode(w)}s.decode=g;var u=(function(w){l(C,w);function C(){return w!==null&&w.apply(this,arguments)||this}return C.prototype._encodeByte=function(P){var j=P;return j+=65,j+=25-P>>>8&6,j+=51-P>>>8&-75,j+=61-P>>>8&-13,j+=62-P>>>8&49,String.fromCharCode(j)},C.prototype._decodeChar=function(P){var j=d;return j+=(44-P&P-46)>>>8&-d+P-45+62,j+=(94-P&P-96)>>>8&-d+P-95+63,j+=(47-P&P-58)>>>8&-d+P-48+52,j+=(64-P&P-91)>>>8&-d+P-65+0,j+=(96-P&P-123)>>>8&-d+P-97+26,j},C})(f);s.URLSafeCoder=u;var h=new u;function y(w){return h.encode(w)}s.encodeURLSafe=y;function b(w){return h.decode(w)}s.decodeURLSafe=b,s.encodedLength=function(w){return p.encodedLength(w)},s.maxDecodedLength=function(w){return p.maxDecodedLength(w)},s.decodedLength=function(w){return p.decodedLength(w)}}),(function(n,s,o){Object.defineProperty(s,"__esModule",{value:!0});var l="utf8: invalid string",d="utf8: invalid source encoding";function f(g){for(var u=new Uint8Array(p(g)),h=0,y=0;y<g.length;y++){var b=g.charCodeAt(y);b<128?u[h++]=b:b<2048?(u[h++]=192|b>>6,u[h++]=128|b&63):b<55296?(u[h++]=224|b>>12,u[h++]=128|b>>6&63,u[h++]=128|b&63):(y++,b=(b&1023)<<10,b|=g.charCodeAt(y)&1023,b+=65536,u[h++]=240|b>>18,u[h++]=128|b>>12&63,u[h++]=128|b>>6&63,u[h++]=128|b&63)}return u}s.encode=f;function p(g){for(var u=0,h=0;h<g.length;h++){var y=g.charCodeAt(h);if(y<128)u+=1;else if(y<2048)u+=2;else if(y<55296)u+=3;else if(y<=57343){if(h>=g.length-1)throw new Error(l);h++,u+=4}else throw new Error(l)}return u}s.encodedLength=p;function v(g){for(var u=[],h=0;h<g.length;h++){var y=g[h];if(y&128){var b=void 0;if(y<224){if(h>=g.length)throw new Error(d);var w=g[++h];if((w&192)!==128)throw new Error(d);y=(y&31)<<6|w&63,b=128}else if(y<240){if(h>=g.length-1)throw new Error(d);var w=g[++h],C=g[++h];if((w&192)!==128||(C&192)!==128)throw new Error(d);y=(y&15)<<12|(w&63)<<6|C&63,b=2048}else if(y<248){if(h>=g.length-2)throw new Error(d);var w=g[++h],C=g[++h],P=g[++h];if((w&192)!==128||(C&192)!==128||(P&192)!==128)throw new Error(d);y=(y&15)<<18|(w&63)<<12|(C&63)<<6|P&63,b=65536}else throw new Error(d);if(y<b||y>=55296&&y<=57343)throw new Error(d);if(y>=65536){if(y>1114111)throw new Error(d);y-=65536,u.push(String.fromCharCode(55296|y>>10)),y=56320|y&1023}}u.push(String.fromCharCode(y))}return u.join("")}s.decode=v}),(function(n,s,o){n.exports=o(3).default}),(function(n,s,o){o.r(s);class l{constructor(_,T){this.lastId=0,this.prefix=_,this.name=T}create(_){this.lastId++;var T=this.lastId,M=this.prefix+T,$=this.name+"["+T+"]",oe=!1,_e=function(){oe||(_.apply(null,arguments),oe=!0)};return this[T]=_e,{number:T,id:M,name:$,callback:_e}}remove(_){delete this[_.number]}}var d=new l("_pusher_script_","Pusher.ScriptReceivers"),f={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},p=f;class v{constructor(_){this.options=_,this.receivers=_.receivers||d,this.loading={}}load(_,T,M){var $=this;if($.loading[_]&&$.loading[_].length>0)$.loading[_].push(M);else{$.loading[_]=[M];var oe=We.createScriptRequest($.getPath(_,T)),_e=$.receivers.create(function(Te){if($.receivers.remove(_e),$.loading[_]){var Xe=$.loading[_];delete $.loading[_];for(var ut=function(Mt){Mt||oe.cleanup()},yt=0;yt<Xe.length;yt++)Xe[yt](Te,ut)}});oe.send(_e)}}getRoot(_){var T,M=We.getDocument().location.protocol;return _&&_.useTLS||M==="https:"?T=this.options.cdn_https:T=this.options.cdn_http,T.replace(/\/*$/,"")+"/"+this.options.version}getPath(_,T){return this.getRoot(T)+"/"+_+this.options.suffix+".js"}}var g=new l("_pusher_dependencies","Pusher.DependenciesReceivers"),u=new v({cdn_http:p.cdn_http,cdn_https:p.cdn_https,version:p.VERSION,suffix:p.dependency_suffix,receivers:g});const h={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var b={buildLogSuffix:function(N){const _="See:",T=h.urls[N];if(!T)return"";let M;return T.fullUrl?M=T.fullUrl:T.path&&(M=h.baseUrl+T.path),M?`${_} ${M}`:""}},w;(function(N){N.UserAuthentication="user-authentication",N.ChannelAuthorization="channel-authorization"})(w||(w={}));class C extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class P extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class L extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class I extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class O extends Error{constructor(_,T){super(T),this.status=_,Object.setPrototypeOf(this,new.target.prototype)}}var K=function(N,_,T,M,$){const oe=We.createXHR();oe.open("POST",T.endpoint,!0),oe.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var _e in T.headers)oe.setRequestHeader(_e,T.headers[_e]);if(T.headersProvider!=null){let Te=T.headersProvider();for(var _e in Te)oe.setRequestHeader(_e,Te[_e])}return oe.onreadystatechange=function(){if(oe.readyState===4)if(oe.status===200){let Te,Xe=!1;try{Te=JSON.parse(oe.responseText),Xe=!0}catch{$(new O(200,`JSON returned from ${M.toString()} endpoint was invalid, yet status code was 200. Data was: ${oe.responseText}`),null)}Xe&&$(null,Te)}else{let Te="";switch(M){case w.UserAuthentication:Te=b.buildLogSuffix("authenticationEndpoint");break;case w.ChannelAuthorization:Te=`Clients must be authorized to join private or presence channels. ${b.buildLogSuffix("authorizationEndpoint")}`;break}$(new O(oe.status,`Unable to retrieve auth string from ${M.toString()} endpoint - received status: ${oe.status} from ${T.endpoint}. ${Te}`),null)}},oe.send(_),oe};function ne(N){return pe(be(N))}var de=String.fromCharCode,te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie=function(N){var _=N.charCodeAt(0);return _<128?N:_<2048?de(192|_>>>6)+de(128|_&63):de(224|_>>>12&15)+de(128|_>>>6&63)+de(128|_&63)},be=function(N){return N.replace(/[^\x00-\x7F]/g,ie)},ve=function(N){var _=[0,2,1][N.length%3],T=N.charCodeAt(0)<<16|(N.length>1?N.charCodeAt(1):0)<<8|(N.length>2?N.charCodeAt(2):0),M=[te.charAt(T>>>18),te.charAt(T>>>12&63),_>=2?"=":te.charAt(T>>>6&63),_>=1?"=":te.charAt(T&63)];return M.join("")},pe=window.btoa||function(N){return N.replace(/[\s\S]{1,3}/g,ve)};class W{constructor(_,T,M,$){this.clear=T,this.timer=_(()=>{this.timer&&(this.timer=$(this.timer))},M)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var J=W;function ae(N){window.clearTimeout(N)}function H(N){window.clearInterval(N)}class ee extends J{constructor(_,T){super(setTimeout,ae,_,function(M){return T(),null})}}class xe extends J{constructor(_,T){super(setInterval,H,_,function(M){return T(),M})}}var q={now(){return Date.now?Date.now():new Date().valueOf()},defer(N){return new ee(0,N)},method(N,..._){var T=Array.prototype.slice.call(arguments,1);return function(M){return M[N].apply(M,T.concat(arguments))}}},Y=q;function se(N,..._){for(var T=0;T<_.length;T++){var M=_[T];for(var $ in M)M[$]&&M[$].constructor&&M[$].constructor===Object?N[$]=se(N[$]||{},M[$]):N[$]=M[$]}return N}function re(){for(var N=["Pusher"],_=0;_<arguments.length;_++)typeof arguments[_]=="string"?N.push(arguments[_]):N.push(jr(arguments[_]));return N.join(" : ")}function ge(N,_){var T=Array.prototype.indexOf;if(N===null)return-1;if(T&&N.indexOf===T)return N.indexOf(_);for(var M=0,$=N.length;M<$;M++)if(N[M]===_)return M;return-1}function we(N,_){for(var T in N)Object.prototype.hasOwnProperty.call(N,T)&&_(N[T],T,N)}function Oe(N){var _=[];return we(N,function(T,M){_.push(M)}),_}function Ue(N){var _=[];return we(N,function(T){_.push(T)}),_}function le(N,_,T){for(var M=0;M<N.length;M++)_.call(T||window,N[M],M,N)}function Fe(N,_){for(var T=[],M=0;M<N.length;M++)T.push(_(N[M],M,N,T));return T}function Nt(N,_){var T={};return we(N,function(M,$){T[$]=_(M)}),T}function bt(N,_){_=_||function($){return!!$};for(var T=[],M=0;M<N.length;M++)_(N[M],M,N,T)&&T.push(N[M]);return T}function mn(N,_){var T={};return we(N,function(M,$){(_&&_(M,$,N,T)||M)&&(T[$]=M)}),T}function gn(N){var _=[];return we(N,function(T,M){_.push([M,T])}),_}function rr(N,_){for(var T=0;T<N.length;T++)if(_(N[T],T,N))return!0;return!1}function tn(N,_){for(var T=0;T<N.length;T++)if(!_(N[T],T,N))return!1;return!0}function on(N){return Nt(N,function(_){return typeof _=="object"&&(_=jr(_)),encodeURIComponent(ne(_.toString()))})}function Mn(N){var _=mn(N,function(M){return M!==void 0}),T=Fe(gn(on(_)),Y.method("join","=")).join("&");return T}function gi(N){var _=[],T=[];return(function M($,oe){var _e,Te,Xe;switch(typeof $){case"object":if(!$)return null;for(_e=0;_e<_.length;_e+=1)if(_[_e]===$)return{$ref:T[_e]};if(_.push($),T.push(oe),Object.prototype.toString.apply($)==="[object Array]")for(Xe=[],_e=0;_e<$.length;_e+=1)Xe[_e]=M($[_e],oe+"["+_e+"]");else{Xe={};for(Te in $)Object.prototype.hasOwnProperty.call($,Te)&&(Xe[Te]=M($[Te],oe+"["+JSON.stringify(Te)+"]"))}return Xe;case"number":case"string":case"boolean":return $}})(N,"$")}function jr(N){try{return JSON.stringify(N)}catch{return JSON.stringify(gi(N))}}class vi{constructor(){this.globalLog=_=>{window.console&&window.console.log&&window.console.log(_)}}debug(..._){this.log(this.globalLog,_)}warn(..._){this.log(this.globalLogWarn,_)}error(..._){this.log(this.globalLogError,_)}globalLogWarn(_){window.console&&window.console.warn?window.console.warn(_):this.globalLog(_)}globalLogError(_){window.console&&window.console.error?window.console.error(_):this.globalLogWarn(_)}log(_,...T){var M=re.apply(this,arguments);qa.log?qa.log(M):qa.logToConsole&&_.bind(this)(M)}}var dt=new vi,go=function(N,_,T,M,$){(T.headers!==void 0||T.headersProvider!=null)&&dt.warn(`To send headers with the ${M.toString()} request, you must use AJAX, rather than JSONP.`);var oe=N.nextAuthCallbackID.toString();N.nextAuthCallbackID++;var _e=N.getDocument(),Te=_e.createElement("script");N.auth_callbacks[oe]=function(yt){$(null,yt)};var Xe="Pusher.auth_callbacks['"+oe+"']";Te.src=T.endpoint+"?callback="+encodeURIComponent(Xe)+"&"+_;var ut=_e.getElementsByTagName("head")[0]||_e.documentElement;ut.insertBefore(Te,ut.firstChild)},yi=go;class Ss{constructor(_){this.src=_}send(_){var T=this,M="Error loading "+T.src;T.script=document.createElement("script"),T.script.id=_.id,T.script.src=T.src,T.script.type="text/javascript",T.script.charset="UTF-8",T.script.addEventListener?(T.script.onerror=function(){_.callback(M)},T.script.onload=function(){_.callback(null)}):T.script.onreadystatechange=function(){(T.script.readyState==="loaded"||T.script.readyState==="complete")&&_.callback(null)},T.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(T.errorScript=document.createElement("script"),T.errorScript.id=_.id+"_error",T.errorScript.text=_.name+"('"+M+"');",T.script.async=T.errorScript.async=!1):T.script.async=!0;var $=document.getElementsByTagName("head")[0];$.insertBefore(T.script,$.firstChild),T.errorScript&&$.insertBefore(T.errorScript,T.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Ln{constructor(_,T){this.url=_,this.data=T}send(_){if(!this.request){var T=Mn(this.data),M=this.url+"/"+_.number+"?"+T;this.request=We.createScriptRequest(M),this.request.send(_)}}cleanup(){this.request&&this.request.cleanup()}}var sr=function(N,_){return function(T,M){var $="http"+(_?"s":"")+"://",oe=$+(N.host||N.options.host)+N.options.path,_e=We.createJSONPRequest(oe,T),Te=We.ScriptReceivers.create(function(Xe,ut){d.remove(Te),_e.cleanup(),ut&&ut.host&&(N.host=ut.host),M&&M(Xe,ut)});_e.send(Te)}},es={name:"jsonp",getAgent:sr},xi=es;function Pr(N,_,T){var M=N+(_.useTLS?"s":""),$=_.useTLS?_.hostTLS:_.hostNonTLS;return M+"://"+$+T}function Tr(N,_){var T="/app/"+N,M="?protocol="+p.PROTOCOL+"&client=js&version="+p.VERSION+(_?"&"+_:"");return T+M}var kn={getInitial:function(N,_){var T=(_.httpPath||"")+Tr(N,"flash=false");return Pr("ws",_,T)}},_i={getInitial:function(N,_){var T=(_.httpPath||"/pusher")+Tr(N);return Pr("http",_,T)}},ts={getInitial:function(N,_){return Pr("http",_,_.httpPath||"/pusher")},getPath:function(N,_){return Tr(N)}};class wi{constructor(){this._callbacks={}}get(_){return this._callbacks[ns(_)]}add(_,T,M){var $=ns(_);this._callbacks[$]=this._callbacks[$]||[],this._callbacks[$].push({fn:T,context:M})}remove(_,T,M){if(!_&&!T&&!M){this._callbacks={};return}var $=_?[ns(_)]:Oe(this._callbacks);T||M?this.removeCallback($,T,M):this.removeAllCallbacks($)}removeCallback(_,T,M){le(_,function($){this._callbacks[$]=bt(this._callbacks[$]||[],function(oe){return T&&T!==oe.fn||M&&M!==oe.context}),this._callbacks[$].length===0&&delete this._callbacks[$]},this)}removeAllCallbacks(_){le(_,function(T){delete this._callbacks[T]},this)}}function ns(N){return"_"+N}class vn{constructor(_){this.callbacks=new wi,this.global_callbacks=[],this.failThrough=_}bind(_,T,M){return this.callbacks.add(_,T,M),this}bind_global(_){return this.global_callbacks.push(_),this}unbind(_,T,M){return this.callbacks.remove(_,T,M),this}unbind_global(_){return _?(this.global_callbacks=bt(this.global_callbacks||[],T=>T!==_),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(_,T,M){for(var $=0;$<this.global_callbacks.length;$++)this.global_callbacks[$](_,T);var oe=this.callbacks.get(_),_e=[];if(M?_e.push(T,M):T&&_e.push(T),oe&&oe.length>0)for(var $=0;$<oe.length;$++)oe[$].fn.apply(oe[$].context||window,_e);else this.failThrough&&this.failThrough(_,T);return this}}class Nr extends vn{constructor(_,T,M,$,oe){super(),this.initialize=We.transportConnectionInitializer,this.hooks=_,this.name=T,this.priority=M,this.key=$,this.options=oe,this.state="new",this.timeline=oe.timeline,this.activityTimeout=oe.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var _=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(_,this.options)}catch(T){return Y.defer(()=>{this.onError(T),this.changeState("closed")}),!1}return this.bindListeners(),dt.debug("Connecting",{transport:this.name,url:_}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(_){return this.state==="open"?(Y.defer(()=>{this.socket&&this.socket.send(_)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(_){this.emit("error",{type:"WebSocketError",error:_}),this.timeline.error(this.buildTimelineMessage({error:_.toString()}))}onClose(_){_?this.changeState("closed",{code:_.code,reason:_.reason,wasClean:_.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(_){this.emit("message",_)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=_=>{this.onError(_)},this.socket.onclose=_=>{this.onClose(_)},this.socket.onmessage=_=>{this.onMessage(_)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(_,T){this.state=_,this.timeline.info(this.buildTimelineMessage({state:_,params:T})),this.emit(_,T)}buildTimelineMessage(_){return se({cid:this.id},_)}}class yn{constructor(_){this.hooks=_}isSupported(_){return this.hooks.isSupported(_)}createConnection(_,T,M,$){return new Nr(this.hooks,_,T,M,$)}}var vo=new yn({urls:kn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!We.getWebSocketAPI()},isSupported:function(){return!!We.getWebSocketAPI()},getSocket:function(N){return We.createWebSocket(N)}}),bi={urls:_i,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Cs=se({getSocket:function(N){return We.HTTPFactory.createStreamingSocket(N)}},bi),ks=se({getSocket:function(N){return We.HTTPFactory.createPollingSocket(N)}},bi),Si={isSupported:function(){return We.isXHRSupported()}},Er=new yn(se({},Cs,Si)),B=new yn(se({},ks,Si)),ue={ws:vo,xhr_streaming:Er,xhr_polling:B},ce=ue,ze=new yn({file:"sockjs",urls:ts,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(N,_){return new window.SockJS(N,null,{js_path:u.getPath("sockjs",{useTLS:_.useTLS}),ignore_null_origin:_.ignoreNullOrigin})},beforeOpen:function(N,_){N.send(JSON.stringify({path:_}))}}),Ae={isSupported:function(N){var _=We.isXDRSupported(N.useTLS);return _}},Pe=new yn(se({},Cs,Ae)),He=new yn(se({},ks,Ae));ce.xdr_streaming=Pe,ce.xdr_polling=He,ce.sockjs=ze;var at=ce;class lt extends vn{constructor(){super();var _=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){_.emit("online")},!1),window.addEventListener("offline",function(){_.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Et=new lt;class ir{constructor(_,T,M){this.manager=_,this.transport=T,this.minPingDelay=M.minPingDelay,this.maxPingDelay=M.maxPingDelay,this.pingDelay=void 0}createConnection(_,T,M,$){$=se({},$,{activityTimeout:this.pingDelay});var oe=this.transport.createConnection(_,T,M,$),_e=null,Te=function(){oe.unbind("open",Te),oe.bind("closed",Xe),_e=Y.now()},Xe=ut=>{if(oe.unbind("closed",Xe),ut.code===1002||ut.code===1003)this.manager.reportDeath();else if(!ut.wasClean&&_e){var yt=Y.now()-_e;yt<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(yt/2,this.minPingDelay))}};return oe.bind("open",Te),oe}isSupported(_){return this.manager.isAlive()&&this.transport.isSupported(_)}}const xt={decodeMessage:function(N){try{var _=JSON.parse(N.data),T=_.data;if(typeof T=="string")try{T=JSON.parse(_.data)}catch{}var M={event:_.event,channel:_.channel,data:T};return _.user_id&&(M.user_id=_.user_id),M}catch($){throw{type:"MessageParseError",error:$,data:N.data}}},encodeMessage:function(N){return JSON.stringify(N)},processHandshake:function(N){var _=xt.decodeMessage(N);if(_.event==="pusher:connection_established"){if(!_.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:_.data.socket_id,activityTimeout:_.data.activity_timeout*1e3}}else{if(_.event==="pusher:error")return{action:this.getCloseAction(_.data),error:this.getCloseError(_.data)};throw"Invalid handshake"}},getCloseAction:function(N){return N.code<4e3?N.code>=1002&&N.code<=1004?"backoff":null:N.code===4e3?"tls_only":N.code<4100?"refused":N.code<4200?"backoff":N.code<4300?"retry":"refused"},getCloseError:function(N){return N.code!==1e3&&N.code!==1001?{type:"PusherError",data:{code:N.code,message:N.reason||N.message}}:null}};var St=xt;class Ye extends vn{constructor(_,T){super(),this.id=_,this.transport=T,this.activityTimeout=T.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(_){return this.transport.send(_)}send_event(_,T,M){var $={event:_,data:T};return M&&($.channel=M),dt.debug("Event sent",$),this.send(St.encodeMessage($))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var _={message:M=>{var $;try{$=St.decodeMessage(M)}catch(oe){this.emit("error",{type:"MessageParseError",error:oe,data:M.data})}if($!==void 0){switch(dt.debug("Event recd",$),$.event){case"pusher:error":this.emit("error",{type:"PusherError",data:$.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",$)}},activity:()=>{this.emit("activity")},error:M=>{this.emit("error",M)},closed:M=>{T(),M&&M.code&&this.handleCloseEvent(M),this.transport=null,this.emit("closed")}},T=()=>{we(_,(M,$)=>{this.transport.unbind($,M)})};we(_,(M,$)=>{this.transport.bind($,M)})}handleCloseEvent(_){var T=St.getCloseAction(_),M=St.getCloseError(_);M&&this.emit("error",M),T&&this.emit(T,{action:T,error:M})}}class Ze{constructor(_,T){this.transport=_,this.callback=T,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=_=>{this.unbindListeners();var T;try{T=St.processHandshake(_)}catch(M){this.finish("error",{error:M}),this.transport.close();return}T.action==="connected"?this.finish("connected",{connection:new Ye(T.id,this.transport),activityTimeout:T.activityTimeout}):(this.finish(T.action,{error:T.error}),this.transport.close())},this.onClosed=_=>{this.unbindListeners();var T=St.getCloseAction(_)||"backoff",M=St.getCloseError(_);this.finish(T,{error:M})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(_,T){this.callback(se({transport:this.transport,action:_},T))}}class Vt{constructor(_,T){this.timeline=_,this.options=T||{}}send(_,T){this.timeline.isEmpty()||this.timeline.send(We.TimelineTransport.getAgent(this,_),T)}}class xn extends vn{constructor(_,T){super(function(M,$){dt.debug("No callbacks on "+_+" for "+M)}),this.name=_,this.pusher=T,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(_,T){return T(null,{auth:""})}trigger(_,T){if(_.indexOf("client-")!==0)throw new C("Event '"+_+"' does not start with 'client-'");if(!this.subscribed){var M=b.buildLogSuffix("triggeringClientEvents");dt.warn(`Client event triggered before channel 'subscription_succeeded' event . ${M}`)}return this.pusher.send_event(_,T,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(_){var T=_.event,M=_.data;if(T==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(_);else if(T==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(_);else if(T.indexOf("pusher_internal:")!==0){var $={};this.emit(T,M,$)}}handleSubscriptionSucceededEvent(_){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",_.data)}handleSubscriptionCountEvent(_){_.data.subscription_count&&(this.subscriptionCount=_.data.subscription_count),this.emit("pusher:subscription_count",_.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(_,T)=>{_?(this.subscriptionPending=!1,dt.error(_.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:_.message},_ instanceof O?{status:_.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:T.auth,channel_data:T.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class On extends xn{authorize(_,T){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:_},T)}}class js{constructor(){this.reset()}get(_){return Object.prototype.hasOwnProperty.call(this.members,_)?{id:_,info:this.members[_]}:null}each(_){we(this.members,(T,M)=>{_(this.get(M))})}setMyID(_){this.myID=_}onSubscription(_){this.members=_.presence.hash,this.count=_.presence.count,this.me=this.get(this.myID)}addMember(_){return this.get(_.user_id)===null&&this.count++,this.members[_.user_id]=_.user_info,this.get(_.user_id)}removeMember(_){var T=this.get(_.user_id);return T&&(delete this.members[_.user_id],this.count--),T}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Ps=function(N,_,T,M){function $(oe){return oe instanceof T?oe:new T(function(_e){_e(oe)})}return new(T||(T=Promise))(function(oe,_e){function Te(yt){try{ut(M.next(yt))}catch(Mt){_e(Mt)}}function Xe(yt){try{ut(M.throw(yt))}catch(Mt){_e(Mt)}}function ut(yt){yt.done?oe(yt.value):$(yt.value).then(Te,Xe)}ut((M=M.apply(N,_||[])).next())})};class Ea extends On{constructor(_,T){super(_,T),this.members=new js}authorize(_,T){super.authorize(_,(M,$)=>Ps(this,void 0,void 0,function*(){if(!M)if($=$,$.channel_data!=null){var oe=JSON.parse($.channel_data);this.members.setMyID(oe.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let _e=b.buildLogSuffix("authorizationEndpoint");dt.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${_e}, or the user should be signed in.`),T("Invalid auth response");return}T(M,$)}))}handleEvent(_){var T=_.event;if(T.indexOf("pusher_internal:")===0)this.handleInternalEvent(_);else{var M=_.data,$={};_.user_id&&($.user_id=_.user_id),this.emit(T,M,$)}}handleInternalEvent(_){var T=_.event,M=_.data;switch(T){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(_);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(_);break;case"pusher_internal:member_added":var $=this.members.addMember(M);this.emit("pusher:member_added",$);break;case"pusher_internal:member_removed":var oe=this.members.removeMember(M);oe&&this.emit("pusher:member_removed",oe);break}}handleSubscriptionSucceededEvent(_){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(_.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Ra=o(1),et=o(0);class rs extends On{constructor(_,T,M){super(_,T),this.key=null,this.nacl=M}authorize(_,T){super.authorize(_,(M,$)=>{if(M){T(M,$);return}let oe=$.shared_secret;if(!oe){T(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(et.decode)(oe),delete $.shared_secret,T(null,$)})}trigger(_,T){throw new D("Client events are not currently supported for encrypted channels")}handleEvent(_){var T=_.event,M=_.data;if(T.indexOf("pusher_internal:")===0||T.indexOf("pusher:")===0){super.handleEvent(_);return}this.handleEncryptedEvent(T,M)}handleEncryptedEvent(_,T){if(!this.key){dt.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!T.ciphertext||!T.nonce){dt.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+T);return}let M=Object(et.decode)(T.ciphertext);if(M.length<this.nacl.secretbox.overheadLength){dt.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${M.length}`);return}let $=Object(et.decode)(T.nonce);if($.length<this.nacl.secretbox.nonceLength){dt.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${$.length}`);return}let oe=this.nacl.secretbox.open(M,$,this.key);if(oe===null){dt.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(_e,Te)=>{if(_e){dt.error(`Failed to make a request to the authEndpoint: ${Te}. Unable to fetch new key, so dropping encrypted event`);return}if(oe=this.nacl.secretbox.open(M,$,this.key),oe===null){dt.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(_,this.getDataToEmit(oe))});return}this.emit(_,this.getDataToEmit(oe))}getDataToEmit(_){let T=Object(Ra.decode)(_);try{return JSON.parse(T)}catch{return T}}}class Ci extends vn{constructor(_,T){super(),this.state="initialized",this.connection=null,this.key=_,this.options=T,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var M=We.getNetwork();M.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),M.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(_){return this.connection?this.connection.send(_):!1}send_event(_,T,M){return this.connection?this.connection.send_event(_,T,M):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var _=(T,M)=>{T?this.runner=this.strategy.connect(0,_):M.action==="error"?(this.emit("error",{type:"HandshakeError",error:M.error}),this.timeline.error({handshakeError:M.error})):(this.abortConnecting(),this.handshakeCallbacks[M.action](M))};this.runner=this.strategy.connect(0,_)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var _=this.abandonConnection();_.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(_){this.timeline.info({action:"retry",delay:_}),_>0&&this.emit("connecting_in",Math.round(_/1e3)),this.retryTimer=new ee(_||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ee(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ee(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ee(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(_){return se({},_,{message:T=>{this.resetActivityCheck(),this.emit("message",T)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:T=>{this.emit("error",T)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(_){return se({},_,{connected:T=>{this.activityTimeout=Math.min(this.options.activityTimeout,T.activityTimeout,T.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(T.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let _=T=>M=>{M.error&&this.emit("error",{type:"WebSocketError",error:M.error}),T(M)};return{tls_only:_(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:_(()=>{this.disconnect()}),backoff:_(()=>{this.retryIn(1e3)}),retry:_(()=>{this.retryIn(0)})}}setConnection(_){this.connection=_;for(var T in this.connectionCallbacks)this.connection.bind(T,this.connectionCallbacks[T]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var _ in this.connectionCallbacks)this.connection.unbind(_,this.connectionCallbacks[_]);var T=this.connection;return this.connection=null,T}}updateState(_,T){var M=this.state;if(this.state=_,M!==_){var $=_;$==="connected"&&($+=" with new socket ID "+T.socket_id),dt.debug("State changed",M+" -> "+$),this.timeline.info({state:_,params:T}),this.emit("state_change",{previous:M,current:_}),this.emit(_,T)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class yc{constructor(){this.channels={}}add(_,T){return this.channels[_]||(this.channels[_]=yo(_,T)),this.channels[_]}all(){return Ue(this.channels)}find(_){return this.channels[_]}remove(_){var T=this.channels[_];return delete this.channels[_],T}disconnect(){we(this.channels,function(_){_.disconnect()})}}function yo(N,_){if(N.indexOf("private-encrypted-")===0){if(_.config.nacl)return zn.createEncryptedChannel(N,_,_.config.nacl);let T="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",M=b.buildLogSuffix("encryptedChannelSupport");throw new D(`${T}. ${M}`)}else{if(N.indexOf("private-")===0)return zn.createPrivateChannel(N,_);if(N.indexOf("presence-")===0)return zn.createPresenceChannel(N,_);if(N.indexOf("#")===0)throw new P('Cannot create a channel with name "'+N+'".');return zn.createChannel(N,_)}}var tf={createChannels(){return new yc},createConnectionManager(N,_){return new Ci(N,_)},createChannel(N,_){return new xn(N,_)},createPrivateChannel(N,_){return new On(N,_)},createPresenceChannel(N,_){return new Ea(N,_)},createEncryptedChannel(N,_,T){return new rs(N,_,T)},createTimelineSender(N,_){return new Vt(N,_)},createHandshake(N,_){return new Ze(N,_)},createAssistantToTheTransportManager(N,_,T){return new ir(N,_,T)}},zn=tf;class ki{constructor(_){this.options=_||{},this.livesLeft=this.options.lives||1/0}getAssistant(_){return zn.createAssistantToTheTransportManager(this,_,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Yt{constructor(_,T){this.strategies=_,this.loop=!!T.loop,this.failFast=!!T.failFast,this.timeout=T.timeout,this.timeoutLimit=T.timeoutLimit}isSupported(){return rr(this.strategies,Y.method("isSupported"))}connect(_,T){var M=this.strategies,$=0,oe=this.timeout,_e=null,Te=(Xe,ut)=>{ut?T(null,ut):($=$+1,this.loop&&($=$%M.length),$<M.length?(oe&&(oe=oe*2,this.timeoutLimit&&(oe=Math.min(oe,this.timeoutLimit))),_e=this.tryStrategy(M[$],_,{timeout:oe,failFast:this.failFast},Te)):T(!0))};return _e=this.tryStrategy(M[$],_,{timeout:oe,failFast:this.failFast},Te),{abort:function(){_e.abort()},forceMinPriority:function(Xe){_=Xe,_e&&_e.forceMinPriority(Xe)}}}tryStrategy(_,T,M,$){var oe=null,_e=null;return M.timeout>0&&(oe=new ee(M.timeout,function(){_e.abort(),$(!0)})),_e=_.connect(T,function(Te,Xe){Te&&oe&&oe.isRunning()&&!M.failFast||(oe&&oe.ensureAborted(),$(Te,Xe))}),{abort:function(){oe&&oe.ensureAborted(),_e.abort()},forceMinPriority:function(Te){_e.forceMinPriority(Te)}}}}class Aa{constructor(_){this.strategies=_}isSupported(){return rr(this.strategies,Y.method("isSupported"))}connect(_,T){return Dn(this.strategies,_,function(M,$){return function(oe,_e){if($[M].error=oe,oe){nf($)&&T(!0);return}le($,function(Te){Te.forceMinPriority(_e.transport.priority)}),T(null,_e)}})}}function Dn(N,_,T){var M=Fe(N,function($,oe,_e,Te){return $.connect(_,T(oe,Te))});return{abort:function(){le(M,rf)},forceMinPriority:function($){le(M,function(oe){oe.forceMinPriority($)})}}}function nf(N){return tn(N,function(_){return!!_.error})}function rf(N){!N.error&&!N.aborted&&(N.abort(),N.aborted=!0)}class sf{constructor(_,T,M){this.strategy=_,this.transports=T,this.ttl=M.ttl||1800*1e3,this.usingTLS=M.useTLS,this.timeline=M.timeline}isSupported(){return this.strategy.isSupported()}connect(_,T){var M=this.usingTLS,$=xo(M),oe=$&&$.cacheSkipCount?$.cacheSkipCount:0,_e=[this.strategy];if($&&$.timestamp+this.ttl>=Y.now()){var Te=this.transports[$.transport];Te&&(["ws","wss"].includes($.transport)||oe>3?(this.timeline.info({cached:!0,transport:$.transport,latency:$.latency}),_e.push(new Yt([Te],{timeout:$.latency*2+1e3,failFast:!0}))):oe++)}var Xe=Y.now(),ut=_e.pop().connect(_,function yt(Mt,Po){Mt?(Pi(M),_e.length>0?(Xe=Y.now(),ut=_e.pop().connect(_,yt)):T(Mt)):(ji(M,Po.transport.name,Y.now()-Xe,oe),T(null,Po))});return{abort:function(){ut.abort()},forceMinPriority:function(yt){_=yt,ut&&ut.forceMinPriority(yt)}}}}function Ts(N){return"pusherTransport"+(N?"TLS":"NonTLS")}function xo(N){var _=We.getLocalStorage();if(_)try{var T=_[Ts(N)];if(T)return JSON.parse(T)}catch{Pi(N)}return null}function ji(N,_,T,M){var $=We.getLocalStorage();if($)try{$[Ts(N)]=jr({timestamp:Y.now(),transport:_,latency:T,cacheSkipCount:M})}catch{}}function Pi(N){var _=We.getLocalStorage();if(_)try{delete _[Ts(N)]}catch{}}class _o{constructor(_,{delay:T}){this.strategy=_,this.options={delay:T}}isSupported(){return this.strategy.isSupported()}connect(_,T){var M=this.strategy,$,oe=new ee(this.options.delay,function(){$=M.connect(_,T)});return{abort:function(){oe.ensureAborted(),$&&$.abort()},forceMinPriority:function(_e){_=_e,$&&$.forceMinPriority(_e)}}}}class Ti{constructor(_,T,M){this.test=_,this.trueBranch=T,this.falseBranch=M}isSupported(){var _=this.test()?this.trueBranch:this.falseBranch;return _.isSupported()}connect(_,T){var M=this.test()?this.trueBranch:this.falseBranch;return M.connect(_,T)}}class Ia{constructor(_){this.strategy=_}isSupported(){return this.strategy.isSupported()}connect(_,T){var M=this.strategy.connect(_,function($,oe){oe&&M.abort(),T($,oe)});return M}}function Ns(N){return function(){return N.isSupported()}}var Ma=function(N,_,T){var M={};function $(Ya,Rs,_f,wf,bf){var Qa=T(N,Ya,Rs,_f,wf,bf);return M[Ya]=Qa,Qa}var oe=Object.assign({},_,{hostNonTLS:N.wsHost+":"+N.wsPort,hostTLS:N.wsHost+":"+N.wssPort,httpPath:N.wsPath}),_e=Object.assign({},oe,{useTLS:!0}),Te=Object.assign({},_,{hostNonTLS:N.httpHost+":"+N.httpPort,hostTLS:N.httpHost+":"+N.httpsPort,httpPath:N.httpPath}),Xe={loop:!0,timeout:15e3,timeoutLimit:6e4},ut=new ki({minPingDelay:1e4,maxPingDelay:N.activityTimeout}),yt=new ki({lives:2,minPingDelay:1e4,maxPingDelay:N.activityTimeout}),Mt=$("ws","ws",3,oe,ut),Po=$("wss","ws",3,_e,ut),vf=$("sockjs","sockjs",1,Te),Nc=$("xhr_streaming","xhr_streaming",1,Te,yt),yf=$("xdr_streaming","xdr_streaming",1,Te,yt),Ec=$("xhr_polling","xhr_polling",1,Te),xf=$("xdr_polling","xdr_polling",1,Te),Rc=new Yt([Mt],Xe),Ga=new Yt([Po],Xe),Di=new Yt([vf],Xe),Ac=new Yt([new Ti(Ns(Nc),Nc,yf)],Xe),Ka=new Yt([new Ti(Ns(Ec),Ec,xf)],Xe),Xa=new Yt([new Ti(Ns(Ac),new Aa([Ac,new _o(Ka,{delay:4e3})]),Ka)],Xe),To=new Ti(Ns(Xa),Xa,Di),No;return _.useTLS?No=new Aa([Rc,new _o(To,{delay:2e3})]):No=new Aa([Rc,new _o(Ga,{delay:2e3}),new _o(To,{delay:5e3})]),new sf(new Ia(new Ti(Ns(Mt),No,To)),M,{ttl:18e5,timeline:_.timeline,useTLS:_.useTLS})},Ni=Ma,of=(function(){var N=this;N.timeline.info(N.buildTimelineMessage({transport:N.name+(N.options.useTLS?"s":"")})),N.hooks.isInitialized()?N.changeState("initialized"):N.hooks.file?(N.changeState("initializing"),u.load(N.hooks.file,{useTLS:N.options.useTLS},function(_,T){N.hooks.isInitialized()?(N.changeState("initialized"),T(!0)):(_&&N.onError(_),N.onClose(),T(!1))})):N.onClose()}),La={getRequest:function(N){var _=new window.XDomainRequest;return _.ontimeout=function(){N.emit("error",new j),N.close()},_.onerror=function(T){N.emit("error",T),N.close()},_.onprogress=function(){_.responseText&&_.responseText.length>0&&N.onChunk(200,_.responseText)},_.onload=function(){_.responseText&&_.responseText.length>0&&N.onChunk(200,_.responseText),N.emit("finished",200),N.close()},_},abortRequest:function(N){N.ontimeout=N.onerror=N.onprogress=N.onload=null,N.abort()}},vt=La;const xc=256*1024;class _c extends vn{constructor(_,T,M){super(),this.hooks=_,this.method=T,this.url=M}start(_){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},We.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(_)}close(){this.unloader&&(We.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(_,T){for(;;){var M=this.advanceBuffer(T);if(M)this.emit("chunk",{status:_,data:M});else break}this.isBufferTooLong(T)&&this.emit("buffer_too_long")}advanceBuffer(_){var T=_.slice(this.position),M=T.indexOf(`
`);return M!==-1?(this.position+=M+1,T.slice(0,M)):null}isBufferTooLong(_){return this.position===_.length&&_.length>xc}}var Ei;(function(N){N[N.CONNECTING=0]="CONNECTING",N[N.OPEN=1]="OPEN",N[N.CLOSED=3]="CLOSED"})(Ei||(Ei={}));var Rr=Ei,wc=1;class bc{constructor(_,T){this.hooks=_,this.session=ar(1e3)+"/"+Ri(8),this.location=Oa(T),this.readyState=Rr.CONNECTING,this.openStream()}send(_){return this.sendRaw(JSON.stringify([_]))}ping(){this.hooks.sendHeartbeat(this)}close(_,T){this.onClose(_,T,!0)}sendRaw(_){if(this.readyState===Rr.OPEN)try{return We.createSocketRequest("POST",or(wo(this.location,this.session))).start(_),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(_,T,M){this.closeStream(),this.readyState=Rr.CLOSED,this.onclose&&this.onclose({code:_,reason:T,wasClean:M})}onChunk(_){if(_.status===200){this.readyState===Rr.OPEN&&this.onActivity();var T,M=_.data.slice(0,1);switch(M){case"o":T=JSON.parse(_.data.slice(1)||"{}"),this.onOpen(T);break;case"a":T=JSON.parse(_.data.slice(1)||"[]");for(var $=0;$<T.length;$++)this.onEvent(T[$]);break;case"m":T=JSON.parse(_.data.slice(1)||"null"),this.onEvent(T);break;case"h":this.hooks.onHeartbeat(this);break;case"c":T=JSON.parse(_.data.slice(1)||"[]"),this.onClose(T[0],T[1],!0);break}}}onOpen(_){this.readyState===Rr.CONNECTING?(_&&_.hostname&&(this.location.base=Ar(this.location.base,_.hostname)),this.readyState=Rr.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(_){this.readyState===Rr.OPEN&&this.onmessage&&this.onmessage({data:_})}onActivity(){this.onactivity&&this.onactivity()}onError(_){this.onerror&&this.onerror(_)}openStream(){this.stream=We.createSocketRequest("POST",or(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",_=>{this.onChunk(_)}),this.stream.bind("finished",_=>{this.hooks.onFinished(this,_)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(_){Y.defer(()=>{this.onError(_),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Oa(N){var _=/([^\?]*)\/*(\??.*)/.exec(N);return{base:_[1],queryString:_[2]}}function wo(N,_){return N.base+"/"+_+"/xhr_send"}function or(N){var _=N.indexOf("?")===-1?"?":"&";return N+_+"t="+ +new Date+"&n="+wc++}function Ar(N,_){var T=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(N);return T[1]+_+T[3]}function ar(N){return We.randomInt(N)}function Ri(N){for(var _=[],T=0;T<N;T++)_.push(ar(32).toString(32));return _.join("")}var Ai=bc,Ir={getReceiveURL:function(N,_){return N.base+"/"+_+"/xhr_streaming"+N.queryString},onHeartbeat:function(N){N.sendRaw("[]")},sendHeartbeat:function(N){N.sendRaw("[]")},onFinished:function(N,_){N.onClose(1006,"Connection interrupted ("+_+")",!1)}},af=Ir,Sc={getReceiveURL:function(N,_){return N.base+"/"+_+"/xhr"+N.queryString},onHeartbeat:function(){},sendHeartbeat:function(N){N.sendRaw("[]")},onFinished:function(N,_){_===200?N.reconnect():N.onClose(1006,"Connection interrupted ("+_+")",!1)}},Ii=Sc,lf={getRequest:function(N){var _=We.getXHRAPI(),T=new _;return T.onreadystatechange=T.onprogress=function(){switch(T.readyState){case 3:T.responseText&&T.responseText.length>0&&N.onChunk(T.status,T.responseText);break;case 4:T.responseText&&T.responseText.length>0&&N.onChunk(T.status,T.responseText),N.emit("finished",T.status),N.close();break}},T},abortRequest:function(N){N.onreadystatechange=null,N.abort()}},Cc=lf,bo={createStreamingSocket(N){return this.createSocket(af,N)},createPollingSocket(N){return this.createSocket(Ii,N)},createSocket(N,_){return new Ai(N,_)},createXHR(N,_){return this.createRequest(Cc,N,_)},createRequest(N,_,T){return new _c(N,_,T)}},Da=bo;Da.createXDR=function(N,_){return this.createRequest(vt,N,_)};var cf=Da,Mi={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:d,DependenciesReceivers:g,getDefaultStrategy:Ni,Transports:at,transportConnectionInitializer:of,HTTPFactory:cf,TimelineTransport:xi,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(N){window.Pusher=N;var _=()=>{this.onDocumentBody(N.ready)};window.JSON?_():u.load("json2",{},_)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:K,jsonp:yi}},onDocumentBody(N){document.body?N():setTimeout(()=>{this.onDocumentBody(N)},0)},createJSONPRequest(N,_){return new Ln(N,_)},createScriptRequest(N){return new Ss(N)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var N=this.getXHRAPI();return new N},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Et},createWebSocket(N){var _=this.getWebSocketAPI();return new _(N)},createSocketRequest(N,_){if(this.isXHRSupported())return this.HTTPFactory.createXHR(N,_);if(this.isXDRSupported(_.indexOf("https:")===0))return this.HTTPFactory.createXDR(N,_);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var N=this.getXHRAPI();return!!N&&new N().withCredentials!==void 0},isXDRSupported(N){var _=N?"https:":"http:",T=this.getProtocol();return!!window.XDomainRequest&&T===_},addUnloadListener(N){window.addEventListener!==void 0?window.addEventListener("unload",N,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",N)},removeUnloadListener(N){window.addEventListener!==void 0?window.removeEventListener("unload",N,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",N)},randomInt(N){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*N)}},We=Mi,Mr;(function(N){N[N.ERROR=3]="ERROR",N[N.INFO=6]="INFO",N[N.DEBUG=7]="DEBUG"})(Mr||(Mr={}));var ss=Mr;class uf{constructor(_,T,M){this.key=_,this.session=T,this.events=[],this.options=M||{},this.sent=0,this.uniqueID=0}log(_,T){_<=this.options.level&&(this.events.push(se({},T,{timestamp:Y.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(_){this.log(ss.ERROR,_)}info(_){this.log(ss.INFO,_)}debug(_){this.log(ss.DEBUG,_)}isEmpty(){return this.events.length===0}send(_,T){var M=se({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],_(M,($,oe)=>{$||this.sent++,T&&T($,oe)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class df{constructor(_,T,M,$){this.name=_,this.priority=T,this.transport=M,this.options=$||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(_,T){if(this.isSupported()){if(this.priority<_)return So(new E,T)}else return So(new I,T);var M=!1,$=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),oe=null,_e=function(){$.unbind("initialized",_e),$.connect()},Te=function(){oe=zn.createHandshake($,function(Mt){M=!0,yt(),T(null,Mt)})},Xe=function(Mt){yt(),T(Mt)},ut=function(){yt();var Mt;Mt=jr($),T(new L(Mt))},yt=function(){$.unbind("initialized",_e),$.unbind("open",Te),$.unbind("error",Xe),$.unbind("closed",ut)};return $.bind("initialized",_e),$.bind("open",Te),$.bind("error",Xe),$.bind("closed",ut),$.initialize(),{abort:()=>{M||(yt(),oe?oe.close():$.close())},forceMinPriority:Mt=>{M||this.priority<Mt&&(oe?oe.close():$.close())}}}}function So(N,_){return Y.defer(function(){_(N)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Co}=We;var Fa=function(N,_,T,M,$,oe){var _e=Co[T];if(!_e)throw new A(T);var Te=(!N.enabledTransports||ge(N.enabledTransports,_)!==-1)&&(!N.disabledTransports||ge(N.disabledTransports,_)===-1),Xe;return Te?($=Object.assign({ignoreNullOrigin:N.ignoreNullOrigin},$),Xe=new df(_,M,oe?oe.getAssistant(_e):_e,$)):Xe=kc,Xe},kc={isSupported:function(){return!1},connect:function(N,_){var T=Y.defer(function(){_(new I)});return{abort:function(){T.ensureAborted()},forceMinPriority:function(){}}}};function Lr(N){if(N==null)throw"You must pass an options object";if(N.cluster==null)throw"Options object must provide a cluster";"disableStats"in N&&dt.warn("The disableStats option is deprecated in favor of enableStats")}const Ua=(N,_)=>{var T="socket_id="+encodeURIComponent(N.socketId);for(var M in _.params)T+="&"+encodeURIComponent(M)+"="+encodeURIComponent(_.params[M]);if(_.paramsProvider!=null){let $=_.paramsProvider();for(var M in $)T+="&"+encodeURIComponent(M)+"="+encodeURIComponent($[M])}return T};var jc=N=>{if(typeof We.getAuthorizers()[N.transport]>"u")throw`'${N.transport}' is not a recognized auth transport`;return(_,T)=>{const M=Ua(_,N);We.getAuthorizers()[N.transport](We,M,N,w.UserAuthentication,T)}};const ko=(N,_)=>{var T="socket_id="+encodeURIComponent(N.socketId);T+="&channel_name="+encodeURIComponent(N.channelName);for(var M in _.params)T+="&"+encodeURIComponent(M)+"="+encodeURIComponent(_.params[M]);if(_.paramsProvider!=null){let $=_.paramsProvider();for(var M in $)T+="&"+encodeURIComponent(M)+"="+encodeURIComponent($[M])}return T};var Pc=N=>{if(typeof We.getAuthorizers()[N.transport]>"u")throw`'${N.transport}' is not a recognized auth transport`;return(_,T)=>{const M=ko(_,N);We.getAuthorizers()[N.transport](We,M,N,w.ChannelAuthorization,T)}};const _n=(N,_,T)=>{const M={authTransport:_.transport,authEndpoint:_.endpoint,auth:{params:_.params,headers:_.headers}};return($,oe)=>{const _e=N.channel($.channelName);T(_e,M).authorize($.socketId,oe)}};function Es(N,_){let T={activityTimeout:N.activityTimeout||p.activityTimeout,cluster:N.cluster,httpPath:N.httpPath||p.httpPath,httpPort:N.httpPort||p.httpPort,httpsPort:N.httpsPort||p.httpsPort,pongTimeout:N.pongTimeout||p.pongTimeout,statsHost:N.statsHost||p.stats_host,unavailableTimeout:N.unavailableTimeout||p.unavailableTimeout,wsPath:N.wsPath||p.wsPath,wsPort:N.wsPort||p.wsPort,wssPort:N.wssPort||p.wssPort,enableStats:Ha(N),httpHost:Ba(N),useTLS:za(N),wsHost:Li(N),userAuthenticator:Oi(N),channelAuthorizer:Tc(N,_)};return"disabledTransports"in N&&(T.disabledTransports=N.disabledTransports),"enabledTransports"in N&&(T.enabledTransports=N.enabledTransports),"ignoreNullOrigin"in N&&(T.ignoreNullOrigin=N.ignoreNullOrigin),"timelineParams"in N&&(T.timelineParams=N.timelineParams),"nacl"in N&&(T.nacl=N.nacl),T}function Ba(N){return N.httpHost?N.httpHost:N.cluster?`sockjs-${N.cluster}.pusher.com`:p.httpHost}function Li(N){return N.wsHost?N.wsHost:ff(N.cluster)}function ff(N){return`ws-${N}.pusher.com`}function za(N){return We.getProtocol()==="https:"?!0:N.forceTLS!==!1}function Ha(N){return"enableStats"in N?N.enableStats:"disableStats"in N?!N.disableStats:!1}function Oi(N){const _=Object.assign(Object.assign({},p.userAuthentication),N.userAuthentication);return"customHandler"in _&&_.customHandler!=null?_.customHandler:jc(_)}function jo(N,_){let T;return"channelAuthorization"in N?T=Object.assign(Object.assign({},p.channelAuthorization),N.channelAuthorization):(T={transport:N.authTransport||p.authTransport,endpoint:N.authEndpoint||p.authEndpoint},"auth"in N&&("params"in N.auth&&(T.params=N.auth.params),"headers"in N.auth&&(T.headers=N.auth.headers)),"authorizer"in N&&(T.customHandler=_n(_,T,N.authorizer))),T}function Tc(N,_){const T=jo(N,_);return"customHandler"in T&&T.customHandler!=null?T.customHandler:Pc(T)}class hf extends vn{constructor(_){super(function(T,M){dt.debug(`No callbacks on watchlist events for ${T}`)}),this.pusher=_,this.bindWatchlistInternalEvent()}handleEvent(_){_.data.events.forEach(T=>{this.emit(T.name,T)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",_=>{var T=_.event;T==="pusher_internal:watchlist_events"&&this.handleEvent(_)})}}function pf(){let N,_;return{promise:new Promise((M,$)=>{N=M,_=$}),resolve:N,reject:_}}var mf=pf;class Wa extends vn{constructor(_){super(function(T,M){dt.debug("No callbacks on user for "+T)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(T,M)=>{if(T){dt.warn(`Error during signin: ${T}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:M.auth,user_data:M.user_data})},this.pusher=_,this.pusher.connection.bind("state_change",({previous:T,current:M})=>{T!=="connected"&&M==="connected"&&this._signin(),T==="connected"&&M!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new hf(_),this.pusher.connection.bind("message",T=>{var M=T.event;M==="pusher:signin_success"&&this._onSigninSuccess(T.data),this.serverToUserChannel&&this.serverToUserChannel.name===T.channel&&this.serverToUserChannel.handleEvent(T)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(_){try{this.user_data=JSON.parse(_.user_data)}catch{dt.error(`Failed parsing user data after signin: ${_.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){dt.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const _=T=>{T.subscriptionPending&&T.subscriptionCancelled?T.reinstateSubscription():!T.subscriptionPending&&this.pusher.connection.state==="connected"&&T.subscribe()};this.serverToUserChannel=new xn(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((T,M)=>{T.indexOf("pusher_internal:")===0||T.indexOf("pusher:")===0||this.emit(T,M)}),_(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:_,resolve:T}=mf();_.done=!1;const M=()=>{_.done=!0};_.then(M).catch(M),this.signinDonePromise=_,this._signinDoneResolve=T}}class qt{static ready(){qt.isReady=!0;for(var _=0,T=qt.instances.length;_<T;_++)qt.instances[_].connect()}static getClientFeatures(){return Oe(mn({ws:We.Transports.ws},function(_){return _.isSupported({})}))}constructor(_,T){gf(_),Lr(T),this.key=_,this.config=Es(T,this),this.channels=zn.createChannels(),this.global_emitter=new vn,this.sessionID=We.randomInt(1e9),this.timeline=new uf(this.key,this.sessionID,{cluster:this.config.cluster,features:qt.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:ss.INFO,version:p.VERSION}),this.config.enableStats&&(this.timelineSender=zn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+We.TimelineTransport.name}));var M=$=>We.getDefaultStrategy(this.config,$,Fa);this.connection=zn.createConnectionManager(this.key,{getStrategy:M,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",$=>{var oe=$.event,_e=oe.indexOf("pusher_internal:")===0;if($.channel){var Te=this.channel($.channel);Te&&Te.handleEvent($)}_e||this.global_emitter.emit($.event,$.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",$=>{dt.warn($)}),qt.instances.push(this),this.timeline.info({instances:qt.instances.length}),this.user=new Wa(this),qt.isReady&&this.connect()}channel(_){return this.channels.find(_)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var _=this.connection.isUsingTLS(),T=this.timelineSender;this.timelineSenderTimer=new xe(6e4,function(){T.send(_)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(_,T,M){return this.global_emitter.bind(_,T,M),this}unbind(_,T,M){return this.global_emitter.unbind(_,T,M),this}bind_global(_){return this.global_emitter.bind_global(_),this}unbind_global(_){return this.global_emitter.unbind_global(_),this}unbind_all(_){return this.global_emitter.unbind_all(),this}subscribeAll(){var _;for(_ in this.channels.channels)this.channels.channels.hasOwnProperty(_)&&this.subscribe(_)}subscribe(_){var T=this.channels.add(_,this);return T.subscriptionPending&&T.subscriptionCancelled?T.reinstateSubscription():!T.subscriptionPending&&this.connection.state==="connected"&&T.subscribe(),T}unsubscribe(_){var T=this.channels.find(_);T&&T.subscriptionPending?T.cancelSubscription():(T=this.channels.remove(_),T&&T.subscribed&&T.unsubscribe())}send_event(_,T,M){return this.connection.send_event(_,T,M)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}qt.instances=[],qt.isReady=!1,qt.logToConsole=!1,qt.Runtime=We,qt.ScriptReceivers=We.ScriptReceivers,qt.DependenciesReceivers=We.DependenciesReceivers,qt.auth_callbacks=We.auth_callbacks;var qa=s.default=qt;function gf(N){if(N==null)throw"You must pass your app key when you instantiate Pusher."}We.setup(qt)})])})})(Tp)),Tp.exports}var $3=V3();const B3=di($3);let Np;function Lw(){if(!Np){const e="your_pusher_key";Np=new B3(e,{cluster:"us2",forceTLS:!0})}return Np}function Ow(e,t,n){const s=Lw().subscribe(e);return s?(s.bind(t,n),()=>{try{s.unbind(t,n)}catch{}try{Lw().unsubscribe(e)}catch{}}):()=>{}}const z3=({request:e,onRespond:t,isResponding:n})=>{var L;const[s,o]=U.useState({}),[l,d]=U.useState({}),[f,p]=U.useState(!1),v=Hd(),g=U.useMemo(()=>Array.isArray(e.medications)&&e.medications.length>0?e.medications:e.medicationDetails?[e.medicationDetails]:[],[e.medications,e.medicationDetails]),u=!g||g.length===0;U.useEffect(()=>{(async()=>{if(f||u)return;const D=v;if(!(D!=null&&D.email)){p(!0);return}const A=await na.filter({pharmacy_email:D.email},void 0,500).catch(()=>[]),I={};(Array.isArray(A)?A:[]).forEach(F=>{const K=String(F.medication_key||"").toLowerCase();K&&(I[K]=typeof F.cash_price=="number"?F.cash_price:void 0)});const O={};g.forEach((F,K)=>{const ne=F.id||F.name||String(K),de=String(F.id||F.name||"").toLowerCase(),te=I[de];te!=null&&te!==void 0&&(O[ne]=String(te))}),o(F=>({...O,...F})),p(!0)})()},[f,u,g,v]);const h=D=>{const A=D.brand_name||D.generic_name||D.name||"Medication",I=(F,K)=>String(F).toLowerCase().includes(String(K||"").toLowerCase()),O=[A];return D.dosage&&!I(A,D.dosage)&&O.push(String(D.dosage)),D.form&&!I(A,D.form)&&O.push(String(D.form)),O.join(" ").replace(/\s+/g," ").trim()},y=(D,A)=>D.id||D.name||String(A),b=(D,A)=>{const I=A.replace(/[^\d.]/g,"").slice(0,8);o(O=>({...O,[D]:I}))},w=(D,A)=>{d(I=>({...I,[D]:A}))},C=U.useMemo(()=>Object.keys(l).length>0,[l]),P=()=>{const D={},A={};return g.forEach((I,O)=>{const F=y(I,O);l[F]&&(D[F]=l[F]);const K=s[F];if(K!==void 0&&K!==""){const ne=Number(K);Number.isNaN(ne)||(A[F]=ne)}}),{responses:D,medPrices:A}},j=async()=>{if(n||!C)return;const{responses:D,medPrices:A}=P();t(e,null,void 0,g,A,D)},E=D=>{if(g.length!==1||n)return;const A=y(g[0],0);d({[A]:D});const I=s[A],O={};if(I!==void 0&&I!==""){const F=Number(I);Number.isNaN(F)||(O[F]=F)}t(e,null,void 0,g,O,{[A]:D})};return u?null:a.jsx(X6.div,{layout:!0,initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.98,transition:{duration:0}},children:a.jsx(tt,{className:"shadow-sm border-l-4 border-indigo-300",children:a.jsxs(ot,{className:"p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[a.jsxs("div",{className:"inline-flex items-center gap-2",children:[a.jsxs("span",{className:"font-mono text-sm font-semibold text-indigo-800 bg-indigo-50 border border-indigo-200 rounded px-2 py-0.5",children:["Ref #",((L=e==null?void 0:e.thread)==null?void 0:L.reference_number)||"—"]}),a.jsx(hn,{variant:"outline",className:"text-[10px] px-2 py-0.5 border-indigo-300 text-indigo-700",children:"New"})]}),n&&a.jsx(rt,{className:"w-4 h-4 animate-spin text-indigo-600"})]}),a.jsx("div",{className:"space-y-2",children:g.map((D,A)=>{const I=h(D),O=typeof D.quantity=="number"?D.quantity:null,F=y(D,A),K=l[F],ne=K==="Yes",de=K==="No";return a.jsx("div",{className:`rounded-md border bg-white/70 p-2 sm:p-2.5 ${ne?"ring-2 ring-green-300":""} ${de?"ring-2 ring-red-300":""}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-indigo-600 text-white text-xs font-bold flex-shrink-0",children:A+1}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 whitespace-nowrap overflow-hidden text-ellipsis",title:I,children:I}),a.jsx("div",{className:"text-[11px] text-gray-600",children:O!=null?a.jsxs(a.Fragment,{children:["Qty: ",O]}):null})]})]}),a.jsx("div",{className:"w-full sm:w-[120px]",children:a.jsx(Ie,{value:s[F]||"",onChange:te=>b(F,te.target.value),placeholder:"$",className:"h-9 text-sm",inputMode:"decimal",disabled:n})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Se,{onClick:()=>g.length===1?E("Yes"):w(F,"Yes"),size:"sm",className:`h-9 px-3 text-sm transition-transform ${ne?"bg-green-700 ring-2 ring-green-300 text-white shadow-md scale-[0.98]":"bg-green-600 hover:bg-green-700"}`,disabled:n,children:[ne?a.jsx(PR,{className:"w-4 h-4 mr-1"}):null,"In Stock"]}),a.jsxs(Se,{onClick:()=>g.length===1?E("No"):w(F,"No"),size:"sm",className:`h-9 px-3 text-sm transition-transform ${de?"bg-red-700 ring-2 ring-red-300 text-white shadow-md scale-[0.98]":"bg-red-600 hover:bg-red-700"}`,disabled:n,children:[de?a.jsx(NR,{className:"w-4 h-4 mr-1"}):null,"Reject"]})]})]})},F)})}),g.length>1&&a.jsx("div",{className:"flex justify-end gap-2 mt-3",children:a.jsx(Se,{onClick:j,size:"sm",className:"h-9 px-3 text-sm bg-indigo-600 hover:bg-indigo-700",disabled:!C||n,children:"Send Response"})})]})})})};function H3(){const[e,t]=S.useState([]),[n,s]=S.useState([]),[o,l]=S.useState([]),[d,f]=S.useState(!0),[p,v]=S.useState(0),[g,u]=S.useState(""),h=U.useRef(null),y=U.useRef(0),b=U.useRef(0),w=U.useRef(!0),C=U.useRef(!1),[P,j]=S.useState(new Set),[E,L]=S.useState("new"),[D,A]=S.useState(new Set),I=U.useRef(new Map),[O,F]=U.useState(()=>{try{return localStorage.getItem("rtx_hours_collapsed")==="1"}catch(B){return console.error("Error reading localStorage for hours_collapsed",B),!1}}),K=U.useRef(null),ne=U.useRef(Date.now()),de=300*1e3,[te,ie]=U.useState(!1),[be,ve]=S.useState(!1),[pe,W]=S.useState(""),[J,ae]=S.useState(!1),[H,ee]=S.useState(""),[xe,q]=S.useState(null),[Y,se]=S.useState(!1),[re,ge]=S.useState(new Set),we=U.useRef(0),Oe=U.useRef(0),Ue=U.useRef(0),le=Hd(),{toast:Fe}=Km(),Nt=U.useRef(null),bt=U.useRef({requests:!1,pending:!1,active:!1}),mn=U.useRef({requests:0,pending:0,active:0}),gn=(B,ue)=>{const ce=Date.now();mn.current[B]=Math.max(mn.current[B],ce+ue)},rr=B=>Date.now()<mn.current[B],tn=U.useRef(null),on=U.useRef(()=>{}),Mn=U.useRef(new Map),gi=U.useCallback((B,ue=12e3)=>{B&&Mn.current.set(String(B),Date.now()+ue)},[]),jr=U.useCallback(B=>{if(!B)return!1;const ue=String(B),ce=Mn.current.get(ue);return ce?Date.now()>ce?(Mn.current.delete(ue),!1):!0:!1},[]),vi=U.useRef(0),dt=U.useCallback((B,ue)=>String(B||"").toLowerCase().includes(String(ue||"").toLowerCase()),[]),go=U.useCallback(B=>{const ue=((B==null?void 0:B.name)||"").trim(),ce=[ue||"Medication"];return B!=null&&B.dosage&&!dt(ue,B.dosage)&&ce.push(String(B.dosage)),B!=null&&B.form&&!dt(ue,B.form)&&ce.push(String(B.form)),ce.join(" ").replace(/\s+/g," ").trim()},[dt]),yi=U.useCallback(B=>{const ue=((B==null?void 0:B.name)||"").trim(),ce=[];return B!=null&&B.dosage&&!dt(ue,B.dosage)&&ce.push(String(B.dosage)),B!=null&&B.form&&!dt(ue,B.form)&&ce.push(String(B.form)),ce.join(" • ")},[dt]),Ss=U.useCallback(async(B,ue=1e4)=>{const ce=Date.now();let ze=0;for(;Date.now()-ce<ue;){try{const Pe=await Ht.get(B);if((Pe==null?void 0:Pe.status)==="ready")return!0}catch{}const Ae=Math.min(400+ze*200,1e3);await new Promise(Pe=>setTimeout(Pe,Ae)),ze++}return!1},[]),[Ln,sr]=U.useState(()=>{try{return!!window.__AUDIO_PRIMED}catch{return!1}}),es=U.useCallback(async()=>{try{Ol(),await Sn({volume:1}),sr(!0)}catch{sr(!!window.__AUDIO_PRIMED)}},[]);U.useEffect(()=>{const B=()=>{Ln||(Ol(),sr(!!window.__AUDIO_PRIMED))};return document.addEventListener("pointerdown",B,{once:!0,passive:!0}),document.addEventListener("keydown",B,{once:!0}),()=>{document.removeEventListener("pointerdown",B),document.removeEventListener("keydown",B)}},[Ln]),U.useEffect(()=>{if(!(le!=null&&le.email))return;const B=`pharmacy-${String(le.email).replace(/[^a-zA-Z0-9-_]/g,"_")}`,ue=Ae=>{try{const Pe=(Ae==null?void 0:Ae.title)||(Ae==null?void 0:Ae.summary)||"New request",He=(Ae==null?void 0:Ae.body)||(Ae==null?void 0:Ae.message)||(Ae==null?void 0:Ae.description)||"";Fe({title:Pe,description:He});try{Ol()}catch{}try{Sn({volume:1}).catch(()=>{})}catch{}if(Ae&&Ae.request)t(at=>[Ae.request,...Array.isArray(at)?at:[]]);else try{xi(!0).catch(()=>{})}catch{}try{const at=document.title;document.title=`🔔 ${Pe} — ${at}`,setTimeout(()=>document.title=at,3500)}catch{}}catch(Pe){console.warn("Realtime handler error",Pe)}},ce=Ow(B,"order.created",ue),ze=Ow(B,"request.created",ue);return()=>{try{ce&&ce()}catch{}try{ze&&ze()}catch{}}},[le==null?void 0:le.email,Fe]);const xi=S.useCallback(async(B=!1)=>{const ue=Date.now();if(!(ue-Ue.current<1e4)&&!(!B&&ue-p<5e3)&&!bt.current.requests&&!rr("requests")){bt.current.requests=!0,v(ue),e.length===0&&f(!0);try{const ce=le,ze=ce!=null&&ce.pharmacy_name?{status:"pending",pharmacy_name:ce.pharmacy_name}:{status:"pending"},Ae=await Tl.filter(ze,"-created_date",12),He=(await Promise.all(Ae.map(async lt=>{var Ye;const Et=I.current.get(lt.id);if(Et&&Array.isArray(Et.meds)&&Et.meds.length>0)return{id:lt.id,thread:lt,medications:Et.meds,requestMessageId:Et.msgId||null};const xt=(await Up.filter({thread_id:lt.id,"payload.type":"stock_check_request"},"created_date",1))[0],St=(Ye=xt==null?void 0:xt.payload)!=null&&Ye.medications&&xt.payload.medications.length>0?xt.payload.medications:[];return I.current.set(lt.id,{meds:St,msgId:(xt==null?void 0:xt.id)||null}),St.length>0?{id:lt.id,thread:lt,medications:St,requestMessageId:(xt==null?void 0:xt.id)||null}:null}))).filter(Boolean);if(t(He),He.length>y.current&&(C.current||!w.current))try{Fe({title:"New stock check request",description:`You have ${He.length-y.current} new request(s).`})}catch{}C.current=!1,y.current=He.length}catch(ce){const ze=String((ce==null?void 0:ce.message)||"");ze.includes("429")||ze.toLowerCase().includes("rate")?(gn("requests",12e4),Ue.current=Date.now(),Zo()):(ce==null?void 0:ce.statusCode)===403?console.error("Access denied during request loading. Please check user permissions."):console.error("Failed to load requests:",ce)}finally{bt.current.requests=!1,f(!1)}}},[p,e.length,le,Fe]),Pr=S.useCallback(async()=>{if(!bt.current.pending&&!rr("pending")){bt.current.pending=!0;try{const B=le;if(!(B!=null&&B.email)){bt.current.pending=!1;return}const ce=(await Ht.filter({accepted_pharmacy_email:B.email,status:"accepted"},"-created_date")||[]).filter(ze=>!jr(ze.id));if(s(ce),!w.current&&ce.length>b.current)try{Ln&&Sn({volume:1}),Fe({title:"New accepted fill",description:`${ce.length-b.current} new prescription(s) were accepted.`})}catch{}b.current=ce.length}catch(B){const ue=String((B==null?void 0:B.message)||"");ue.includes("429")||ue.toLowerCase().includes("rate")?(gn("pending",12e4),Ue.current=Date.now(),Zo()):console.warn("Failed to load pending fills:",ue)}finally{bt.current.pending=!1}}},[le,jr,Fe,Ln]),Tr=S.useCallback(async()=>{if(!bt.current.active&&!rr("active")){bt.current.active=!0;try{const B=le;if(!(B!=null&&B.email)){bt.current.active=!1;return}const ue=await Ht.filter({accepted_pharmacy_email:B.email,status:["ready","fulfilled"]},"-created_date");l(ue||[])}catch(B){const ue=String((B==null?void 0:B.message)||"");ue.includes("429")||ue.toLowerCase().includes("rate")?(gn("active",12e4),Ue.current=Date.now(),Zo()):console.warn("Failed to load active (ready/fulfilled):",ue)}finally{bt.current.active=!1}}},[le]),kn=U.useCallback(()=>{const B=Date.now();B<we.current||B-Ue.current<8e3||B-vi.current<1500||(vi.current=B,Nt.current&&clearTimeout(Nt.current),Nt.current=setTimeout(()=>{se(!0),Promise.all([xi(!0),Pr(),Tr()]).finally(()=>{se(!1),u(new Date().toISOString()),w.current&&(w.current=!1)}),h.current&&(clearInterval(h.current),h.current=null)},500))},[xi,Pr,Tr]);S.useEffect(()=>{const B=()=>{kn()};return window.addEventListener("pharmacyRefresh",B),()=>window.removeEventListener("pharmacyRefresh",B)},[kn]),S.useEffect(()=>{if(le!=null&&le.email)return kn(),()=>{h.current&&clearInterval(h.current),Nt.current&&clearTimeout(Nt.current)}},[kn,le]),U.useEffect(()=>{on.current=kn},[kn]),U.useEffect(()=>{if(!(le!=null&&le.email))return;try{delete window.__EVENTS_BASE__,window.__PHARMACY_CHANNEL__=(le.email||"").trim(),console.log("[INBOX] Set channel to:",window.__PHARMACY_CHANNEL__)}catch{}const B=xt=>{try{Sn({volume:1})}catch{}C.current=!0;try{const Ye=xt&&typeof xt=="object"&&xt.payload&&typeof xt.payload=="object"?xt.payload:xt,Ze=Ye==null?void 0:Ye.med_name,Vt=typeof(Ye==null?void 0:Ye.quantity)=="number"?Ye.quantity:null,xn=Ye==null?void 0:Ye.reference_number,On=typeof(Ye==null?void 0:Ye.med_count)=="number"&&Ye.med_count>1?Ye.med_count:void 0,js="New stock check request",Ps=[xn?`Ref #${xn}`:null,Ze?Ze+(Vt?` x${Vt}`:""):null,!Ze&&typeof On=="number"?`${On} medications`:null].filter(Boolean).join(" • ");Fe({title:js,description:Ps||void 0})}catch{}const St=Date.now();St<we.current||St-Oe.current<800||(Oe.current=St,tn.current&&clearTimeout(tn.current),tn.current=setTimeout(()=>{typeof on.current=="function"&&on.current()},150))},ue=()=>{console.warn("[PharmacyInbox] SSE error (no refresh triggered)."),ie(!1)},ce=dn("*",(xt,St)=>{try{console.log("[INBOX:*] event:",xt,St)}catch{}}),ze=dn("new_pharmacy_request",B),Ae=dn("request_update",B),Pe=dn("sse_error",ue),He=dn("open",()=>{ie(!0),typeof on.current=="function"&&on.current()}),at=dn("sse_open",()=>ie(!0)),lt=dn("sse_error",()=>ie(!1)),Et=dn("__connected__",()=>ie(!0)),ir=dn("__disconnected__",()=>ie(!1));return _s(),()=>{ce(),ze(),Ae(),Pe(),He(),at(),lt(),Et(),ir(),tn.current&&(clearTimeout(tn.current),tn.current=null)}},[le==null?void 0:le.email,Fe,on]),U.useEffect(()=>{let B=null;const ue=()=>{B||(B=setInterval(()=>{document.visibilityState==="visible"&&typeof on.current=="function"&&on.current()},6e4))},ce=()=>{B&&(clearInterval(B),B=null)};return te?ce():ue(),ce},[te]);const _i=U.useCallback(()=>{F(B=>{const ue=!B;try{localStorage.setItem("rtx_hours_collapsed",ue?"1":"0")}catch(ce){return console.error("Error writing localStorage for hours_collapsed",ce),ue}return ue})},[]);U.useEffect(()=>{const B=()=>{ne.current=Date.now()},ue=["mousemove","mousedown","keydown","touchstart","scroll"];return ue.forEach(ce=>window.addEventListener(ce,B,{passive:!0})),()=>{ue.forEach(ce=>window.removeEventListener(ce,B))}},[]),U.useEffect(()=>{const B=()=>{if(Date.now()-ne.current>de&&E==="new"&&e.length>0){const ue=document.getElementById("new-requests-section");ue&&ue.scrollIntoView({behavior:"smooth",block:"start"})}};return K.current=setInterval(B,1e4),()=>{K.current&&clearInterval(K.current)}},[E,e.length]);const ts=async({email:B,name:ue,field:ce})=>{if(!B)return;const ze=new Date().toISOString();let Ae=null;try{const Pe=await Ml.filter({pharmacy_email:B},void 0,1);Ae=(Pe==null?void 0:Pe[0])||null}catch{}if(Ae){const Pe={...Ae};Pe[ce]=Number(Ae[ce]||0)+1;const He=Number(Pe.yes_responses||Ae.yes_responses||0),at=Number(Pe.fulfilled_count||Ae.fulfilled_count||0);Pe.accuracy_score=He>0?at/He:0,Pe.last_updated=ze,await Ml.update(Ae.id,Pe)}else{const Pe={pharmacy_email:B,pharmacy_name:ue||"Pharmacy",yes_responses:0,accepted_responses:0,ready_count:0,fulfilled_count:0,false_positive_count:0,accuracy_score:0,last_updated:ze};Pe[ce]=1,await Ml.create(Pe)}},wi=async(B,ue,ce,ze,Ae,Pe)=>{var xt,St;we.current=Date.now()+2e3,ge(Ye=>{const Ze=new Set(Ye);return Ze.add(B.id),Ze});const He=Array.isArray(ze)&&ze.length?ze:B.medications||[];let at=Pe||{};if(!at||Object.keys(at).length===0){const Ye=ue==="Yes"||ue==="yes"||ue==="In Stock";at=He.reduce((Ze,Vt,xn)=>{const On=Vt.id||Vt.name||String(xn);return Ze[On]=Ye?"Yes":"No",Ze},{})}const lt=Object.values(at),Et=lt.includes("Yes"),ir=lt.length>0&&lt.every(Ye=>Ye==="No");try{const Ye={type:"availability_response",request_id:B.requestMessageId,responses:at,med_prices:Ae||{}};if(await Up.create({thread_id:B.thread.id,author:"pharmacy",payload:Ye}),B.thread.prescriber_email){const Ze=`Stock Response from ${B.thread.pharmacy_name||"Pharmacy"}`;await ad.create({user_email:B.thread.prescriber_email,recipient_role:"prescriber",title:Ze,link_to_thread_id:B.thread.id,meta:{reference_number:B.thread.reference_number||null,in_stock:Et,med_names:He.map(Vt=>Vt.brand_name||Vt.generic_name||Vt.name).slice(0,3)}})}if(await Tl.update(B.thread.id,{status:"answered",prescriber_read:!1}),B.thread.medication_request_id){const Ze=await Ht.get(B.thread.medication_request_id);let Vt=null;if(Ae&&typeof Ae=="object"){const et=Object.values(Ae).map(rs=>Number(rs)).filter(rs=>Number.isFinite(rs)).reduce((rs,Ci)=>rs+Ci,0);Vt=Number.isFinite(et)&&et>0?et:null}const xn=(le==null?void 0:le.hours_of_operation)||null,On=(le==null?void 0:le.pharmacy_coupon_url)||null,js=(le==null?void 0:le.pharmacy_discount_info)||null,Ps=(le==null?void 0:le.pharmacy_scheduling_url)||null,Ea=(Ze.pharmacy_responses||[]).map(et=>et.thread_id===B.thread.id?{...et,status:Et?"in_stock":ir?"out_of_stock":"pending",response_date:new Date().toISOString(),med_prices:{...et.med_prices||{},...Ae||{}},cash_price:Vt??et.cash_price??null,pharmacy_name:B.thread.pharmacy_name||et.pharmacy_name,operating_hours:xn||et.operating_hours||null,pharmacy_coupon_url:On||et.pharmacy_coupon_url||null,pharmacy_discount_info:js||et.pharmacy_discount_info||null,pharmacy_scheduling_url:Ps||et.pharmacy_scheduling_url||null}:et),Ra=Et?"has_in_stock":ir?"no_stock":"pending";await Ht.update(Ze.id,{pharmacy_responses:Ea,status:Ra})}try{const Ze=B.thread.medication_request_id?await Ht.get(B.thread.medication_request_id):null,Vt=Et?"options_available":(Ze==null?void 0:Ze.status)==="ready"?"ready":"waiting",xn=(Ze==null?void 0:Ze.medications)&&((xt=Ze.medications[0])==null?void 0:xt.name)||(Ze==null?void 0:Ze.medication_name)||"Medication";(St=B.thread)!=null&&St.prescriber_email&&await wm({channel:B.thread.prescriber_email,event:"request_update",payload:{requestId:(Ze==null?void 0:Ze.id)||B.thread.medication_request_id,status:Vt,med_name:xn,updated_at:new Date().toISOString()}})}catch{}Et&&(le!=null&&le.email)&&await ts({email:le.email,name:le.pharmacy_name,field:"yes_responses"}),t(Ze=>Ze.filter(Vt=>Vt.id!==B.id)),I.current.delete(B.id),Pr(),Tr()}catch(Ye){console.error("Failed to send stock response:",Ye),(String((Ye==null?void 0:Ye.message)||"").includes("Rate limit")||(Ye==null?void 0:Ye.statusCode)===429)&&Zo()}finally{ge(Ye=>{const Ze=new Set(Ye);return Ze.delete(B.id),Ze})}},ns=async B=>{var ue;we.current=Date.now()+4e3,gi(B.id,12e3),s(ce=>ce.filter(ze=>ze.id!==B.id)),l(ce=>[{...B,status:"ready"},...ce.filter(ze=>ze.id!==B.id)]),L("ready");try{await Ht.update(B.id,{status:"ready"});try{const Pe=B.accepted_pharmacy_thread_id||null,He=await Tl.filter({medication_request_id:B.id}),at=(Array.isArray(He)?He:[]).filter(lt=>String(lt.id)!==String(Pe));await Promise.all(at.map(lt=>Tl.update(lt.id,{status:"expired"})))}catch(Pe){console.warn("Failed to expire other pharmacy threads:",Pe)}if(B.prescriber_email){await ad.create({user_email:B.prescriber_email,recipient_role:"prescriber",title:"Prescription Ready for Pickup",link_to_thread_id:B.accepted_pharmacy_thread_id||null,meta:{reference_number:B.reference_number||null,status:"ready",med_names:(B.medications||[]).map(He=>He.name).slice(0,3)}});const Pe=B.medications&&((ue=B.medications[0])==null?void 0:ue.name)||B.medication_name||"Medication";await wm({channel:B.prescriber_email,event:"request_update",payload:{requestId:B.id,status:"ready",med_name:Pe,updated_at:new Date().toISOString()}})}le!=null&&le.email&&await ts({email:le.email,name:le.pharmacy_name,field:"ready_count"});const ce=await Ss(B.id,1e4),ze=()=>{kn()},Ae=we.current-Date.now();Ae>0?setTimeout(ze,Ae+50):ze(),ce||console.warn("[PharmacyInbox] Ready confirmation timed out; relying on next refresh.")}catch(ce){console.error("Failed to mark ready:",ce),(String((ce==null?void 0:ce.message)||"").includes("Rate limit")||(ce==null?void 0:ce.statusCode)===429)&&Zo(),Mn.current.delete(String(B.id)),l(Ae=>Ae.filter(Pe=>Pe.id!==B.id)),s(Ae=>[B,...Ae]),L("pending")}},vn=async B=>{A(ue=>{const ce=new Set(ue);return ce.add(B.id),ce}),l(ue=>ue.filter(ce=>ce.id!==B.id));try{await Ht.update(B.id,{status:"fulfilled"}),le!=null&&le.email&&await ts({email:le.email,name:le.pharmacy_name,field:"fulfilled_count"}),kn()}catch(ue){console.error("Failed to mark picked up:",ue),(String((ue==null?void 0:ue.message)||"").includes("Rate limit")||(ue==null?void 0:ue.statusCode)===429)&&Zo(),l(ze=>[B,...ze])}finally{A(ue=>{const ce=new Set(ue);return ce.delete(B.id),ce})}},Nr=async()=>{ee("");const B=(pe||"").trim();if(!B){ee("Please enter a reference number.");return}ae(!0);try{const ue=await Ht.filter({reference_number:B},void 0,1);Array.isArray(ue)&&ue.length>0?q(ue[0]):(q(null),ee("Request not found. Please check the reference number."))}catch{q(null),ee("Search failed. Please try again.")}finally{ae(!1)}},yn=async()=>{if(xe){ae(!0);try{await Ht.update(xe.id,{status:"fulfilled"}),l(B=>B.filter(ue=>ue.id!==xe.id)),s(B=>B.filter(ue=>ue.id!==xe.id)),t(B=>B.filter(ue=>ue.id!==xe.id)),ve(!1),q(null),W(""),kn()}catch{ee("Failed to mark as picked up. Please try again.")}finally{ae(!1)}}},vo=async B=>{var Ae,Pe;const ue=await Y6(),ce=(Ae=B.pharmacy_responses)==null?void 0:Ae.find(He=>He.thread_id===B.accepted_pharmacy_thread_id),ze=Q6({pharmacyName:ce==null?void 0:ce.pharmacy_name,pharmacyEmail:B.accepted_pharmacy_email,prescriberEmail:B.prescriber_email,requestId:B.id,medicationName:B.medications&&((Pe=B.medications[0])==null?void 0:Pe.name)||B.medication_name,ready:!0,price:typeof(ce==null?void 0:ce.cash_price)=="number"?ce.cash_price:void 0,address:(ce==null?void 0:ce.address)||void 0});window.open(ze||ue,"_blank")},bi=({acceptedDate:B})=>{const[ue,ce]=S.useState(0);S.useEffect(()=>{if(!B){ce(0);return}const Pe=()=>{const at=new Date(B).getTime(),lt=Date.now(),Et=3600*1e3,ir=lt-at;ce(Math.max(0,Math.floor((Et-ir)/1e3)))};Pe();const He=setInterval(Pe,1e3);return()=>clearInterval(He)},[B]);const ze=Math.floor(ue/60),Ae=ue%60;return a.jsxs("span",{className:ue<=0?"text-red-600 font-semibold":"text-gray-700",children:[ze,":",String(Ae).padStart(2,"0")]})},[Cs,ks]=S.useState(!1),Si=async()=>{ks(!0);try{await Sn({volume:1}),Fe({title:"Sound test",description:"Notification sound played."})}catch(B){console.error("Failed to play test sound:",B),Fe({title:"Sound test failed",description:"Could not play notification sound.",variant:"destructive"})}finally{setTimeout(()=>ks(!1),1500)}},Er=o.filter(B=>B.status==="ready");return a.jsxs("div",{className:"space-y-6",children:[(le==null?void 0:le.user_role)==="pharmacy_staff"?a.jsxs("div",{className:"bg-white rounded-lg border",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"Pharmacy Hours"}),a.jsx(Se,{variant:"ghost",size:"sm",onClick:_i,className:"text-gray-600",title:O?"Show hours":"Hide hours",children:O?a.jsxs(a.Fragment,{children:[a.jsx(Wm,{className:"w-4 h-4 mr-1"})," Show"]}):a.jsxs(a.Fragment,{children:[a.jsx(P0,{className:"w-4 h-4 mr-1"})," Hide"]})})]}),!O&&a.jsx("div",{className:"px-3 pb-3",children:a.jsx(Iw,{})})]}):a.jsx(Iw,{}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsxs(Se,{variant:"secondary",className:"gap-2",onClick:()=>{ve(!0),ee(""),q(null),W("")},children:[a.jsx(Gm,{className:"w-4 h-4"}),"Find Request"]}),a.jsxs(Se,{variant:"secondary",className:"gap-2",onClick:Si,disabled:Cs,children:[Cs?a.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Test Sound"]}),!Ln&&a.jsx(Se,{variant:"secondary",className:"gap-2",onClick:es,title:"Enable notification sound",children:"Enable Sound"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 text-xs text-gray-500",children:[a.jsxs("span",{className:`inline-flex items-center gap-1 ${te?"text-green-600":"text-amber-600"}`,title:"Realtime connection status",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${te?"bg-green-500":"bg-amber-500"}`}),te?"Live":"Reconnecting"]}),a.jsxs("span",{className:`inline-flex items-center gap-1 ${Ln?"text-green-600":"text-amber-600"}`,title:"Audio status",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${Ln?"bg-green-500":"bg-amber-500"}`}),Ln?"Sound Ready":"Sound Off"]}),a.jsxs("span",{children:["Last checked: ",g?new Date(g).toLocaleTimeString():"-"]}),a.jsx(Se,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:kn,title:"Refresh",disabled:Y,children:Y?a.jsx(rt,{className:"w-4 h-4 animate-spin"}):a.jsx(qm,{className:"w-4 h-4"})})]}),a.jsxs(n3,{value:E,onValueChange:L,className:"w-full",children:[a.jsxs(WC,{className:"grid grid-cols-4 w-full",children:[a.jsxs(Rl,{value:"new",className:"relative",children:["New Requests",e.length>0&&a.jsx("span",{className:"ml-2 text-[10px] bg-indigo-600 text-white rounded-full px-2 py-0.5",children:e.length})]}),a.jsxs(Rl,{value:"pending",className:"relative",children:["Pending Fills",n.length>0&&a.jsx("span",{className:"ml-2 text-[10px] bg-blue-600 text-white rounded-full px-2 py-0.5",children:n.length})]}),a.jsxs(Rl,{value:"ready",className:"relative",children:["Ready",Er.length>0&&a.jsx("span",{className:"ml-2 text-[10px] bg-green-600 text-white rounded-full px-2 py-0.5",children:Er.length})]}),a.jsx(Rl,{value:"public",className:"relative",children:"Public Inquiries"})]}),a.jsx(Al,{value:"new",className:"mt-2",children:d&&e.length===0?a.jsx("div",{className:"flex justify-center p-6",children:a.jsx(rt,{className:"w-6 h-6 animate-spin"})}):e.length>0?a.jsx("div",{id:"new-requests-section",className:"space-y-3",children:a.jsx(g4,{children:e.map(B=>a.jsx(z3,{request:B,onRespond:wi,isResponding:re.has(B.id)},B.id))})}):a.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed",children:[a.jsx(Hp,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"No pending requests."})]})}),a.jsx(Al,{value:"pending",className:"mt-2",children:n.length===0?a.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[a.jsx(Hp,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"Accepted requests will appear here with a 60-minute timer."})]}):a.jsx("div",{className:"space-y-3",children:n.map(B=>{var Pe;const ue=Array.isArray(B.medications)&&B.medications.length>0?B.medications:B.medication_name?[{name:B.medication_name,dosage:B.dosage,quantity:B.quantity}]:[],ce=(Pe=B.pharmacy_responses)==null?void 0:Pe.find(He=>He.thread_id===B.accepted_pharmacy_thread_id),ze=He=>{if(!He||typeof He!="object")return null;const at=Object.values(He).map(lt=>typeof lt=="string"?parseFloat(lt):Number(lt)).filter(lt=>Number.isFinite(lt));return at.length===0?null:at.reduce((lt,Et)=>lt+Et,0)},Ae=Number.isFinite(ce==null?void 0:ce.cash_price)?ce.cash_price:ze(ce==null?void 0:ce.med_prices);return a.jsx(tt,{className:"shadow-sm border-blue-200",children:a.jsxs(ot,{className:"p-4",children:[a.jsx("div",{className:"mb-3 px-3 py-2 rounded-md bg-blue-50 text-blue-800 border border-blue-200 text-sm font-medium",children:"Prescriber has chosen you to fill this prescription."}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[B.reference_number&&a.jsxs("div",{className:"text-sm text-gray-600 mb-1 font-mono",children:["Ref #",B.reference_number]}),a.jsx("ul",{className:"mt-1 text-sm space-y-1",children:ue.map((He,at)=>{const lt=go(He),Et=yi(He);return a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-blue-600 text-white text-xs font-bold flex-shrink-0",children:at+1}),a.jsxs("div",{className:"min-w-0 flex items-baseline flex-wrap gap-x-2 gap-y-0.5 w-full",children:[a.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden text-ellipsis",title:lt,children:lt}),Et?a.jsxs("span",{className:"text-gray-600 text-xs sm:text-sm whitespace-nowrap",children:["• ",Et]}):null,typeof He.quantity=="number"?a.jsxs("span",{className:"text-gray-700 text-xs sm:text-sm whitespace-nowrap",children:["• Qty: ",He.quantity]}):null]})]},at)})}),Number.isFinite(Ae)&&a.jsx("div",{className:"mt-3",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-emerald-200 bg-emerald-50 text-emerald-900",children:[a.jsx("span",{className:"text-[11px] uppercase tracking-wide font-semibold",children:"Total"}),a.jsxs("span",{className:"text-lg font-extrabold",children:["$",Number(Ae).toFixed(2)]})]})})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[a.jsx(IR,{className:"inline w-3.5 h-3.5 mr-1"}),a.jsx(bi,{acceptedDate:B.accepted_date})]})})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[a.jsx(Se,{size:"sm",variant:"secondary",onClick:()=>vo(B),children:"Open Chat"}),a.jsx(Se,{size:"sm",onClick:()=>ns(B),className:"bg-green-600 hover:bg-green-700",children:"Mark Ready"})]})]})},B.id)})})}),a.jsx(Al,{value:"ready",className:"mt-2",children:Er.length===0?a.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-600 text-sm",children:"Requests marked ready will appear here."})}):a.jsx("div",{className:"space-y-3",children:Er.map(B=>{var Ae;const ue=P.has(B.id),ce=()=>{j(Pe=>{const He=new Set(Pe);return He.has(B.id)?He.delete(B.id):He.add(B.id),He})},ze=D.has(B.id);return a.jsx(tt,{className:"shadow-sm border-green-200",children:a.jsx(ot,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["Ref #",B.reference_number||"—"]}),a.jsx("div",{className:"font-semibold text-gray-900 whitespace-nowrap overflow-hidden text-ellipsis",children:B.medications&&((Ae=B.medications[0])==null?void 0:Ae.name)||B.medication_name||"Medication"}),a.jsx("button",{className:"text-xs text-blue-600 mt-1",onClick:ce,children:ue?"Hide details":"Show details"}),ue&&a.jsx("ul",{className:"mt-2 text-sm list-disc pl-5 space-y-1",children:(B.medications||[]).map((Pe,He)=>a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:Pe.name||"Medication"}),Pe.dosage?` — ${Pe.dosage}`:"",typeof Pe.quantity=="number"?` • Qty: ${Pe.quantity}`:""]},He))})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx(hn,{className:"bg-green-100 text-green-800",children:"Ready"}),a.jsx(Se,{size:"sm",variant:"secondary",onClick:()=>vn(B),disabled:ze,className:ze?"opacity-60 pointer-events-none":"",children:ze?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Mark Picked Up"})]})]})})},B.id)})})}),a.jsx(Al,{value:"public",className:"mt-2",children:a.jsx(U3,{})})]}),a.jsx(to,{open:be,onOpenChange:B=>{ve(B),B||(q(null),W(""),ee(""))},children:a.jsxs(Js,{className:"w-[min(92vw,28rem)]",children:[a.jsxs(Zs,{children:[a.jsx(ti,{children:"Find Request by Reference #"}),a.jsx(Gl,{children:"Enter the reference number shown on the patient's page."})]}),xe?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"rounded-md border p-3",children:a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsxs("div",{className:"font-semibold mb-1",children:["Reference: ",xe.reference_number||"—"]}),a.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Verify details with the patient, then mark picked up."}),a.jsx("ul",{className:"text-sm space-y-1",children:(Array.isArray(xe.medications)&&xe.medications.length>0?xe.medications:xe.medication_name?[{name:xe.medication_name,dosage:xe.dosage,quantity:xe.quantity}]:[]).map((B,ue)=>a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:B.name||"Medication"}),B.dosage?` — ${B.dosage}`:"",B.form?` • ${B.form}`:"",typeof B.quantity=="number"?` • Qty: ${B.quantity}`:""]},ue))})]})}),H?a.jsx("div",{className:"text-sm text-red-600",children:H}):null]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ie,{value:pe,onChange:B=>W(B.target.value),placeholder:"e.g. ABC12",className:"h-10",inputMode:"text",autoFocus:!0}),H?a.jsx("div",{className:"text-sm text-red-600",children:H}):null]}),a.jsx(ei,{className:"flex justify-end gap-2",children:xe?a.jsxs(a.Fragment,{children:[a.jsx(Se,{variant:"secondary",onClick:()=>{q(null),ee("")},children:"Back"}),a.jsx(Se,{variant:"secondary",onClick:()=>ve(!1),children:"Close"}),a.jsxs(Se,{className:"bg-green-600 hover:bg-green-700",onClick:yn,disabled:J,children:[J?a.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Mark Picked Up"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Se,{variant:"secondary",onClick:()=>ve(!1),children:"Cancel"}),a.jsxs(Se,{onClick:Nr,disabled:J,children:[J?a.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Search"]})]})})]})})]})}function Ek(){const[e,t]=S.useState("inbox"),[n,s]=S.useState(""),o=Hd(),[l,d]=U.useState(!1);U.useEffect(()=>{new URLSearchParams(window.location.search).has("hide_badge")||s((o==null?void 0:o.pharmacy_name)||"")},[o]),U.useEffect(()=>{typeof window<"u"&&(Ol(),delete window.__EVENTS_BASE__,o!=null&&o.email&&lO(o.email),console.log("[PharmacyInterface] channel set:",((o==null?void 0:o.email)||"").trim().toLowerCase()))},[o]),U.useEffect(()=>{if(!(o!=null&&o.email))return;_s(),Ol();const g=dn("__connected__",()=>d(!0)),u=dn("__disconnected__",()=>d(!1)),h=dn("new_pharmacy_request",()=>{try{Sn({volume:1})}catch{}}),y=dn("request_update",()=>{try{Sn({volume:1})}catch{}}),b=dn("*",w=>{try{console.log("[PharmacyInterface:*] event:",w)}catch{}if(w==="new_pharmacy_request"||w==="request_update")try{Sn({volume:1})}catch{}});return()=>{g==null||g(),u==null||u(),h==null||h(),y==null||y(),b==null||b()}},[o==null?void 0:o.email]);const f=()=>{try{Sn({volume:1,debug:!0})}catch{}};return new URLSearchParams(window.location.search).has("hide_badge")?a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-7xl mx-auto",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Pharmacy Portal (Preview)"}),a.jsx(Ct,{children:"Data calls disabled in preview mode."})]}),a.jsx(ot,{children:a.jsx("div",{className:"text-sm text-gray-600",children:"Use the live app to view inbox and chat history."})})]})}):a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-[1024px] mx-auto",children:[a.jsx(_t,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(wt,{children:n||"Pharmacy Portal"}),a.jsx(Ct,{children:"Respond to prescriber stock checks. No patient PHI is stored."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Se,{variant:"outline",onClick:f,className:"flex items-center gap-2",children:"🔔 Test Sound"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Se,{disabled:!0,variant:"outline",className:"flex items-center gap-2 opacity-60 cursor-not-allowed",title:"Coming soon",onClick:g=>g.preventDefault(),children:[a.jsx(R0,{className:"w-4 h-4"}),"Secure Chat"]}),a.jsx("span",{className:"text-xs text-gray-500 hidden sm:inline",children:"Coming soon"})]})]})]})}),a.jsx(ot,{children:a.jsx(H3,{})})]})})}function Rk(){const[e,t]=U.useState(!0),n=Jr();U.useEffect(()=>{(async()=>{try{const l=await Je.me(),d={};l.practice_name||(d.practice_name="Medical Office"),l.user_role!=="prescriber"&&(d.user_role="prescriber"),Object.keys(d).length>0&&await Je.updateMyUserData(d),n(Le("PrescriberTool"))}catch{}finally{t(!1)}})()},[]);const s=async()=>{const o=window.location.origin+Le("PrescriberAccess");await Je.loginWithRedirect(o)};return e?a.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:a.jsx(rt,{className:"w-6 h-6 animate-spin text-blue-600"})}):a.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:a.jsxs(tt,{className:"w-full max-w-md",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Prescriber Portal Access"}),a.jsx(Ct,{children:"Continue to authenticate and open the Prescriber Tool."})]}),a.jsxs(ot,{className:"space-y-3",children:[a.jsxs(Se,{onClick:s,className:"w-full",children:["Continue ",a.jsx(j0,{className:"w-4 h-4 ml-2"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"You’ll be redirected back here after authentication and then sent to the Prescriber Tool."})]})]})})}function Ak(){const[e,t]=U.useState(!0);U.useEffect(()=>{(async()=>{try{const o=await Je.me(),l={};o.pharmacy_name||(l.pharmacy_name="Stone Ridge Pharmacy"),o.user_role!=="pharmacy_staff"&&(l.user_role="pharmacy_staff"),Object.keys(l).length>0&&await Je.updateMyUserData(l),window.location.href=Le("PharmacyInterface")}catch{}finally{t(!1)}})()},[]);const n=async()=>{const s=window.location.origin+Le("PharmacyAccess");await Je.loginWithRedirect(s)};return e?a.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:a.jsx(rt,{className:"w-6 h-6 animate-spin text-blue-600"})}):a.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:a.jsxs(tt,{className:"w-full max-w-md",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Pharmacy Portal Access"}),a.jsx(Ct,{children:"Continue to authenticate and open the Pharmacy Portal."})]}),a.jsxs(ot,{className:"space-y-3",children:[a.jsxs(Se,{onClick:n,className:"w-full",children:["Continue ",a.jsx(j0,{className:"w-4 h-4 ml-2"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"You’ll be redirected back here after authentication and then sent to the Pharmacy Portal."})]})]})})}function wd(){const[e,t]=U.useState(!0),n=Jr(),s=sc();U.useEffect(()=>{(async()=>{if(new URLSearchParams(window.location.search).has("hide_badge")){t(!1);return}try{const f=await Je.me(),p=f==null?void 0:f.user_role;if(p==="admin"){n(Le("AdminUsers"));return}if(!(f!=null&&f.onboarding_complete)){n(Le("RoleSelection"));return}n(Le(p==="pharmacy_staff"?"PharmacyInterface":"PrescriberTool"));return}catch{}finally{t(!1)}})()},[]);const o=async()=>{const l=window.location.origin,d="https://us-east-1e7jguoyub.auth.us-east-1.amazoncognito.com",f="1ohivbrbk8aitpge7lu7ov1kna",p=`${l}/oidc-callback/`,v=`${d}/oauth2/authorize?client_id=${encodeURIComponent(f)}&response_type=code&scope=${encodeURIComponent("openid email profile")}&redirect_uri=${encodeURIComponent(p)}`;console.log("[OIDC] Manual redirect to:",v),console.log("[OIDC] Redirect URI:",p),window.location.assign(v)};return e?a.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:a.jsx(rt,{className:"w-6 h-6 animate-spin text-blue-600"})}):a.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:a.jsxs(tt,{className:"w-full max-w-md",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Welcome to RealTimeRx"}),a.jsx(Ct,{children:"Secure sign-in."})]}),a.jsx(ot,{className:"space-y-3",children:a.jsx(Se,{onClick:o,className:"w-full",disabled:s.isLoading||s.activeNavigator==="signinRedirect",children:s.activeNavigator==="signinRedirect"?"Redirecting…":"Sign in"})})]})})}function Ik(){return U.useEffect(()=>{const e=window.__RTX_NAVIGATE__;typeof e=="function"?e("PrescriberTool"):window.location.href=Le("PrescriberTool")},[]),a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Loading Prescriber Tool..."]})}function Mk(){return U.useEffect(()=>{const e=window.__RTX_NAVIGATE__;typeof e=="function"?e("PharmacyInterface"):window.location.href=Le("PharmacyInterface")},[]),a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Loading Pharmacy Portal..."]})}function Lk(){const{toast:e}=Km();return U.useEffect(()=>{(async()=>{try{const s=await Je.me();if((s==null?void 0:s.user_role)==="admin"){const o=window.__RTX_NAVIGATE__;typeof o=="function"?o("AdminSettings"):window.location.href=Le("AdminSettings");return}}catch(s){console.error("Failed to fetch user data or user not authenticated:",s)}e({title:"You don’t have access to that area.",variant:"destructive"});const n=window.__RTX_NAVIGATE__;typeof n=="function"?n("signin"):window.location.href=Le("signin")})()},[e]),a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Checking access..."]})}var Zd="Switch",[W3]=Cr(Zd),[q3,G3]=W3(Zd),Ok=S.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:l,required:d,disabled:f,value:p="on",onCheckedChange:v,form:g,...u}=e,[h,y]=S.useState(null),b=mt(t,E=>y(E)),w=S.useRef(!1),C=h?g||!!h.closest("form"):!0,[P,j]=co({prop:o,defaultProp:l??!1,onChange:v,caller:Zd});return a.jsxs(q3,{scope:n,checked:P,disabled:f,children:[a.jsx(Ke.button,{type:"button",role:"switch","aria-checked":P,"aria-required":d,"data-state":Vk(P),"data-disabled":f?"":void 0,disabled:f,value:p,...u,ref:b,onClick:ke(e.onClick,E=>{j(L=>!L),C&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})}),C&&a.jsx(Uk,{control:h,bubbles:!w.current,name:s,value:p,checked:P,required:d,disabled:f,form:g,style:{transform:"translateX(-100%)"}})]})});Ok.displayName=Zd;var Dk="SwitchThumb",Fk=S.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,o=G3(Dk,n);return a.jsx(Ke.span,{"data-state":Vk(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})});Fk.displayName=Dk;var K3="SwitchBubbleInput",Uk=S.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...o},l)=>{const d=S.useRef(null),f=mt(d,l),p=nv(n),v=tg(t);return S.useEffect(()=>{const g=d.current;if(!g)return;const u=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(u,"checked").set;if(p!==n&&y){const b=new Event("click",{bubbles:s});y.call(g,n),g.dispatchEvent(b)}},[p,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:f,style:{...o.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uk.displayName=K3;function Vk(e){return e?"checked":"unchecked"}var $k=Ok,X3=Fk;const Tm=S.forwardRef(({className:e,...t},n)=>a.jsx($k,{className:Be("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(X3,{className:Be("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Tm.displayName=$k.displayName;var Y3="Label",Bk=S.forwardRef((e,t)=>a.jsx(Ke.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Bk.displayName=Y3;var zk=Bk;const Q3=ic("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pr=S.forwardRef(({className:e,...t},n)=>a.jsx(zk,{ref:n,className:Be(Q3(),e),...t}));pr.displayName=zk.displayName;function Hk(){const[e,t]=U.useState(!0),[n,s]=U.useState(!1),[o,l]=U.useState(null),[d,f]=U.useState(!1);U.useEffect(()=>{(async()=>{let g=null;try{g=await Je.me()}catch{f(!1),l(null),t(!1);return}const u=(g==null?void 0:g.user_role)==="admin";if(f(u),!u){l(null),t(!1);return}try{const{AppSettings:h}=await so(async()=>{const{AppSettings:b}=await Promise.resolve().then(()=>ni);return{AppSettings:b}},void 0),y=await h.list();if(y.length>0)l(y[0]);else{const b=await h.create({kiosk_mode:!1,chat_vendor_base_url:"",default_broadcast_radius:10,helpdesk_phone_number:"",jotform_embed_html:""});l(b)}}catch(h){console.warn("Failed to load/create AppSettings:",h),l({kiosk_mode:!1,chat_vendor_base_url:"",default_broadcast_radius:10,helpdesk_phone_number:"",jotform_embed_html:""})}finally{t(!1)}})()},[]);const p=async v=>{if(!(!o||!d)){s(!0);try{const{AppSettings:g}=await so(async()=>{const{AppSettings:h}=await Promise.resolve().then(()=>ni);return{AppSettings:h}},void 0),u=await g.update(o.id,{kiosk_mode:v});if(l(u),v){const h=document.documentElement;if(h.requestFullscreen)try{await h.requestFullscreen()}catch(y){console.warn("Fullscreen request failed:",y)}}}catch(g){console.error("Failed to update kiosk settings:",g)}finally{s(!1)}}};return e?a.jsx("div",{className:"p-6 flex justify-center items-center min-h-screen",children:a.jsx(rt,{className:"w-6 h-6 animate-spin text-blue-600"})}):d?a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-screen",children:a.jsxs(tt,{className:"max-w-2xl mx-auto",children:[a.jsxs(_t,{children:[a.jsxs(wt,{className:"flex items-center gap-2",children:[a.jsx(Bx,{className:"w-5 h-5 text-blue-600"}),"Admin Settings"]}),a.jsx(Ct,{children:"Manage global app settings for iPad kiosk deployments."})]}),a.jsxs(ot,{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-end",children:a.jsx(Dm,{to:Le("AdminUsers"),children:a.jsx(Se,{variant:"outline",children:"Manage Users"})})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"kiosk",className:"text-base",children:"Enable Kiosk Mode"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Hides logout button, tries fullscreen, and keeps session alive. Exit with Shift+L or /logout."})]}),a.jsx(Tm,{id:"kiosk",checked:!!(o!=null&&o.kiosk_mode),onCheckedChange:p,disabled:n||!o})]}),a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"chatUrl",children:"Chat Vendor Base URL"}),a.jsx(Ie,{id:"chatUrl",value:(o==null?void 0:o.chat_vendor_base_url)||"",onChange:v=>l(g=>({...g,chat_vendor_base_url:v.target.value})),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"radius",children:"Default Broadcast Radius (miles)"}),a.jsx(Ie,{id:"radius",type:"number",min:"1",step:"1",value:(o==null?void 0:o.default_broadcast_radius)??10,onChange:v=>l(g=>({...g,default_broadcast_radius:Number(v.target.value||0)}))})]}),a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"helpdesk",children:"Helpdesk Phone Number"}),a.jsx(Ie,{id:"helpdesk",value:(o==null?void 0:o.helpdesk_phone_number)||"",onChange:v=>l(g=>({...g,helpdesk_phone_number:v.target.value})),placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"jotform",children:"JotForm Embed HTML"}),a.jsx(ec,{id:"jotform",value:(o==null?void 0:o.jotform_embed_html)||"",onChange:v=>l(g=>({...g,jotform_embed_html:v.target.value})),placeholder:"Paste your JotForm embed code here",className:"min-h-[140px]"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Se,{onClick:async()=>{if(o){s(!0);try{const{AppSettings:v}=await so(async()=>{const{AppSettings:u}=await Promise.resolve().then(()=>ni);return{AppSettings:u}},void 0),g=await v.update(o.id,{chat_vendor_base_url:o.chat_vendor_base_url||"",default_broadcast_radius:typeof o.default_broadcast_radius=="number"?o.default_broadcast_radius:10,helpdesk_phone_number:o.helpdesk_phone_number||"",jotform_embed_html:o.jotform_embed_html||""});l(g)}finally{s(!1)}}},disabled:n||!o,children:[n?a.jsx(rt,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save Settings"]})})]})]})]})}):a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-screen",children:a.jsxs(tt,{className:"max-w-2xl mx-auto",children:[a.jsxs(_t,{children:[a.jsxs(wt,{className:"flex items-center gap-2",children:[a.jsx(Bx,{className:"w-5 h-5 text-blue-600"}),"Admin Settings"]}),a.jsx(Ct,{children:"This page is limited to admins. Contact an admin to configure kiosk mode."})]}),a.jsxs(ot,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between opacity-60",children:[a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"kiosk",className:"text-base",children:"Enable Kiosk Mode"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Admins can enable fullscreen kiosk deployment and session keep-alive."})]}),a.jsx(Tm,{id:"kiosk",checked:!!(o!=null&&o.kiosk_mode),disabled:!0})]}),a.jsxs("div",{className:"grid gap-4 opacity-60",children:[a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"chatUrl",children:"Chat Vendor Base URL"}),a.jsx(Ie,{id:"chatUrl",value:(o==null?void 0:o.chat_vendor_base_url)||"",placeholder:"https://...",disabled:!0})]}),a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"radius",children:"Default Broadcast Radius (miles)"}),a.jsx(Ie,{id:"radius",type:"number",min:"1",step:"1",value:(o==null?void 0:o.default_broadcast_radius)??10,disabled:!0})]}),a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"helpdesk",children:"Helpdesk Phone Number"}),a.jsx(Ie,{id:"helpdesk",value:(o==null?void 0:o.helpdesk_phone_number)||"",placeholder:"+1 (555) 123-4567",disabled:!0})]}),a.jsxs("div",{children:[a.jsx(pr,{htmlFor:"jotform",children:"JotForm Embed HTML"}),a.jsx(ec,{id:"jotform",value:(o==null?void 0:o.jotform_embed_html)||"",placeholder:"Paste your JotForm embed code here",className:"min-h-[140px]",disabled:!0})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Se,{disabled:!0,children:"Save Settings"})})]})]})]})})}const J3="https://us-east-1e7jguoyub.auth.us-east-1.amazoncognito.com",Z3="1ohivbrbk8aitpge7lu7ov1kna";function Wk(){return U.useEffect(()=>{(async()=>{try{if(window.sessionStorage)try{sessionStorage.clear()}catch{}if(window.localStorage)try{localStorage.removeItem("oidc.user")}catch{}}finally{if(new URLSearchParams(window.location.search).get("done")==="1"){window.location.replace("/signin");return}const s=`${window.location.origin}/logout?done=1`,o=`${J3}/logout?client_id=${Z3}&logout_uri=${encodeURIComponent(s)}`;window.location.replace(o)}})()},[]),a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Signing out..."]})}var ef="Checkbox",[eU]=Cr(ef),[tU,sv]=eU(ef);function nU(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:o,disabled:l,form:d,name:f,onCheckedChange:p,required:v,value:g="on",internal_do_not_use_render:u}=e,[h,y]=co({prop:n,defaultProp:o??!1,onChange:p,caller:ef}),[b,w]=S.useState(null),[C,P]=S.useState(null),j=S.useRef(!1),E=b?!!d||!!b.closest("form"):!0,L={checked:h,disabled:l,setChecked:y,control:b,setControl:w,name:f,form:d,value:g,hasConsumerStoppedPropagationRef:j,required:v,defaultChecked:ii(o)?!1:o,isFormControl:E,bubbleInput:C,setBubbleInput:P};return a.jsx(tU,{scope:t,...L,children:rU(u)?u(L):s})}var qk="CheckboxTrigger",Gk=S.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},o)=>{const{control:l,value:d,disabled:f,checked:p,required:v,setControl:g,setChecked:u,hasConsumerStoppedPropagationRef:h,isFormControl:y,bubbleInput:b}=sv(qk,e),w=mt(o,g),C=S.useRef(p);return S.useEffect(()=>{const P=l==null?void 0:l.form;if(P){const j=()=>u(C.current);return P.addEventListener("reset",j),()=>P.removeEventListener("reset",j)}},[l,u]),a.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":ii(p)?"mixed":p,"aria-required":v,"data-state":Jk(p),"data-disabled":f?"":void 0,disabled:f,value:d,...s,ref:w,onKeyDown:ke(t,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:ke(n,P=>{u(j=>ii(j)?!0:!j),b&&y&&(h.current=P.isPropagationStopped(),h.current||P.stopPropagation())})})});Gk.displayName=qk;var iv=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:l,required:d,disabled:f,value:p,onCheckedChange:v,form:g,...u}=e;return a.jsx(nU,{__scopeCheckbox:n,checked:o,defaultChecked:l,disabled:f,required:d,onCheckedChange:v,name:s,form:g,value:p,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(Gk,{...u,ref:t,__scopeCheckbox:n}),h&&a.jsx(Qk,{__scopeCheckbox:n})]})})});iv.displayName=ef;var Kk="CheckboxIndicator",Xk=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...o}=e,l=sv(Kk,n);return a.jsx(nr,{present:s||ii(l.checked)||l.checked===!0,children:a.jsx(Ke.span,{"data-state":Jk(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Xk.displayName=Kk;var Yk="CheckboxBubbleInput",Qk=S.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:l,defaultChecked:d,required:f,disabled:p,name:v,value:g,form:u,bubbleInput:h,setBubbleInput:y}=sv(Yk,e),b=mt(n,y),w=nv(l),C=tg(s);S.useEffect(()=>{const j=h;if(!j)return;const E=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(E,"checked").set,A=!o.current;if(w!==l&&D){const I=new Event("click",{bubbles:A});j.indeterminate=ii(l),D.call(j,ii(l)?!1:l),j.dispatchEvent(I)}},[h,w,l,o]);const P=S.useRef(ii(l)?!1:l);return a.jsx(Ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??P.current,required:f,disabled:p,name:v,value:g,form:u,...t,tabIndex:-1,ref:b,style:{...t.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Qk.displayName=Yk;function rU(e){return typeof e=="function"}function ii(e){return e==="indeterminate"}function Jk(e){return ii(e)?"indeterminate":e?"checked":"unchecked"}const bd=S.forwardRef(({className:e,...t},n)=>a.jsx(iv,{ref:n,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(Xk,{className:Be("flex items-center justify-center text-current"),children:a.jsx(Hm,{className:"h-4 w-4"})})}));bd.displayName=iv.displayName;const Pl="UOAKO";function Zk(){const[e,t]=U.useState(null),[n,s]=U.useState([]),[o,l]=U.useState("active"),[d,f]=U.useState(""),[p,v]=U.useState(new Date().toISOString()),[g,u]=U.useState(new Set),h=U.useCallback(async()=>{const I=await Je.me().catch(()=>null),O=new URLSearchParams(window.location.search);if(!I&&!O.has("hide_badge")){w(Le("signin"));return}if(t(I||null),!(I!=null&&I.email)){s([]);return}const F=I.user_role==="prescriber_staff"&&I.delegated_by?I.delegated_by:I.email,K=await Ht.filter({prescriber_email:F},"-created_date",100).catch(()=>[]);s(Array.isArray(K)?K:[]),v(new Date().toISOString())},[]);U.useEffect(()=>{h()},[h]),U.useEffect(()=>{const O=dn("request_update",F=>{try{const K=(F==null?void 0:F.requestId)||(F==null?void 0:F.request_id)||(F==null?void 0:F.requestID),ne=((F==null?void 0:F.status)||"").toLowerCase();if(!K)return;if(y.current.set(K,ne),s(de=>de.map(te=>{if(String(te.id)!==String(K))return te;const ie={...te};return ne==="options_available"&&te.status==="pending"&&(ie.status="has_in_stock"),ne==="ready"&&(ie.status="ready"),ne==="accepted"&&(ie.status="accepted"),ie})),ne==="options_available"||ne==="accepted"||ne==="ready")try{Sn({volume:1})}catch{}v(new Date().toISOString())}catch{}});return _s(),()=>{O()}},[]);const y=U.useRef(new Map);U.useEffect(()=>{if(!(e!=null&&e.email))return;let I=null;const O=async()=>{try{if(cO())return;const F=e.user_role==="prescriber_staff"&&e.delegated_by?e.delegated_by:e.email,K=await Ht.filter({prescriber_email:F},"-created_date",100).catch(()=>[]),ne=[],de=y.current;for(const te of K||[]){const ie=de.get(te.id),be=(te.status||"").toLowerCase();(be==="has_in_stock"&&ie!=="has_in_stock"||be==="accepted"&&ie!=="accepted"||be==="ready"&&ie!=="ready")&&ne.push({id:te.id,curr:be}),de.set(te.id,be)}if(ne.length>0)try{Sn({volume:1})}catch{}s(Array.isArray(K)?K:[]),v(new Date().toISOString())}catch{}};return(async()=>{try{const F=e.user_role==="prescriber_staff"&&e.delegated_by?e.delegated_by:e.email,K=await Ht.filter({prescriber_email:F},"-created_date",100).catch(()=>[]),ne=y.current;(K||[]).forEach(de=>ne.set(de.id,(de.status||"").toLowerCase()))}catch{}})(),I=setInterval(O,12e3),()=>{I&&clearInterval(I)}},[e]);const b=U.useMemo(()=>{const I=d.trim().toLowerCase(),O=n.filter(F=>o==="active"?new Set(["pending","has_in_stock","accepted","ready"]).has(F.status):new Set(["fulfilled","no_stock"]).has(F.status||""));return I?O.filter(F=>{const K=Array.isArray(F.medications)&&F.medications.length?F.medications.map(de=>de.name).join(" "):F.medication_name||"";return`${F.reference_number||""} ${K}`.toLowerCase().includes(I)}):O},[n,o,d]),w=Jr(),C=()=>{w(Le("PrescriberToolNew"))},P=I=>{w(Le(`PrescriberRequest?requestId=${encodeURIComponent(I)}`))},j=o==="completed",E=(I,O)=>{u(F=>{const K=new Set(F);return O?K.add(I):K.delete(I),K})},L=()=>{if(!j)return;const I=b.filter(F=>String(F.reference_number||"")!==Pl).map(F=>F.id),O=I.length>0&&I.every(F=>g.has(F));u(O?new Set:new Set(I))},D=async()=>{if(!j||g.size===0)return;const I=new Set(n.filter(K=>String(K.reference_number||"")===Pl).map(K=>K.id)),O=Array.from(g).filter(K=>!I.has(K));if(O.length===0){window.alert("This item cannot be deleted at this time.");return}if(I.size>0&&Array.from(g).some(K=>I.has(K))&&window.alert(`A protected request (${Pl}) was excluded and will not be deleted.`),!!window.confirm(`Delete ${O.length} selected request(s)? This cannot be undone.`)){for(const K of O)try{await Ht.delete(K)}catch{}s(K=>K.filter(ne=>!O.includes(ne.id))),u(new Set)}},A=async()=>{if(!j||b.length===0)return;const I=b.filter(F=>String(F.reference_number||"")!==Pl);if(I.length===0){window.alert("This item cannot be deleted at this time.");return}if(I.length<b.length&&window.alert(`A protected request (${Pl}) was excluded and will not be deleted.`),!!window.confirm(`Delete all ${I.length} completed request(s)? This cannot be undone.`)){for(const F of I)try{await Ht.delete(F.id)}catch{}s(F=>F.filter(K=>!I.some(ne=>ne.id===K.id))),u(new Set)}};return a.jsxs("div",{className:"page px-3 sm:px-4 md:px-6",style:{paddingTop:16},children:[a.jsx("h1",{style:{fontWeight:700,fontSize:18,margin:"12px 12px 8px"},children:"Requests"}),a.jsx("div",{className:"actions",style:{alignItems:"stretch",margin:"16px 12px 20px"},children:a.jsx("button",{className:"btn",style:{flex:1,height:52,fontSize:16},onClick:C,"aria-label":"Start a new request",children:"+ Start New"})}),a.jsx("div",{style:{display:"none",margin:"0 12px 8px"},children:a.jsx(Ie,{value:d,onChange:I=>f(I.target.value),placeholder:"Search medication or reference…",className:"h-10"})}),a.jsxs("div",{className:"flex items-center justify-between",style:{margin:"0 12px 6px"},children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Se,{size:"sm",variant:o==="active"?"default":"outline",onClick:()=>{l("active"),u(new Set)},children:"Active"}),a.jsx(Se,{size:"sm",variant:o==="completed"?"default":"outline",onClick:()=>{l("completed"),u(new Set)},children:"Completed"})]}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:["Last checked: ",new Date(p).toLocaleTimeString(),a.jsx(Se,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:h,title:"Refresh",children:a.jsx(qm,{className:"w-4 h-4"})})]})]}),j&&b.length>0&&a.jsxs("div",{className:"flex items-center gap-2",style:{margin:"0 12px 8px"},children:[a.jsx(Se,{size:"sm",variant:"outline",onClick:L,children:b.every(I=>g.has(I.id))?"Clear Selection":"Select All"}),a.jsx(Se,{size:"sm",variant:"destructive",onClick:D,disabled:g.size===0,children:"Delete Selected"}),a.jsx(Se,{size:"sm",variant:"secondary",onClick:A,children:"Delete All"})]}),a.jsx("div",{id:"requestList",style:{padding:"0 12px 12px"},children:b.length===0?a.jsx(tt,{children:a.jsxs(ot,{className:"p-4",children:[a.jsxs("div",{className:"text-base font-medium mb-1",children:["No ",o==="active"?"active":"completed"," requests"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Tap Start New to search availability."})]})}):b.map(I=>{var W,J;const O=Array.isArray(I.medications)?I.medications.length:I.medication_name?1:0,F=O>1?`${O} medications`:O===1?((J=(W=I.medications)==null?void 0:W[0])==null?void 0:J.name)||I.medication_name:"No medication listed",K=I.status||"pending",ne=K==="has_in_stock",de=K==="accepted",te=K==="ready",ie=K==="fulfilled";let be=K.replaceAll("_"," ");ne?be="New responses":de?be="Accepted":te?be="Ready":ie&&(be="Picked up");const ve=j?g.has(I.id):!1,pe=ne||te?"rtx-badge badge-instock":"badge";return a.jsx("div",{className:`card ${ne?"rtx-flash border-l-4 border-green-400":""}`,"data-request-id":I.id,onClick:()=>!j&&P(I.id),style:{cursor:j?"default":"pointer"},children:a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"min-w-0 flex items-start gap-2",children:[j&&a.jsx(bd,{checked:ve,onCheckedChange:ae=>E(I.id,!!ae),className:"mt-1"}),a.jsxs("div",{className:"min-w-0 flex-grow",children:[a.jsx("div",{className:"title truncate",children:I.reference_number?`Ref #${I.reference_number}`:"Medication Request"}),a.jsx("div",{className:"meta truncate",children:F}),a.jsxs("div",{className:"meta",children:["Created ",_g(I.created_date)]})]})]}),a.jsx("span",{className:pe,"data-role":"status-badge",children:be})]})},I.id)})})]})}function ej(){const[e,t]=U.useState(!0),n=Jr();return U.useEffect(()=>{(async()=>{if(new URLSearchParams(window.location.search).has("hide_badge")){t(!1);return}try{const d=await Je.me(),f=d==null?void 0:d.user_role;if(f==="admin"){n(Le("AdminUsers"));return}if(!(d!=null&&d.onboarding_complete)){n(Le("RoleSelection"));return}n(Le(f==="pharmacy_staff"?"PharmacyInterface":"PrescriberTool"))}catch{n(Le("signin"))}finally{t(!1)}})()},[]),new URLSearchParams(window.location.search).has("hide_badge")?a.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gray-50 flex items-center justify-center p-6",children:a.jsx("div",{className:"text-gray-700",children:"Preview mode: data calls disabled."})}):a.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gray-50 flex items-center justify-center p-6",children:a.jsx("div",{className:"flex items-center text-gray-700",children:"Redirecting…"})})}st.integrations.Core.InvokeLLM;const sU=st.integrations.Core.SendEmail,iU=st.integrations.Core.UploadFile;st.integrations.Core.GenerateImage;const oU=st.integrations.Core.ExtractDataFromUploadedFile;st.integrations.Core.CreateFileSignedUrl;st.integrations.Core.UploadPrivateFile;function tj(){const[e,t]=U.useState(null),[n,s]=U.useState(!0),[o,l]=U.useState(!1),[d,f]=U.useState("");U.useEffect(()=>{(async()=>{var v;try{const g=await Je.me();t(g||null)}catch{}try{const{AppSettings:g}=await so(async()=>{const{AppSettings:h}=await Promise.resolve().then(()=>ni);return{AppSettings:h}},void 0),u=await g.list();f(((v=u==null?void 0:u[0])==null?void 0:v.jotform_embed_html)||"")}catch{f("")}finally{s(!1)}})()},[]);const p=async()=>{if(e){l(!0);try{await Je.updateMyUserData({jotform_registration_notified:!0}),await sU({to:"hayden.sklarow@realtimerx.org",subject:"New user started registration",body:"A new user has started registration via the embedded form. Review in Admin Users."});const v=window.__RTX_NAVIGATE__;typeof v=="function"?v("/PendingNPIVerification"):window.location.href="/PendingNPIVerification"}finally{l(!1)}}};return n?a.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:a.jsx(rt,{className:"w-6 h-6 animate-spin text-blue-600"})}):a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-2xl mx-auto",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Welcome"}),a.jsx(Ct,{children:"Please complete the short registration form below. Do not include any PHI."})]}),a.jsxs(ot,{className:"space-y-4",children:[d?a.jsx("div",{className:"rounded-md border bg-white p-0 overflow-hidden",dangerouslySetInnerHTML:{__html:d}}):a.jsx("div",{className:"text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md p-3",children:"JotForm embed code is not configured yet. Admin can add it in Admin Settings."}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Se,{onClick:p,disabled:o,className:"gap-2",children:[o?a.jsx(rt,{className:"w-4 h-4 animate-spin"}):a.jsx(E0,{className:"w-4 h-4"}),"I submitted"]})})]})]})})}function nj(){const[e,t]=U.useState(null),[n,s]=U.useState(!0),[o,l]=U.useState(!1),[d,f]=U.useState(""),[p,v]=U.useState(""),[g,u]=U.useState(""),[h,y]=U.useState(""),[b,w]=U.useState(""),[C,P]=U.useState(""),[j,E]=U.useState(""),[L,D]=U.useState(""),[A,I]=U.useState(""),[O,F]=U.useState("");U.useEffect(()=>{(async()=>{try{const ie=await Je.me();t(ie||null),f((ie==null?void 0:ie.pharmacy_name)||""),v((ie==null?void 0:ie.phone)||""),u((ie==null?void 0:ie.address)||""),y((ie==null?void 0:ie.zip)||""),w((ie==null?void 0:ie.pharmacy_scheduling_url)||""),P((ie==null?void 0:ie.practice_name)||""),E((ie==null?void 0:ie.phone)||""),D((ie==null?void 0:ie.address)||""),I((ie==null?void 0:ie.zip)||"")}finally{s(!1)}})()},[]);const K=(e==null?void 0:e.user_role)==="pharmacy_staff"||(e==null?void 0:e.user_role)==="pharmacist"||(e==null?void 0:e.user_role)==="tech",ne=(e==null?void 0:e.user_role)==="prescriber"||(e==null?void 0:e.user_role)==="prescriber_staff",de=async()=>{if(e){l(!0),F("");try{const te={};K&&(te.pharmacy_name=(d==null?void 0:d.trim())||"",te.phone=(p==null?void 0:p.trim())||"",te.address=(g==null?void 0:g.trim())||"",te.zip=(h==null?void 0:h.trim())||"",te.pharmacy_scheduling_url=(b==null?void 0:b.trim())||""),ne&&(te.practice_name=(C==null?void 0:C.trim())||"",te.phone=(j==null?void 0:j.trim())||"",te.address=(L==null?void 0:L.trim())||"",te.zip=(A==null?void 0:A.trim())||""),await st.auth.updateMe(te),F("Saved")}catch{F("Failed to save. Please try again.")}finally{l(!1)}}};return n?a.jsxs("div",{className:"min-h-[50vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Loading profile..."]}):e?a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-2xl mx-auto",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Profile & Settings"}),a.jsx(Ct,{children:"Update your display information. Do not include PHI."})]}),a.jsxs(ot,{className:"space-y-4",children:[K?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Pharmacy Name"}),a.jsx(Ie,{value:d,onChange:te=>f(te.target.value),placeholder:"e.g., Stone Ridge Pharmacy - Main St",disabled:o}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This name appears to prescribers and is used to route requests. Use a unique name (e.g., include location)."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Phone"}),a.jsx(Ie,{value:p,onChange:te=>v(te.target.value),placeholder:"(555) 555-5555",disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"ZIP"}),a.jsx(Ie,{value:h,onChange:te=>y(te.target.value),placeholder:"12345",disabled:o})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Address"}),a.jsx(Ie,{value:g,onChange:te=>u(te.target.value),placeholder:"123 Main St, Suite 100",disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Scheduling URL (vaccines & screenings)"}),a.jsx(Ie,{value:b,onChange:te=>w(te.target.value),placeholder:"https://...",disabled:o}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Patients will see a “Schedule Vaccines & Health Screenings” button on their page if this is set."})]})]}):null,ne?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Practice Name"}),a.jsx(Ie,{value:C,onChange:te=>P(te.target.value),placeholder:"Practice name",disabled:o})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Phone"}),a.jsx(Ie,{value:j,onChange:te=>E(te.target.value),placeholder:"(555) 555-5555",disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"ZIP"}),a.jsx(Ie,{value:A,onChange:te=>I(te.target.value),placeholder:"12345",disabled:o})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Address"}),a.jsx(Ie,{value:L,onChange:te=>D(te.target.value),placeholder:"123 Main St, Suite 100",disabled:o})]})]}):null,a.jsx("div",{className:"flex justify-end",children:a.jsxs(Se,{onClick:de,disabled:o||!K&&!ne,className:"gap-2",children:[o?a.jsx(rt,{className:"w-4 h-4 animate-spin"}):a.jsx(XR,{className:"w-4 h-4"}),"Save"]})}),O?a.jsx("div",{className:`text-sm ${O.includes("Failed")?"text-red-600":"text-green-700"}`,children:O}):null]})]})}):a.jsx("div",{className:"p-6",children:a.jsx(tt,{className:"max-w-xl mx-auto",children:a.jsxs(_t,{children:[a.jsx(wt,{children:"Profile"}),a.jsx(Ct,{children:"Please sign in to view your profile."})]})})})}function rj(){return a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)] flex items-center justify-center",children:a.jsxs(tt,{className:"w-full max-w-lg",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Verification in Progress"}),a.jsx(Ct,{children:"Your NPI has been submitted and is awaiting verification."})]}),a.jsxs(ot,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"We’re verifying your credentials. This may be handled by an administrator or an NPI verification service. You’ll be notified once access is granted."}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Se,{onClick:()=>{const e=window.__RTX_NAVIGATE__;typeof e=="function"?e(Le("Home")):window.location.href=Le("Home")},children:"Back to Home"})})]})]})})}async function aU(e){const t=new TextEncoder,n=await crypto.subtle.digest("SHA-256",t.encode(e));return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function Dw(e){try{const{data:t}=await st.functions.invoke("adminCreateUser",e);if(t&&t.user)return t.user;throw new Error((t==null?void 0:t.error)||"Function returned no user")}catch{const n=await Je.filter({email:e.email},void 0,1).catch(()=>[]);return n&&n[0]?await Je.update(n[0].id,e):await Je.create(e)}}function sj(){const[e,t]=U.useState(null),[n,s]=U.useState(!0),[o,l]=U.useState([]),[d,f]=U.useState(""),[p,v]=U.useState(!1),[g,u]=U.useState(null),[h,y]=U.useState(!1),[b,w]=U.useState(!1),[C,P]=U.useState(!1),[j,E]=U.useState({email:"",admin_editable_name:"",user_role:"prescriber",npi_status:"unverified",practice_name:"",pharmacy_name:"",phone:"",address:"",zip:"",point_of_contact:"",npi:"",status:"active",auth_id:"",pharmacy_id:""}),[L,D]=U.useState(!1),A=U.useRef(null),[I,O]=U.useState(!1),[F,K]=U.useState(null),[ne,de]=U.useState(""),[te,ie]=U.useState(7);U.useEffect(()=>{(async()=>{try{const Y=await Je.me();if(t(Y),(Y==null?void 0:Y.user_role)==="admin"){const se=await Je.list();l(se)}}finally{s(!1)}})()},[]);const be=o.filter(q=>{const Y=d.toLowerCase().trim();return Y?(q.email||"").toLowerCase().includes(Y)||(q.full_name||"").toLowerCase().includes(Y)||(q.admin_editable_name||"").toLowerCase().includes(Y)||(q.practice_name||"").toLowerCase().includes(Y)||(q.pharmacy_name||"").toLowerCase().includes(Y):!0}),ve=q=>{u({id:q.id,email:q.email||"",admin_editable_name:q.admin_editable_name||"",user_role:q.user_role||"prescriber",npi_status:q.npi_status||"unverified",practice_name:q.practice_name||"",pharmacy_name:q.pharmacy_name||"",phone:q.phone||"",address:q.address||"",zip:q.zip||"",point_of_contact:q.point_of_contact||"",npi:q.npi||"",status:q.status||"active",auth_id:q.auth_id||"",pharmacy_id:q.pharmacy_id||""}),v(!0)},pe=async()=>{if(g){y(!0);try{const{id:q,...Y}=g,se=await Je.update(q,Y);l(re=>re.map(ge=>ge.id===q?{...ge,...se}:ge)),v(!1)}finally{y(!1)}}},W=async q=>{if(!(!q||!window.confirm("Are you sure you want to delete this user? This action cannot be undone.")))try{await Je.delete(q),l(se=>se.filter(re=>re.id!==q))}catch(se){console.error("Failed to delete user:",se),alert("Failed to delete user. Please try again.")}},J=async()=>{var q,Y;if(!j.email.trim()){alert("Email is required");return}y(!0);try{const se={email:j.email.trim(),admin_editable_name:j.admin_editable_name||void 0,user_role:j.user_role||"prescriber",npi_status:j.npi_status||"unverified",practice_name:j.practice_name||void 0,pharmacy_name:j.pharmacy_name||void 0,phone:j.phone||void 0,address:j.address||void 0,zip:j.zip||void 0,point_of_contact:j.point_of_contact||void 0,npi:j.npi||void 0,status:j.status||"active",auth_id:j.auth_id||void 0,pharmacy_id:j.pharmacy_id||void 0},re=await Dw(se);l(ge=>[re,...ge]),P(!1),E({email:"",admin_editable_name:"",user_role:"prescriber",npi_status:"unverified",practice_name:"",pharmacy_name:"",phone:"",address:"",zip:"",point_of_contact:"",npi:"",status:"active",auth_id:"",pharmacy_id:""})}catch(se){const re=(Y=(q=se==null?void 0:se.response)==null?void 0:q.data)==null?void 0:Y.error;console.error("Failed to create user:",se),alert(re||(se==null?void 0:se.message)||"Failed to create user")}finally{y(!1)}},ae=()=>{A.current&&A.current.click()},H=async q=>{var se;const Y=(se=q.target.files)==null?void 0:se[0];if(Y){D(!0);try{const{file_url:re}=await iU({file:Y}),we=await oU({file_url:re,json_schema:{type:"object",properties:{email:{type:"string"},admin_editable_name:{type:"string"},user_role:{type:"string",enum:["prescriber","pharmacy_staff","admin","prescriber_staff"]},npi_status:{type:"string",enum:["unverified","pending","verified","rejected"]},practice_name:{type:"string"},pharmacy_name:{type:"string"},phone:{type:"string"},address:{type:"string"},zip:{type:"string"},point_of_contact:{type:"string"},npi:{type:"string"},status:{type:"string",enum:["active","invited","suspended"]},auth_id:{type:"string"},pharmacy_id:{type:"string"}},required:["email"]}});if(we.status!=="success"||!we.output){alert("Failed to parse CSV");return}const Oe=Array.isArray(we.output)?we.output:[we.output];for(let le=0;le<Oe.length;le++){const Fe=Oe[le];if(!(Fe!=null&&Fe.email))continue;const Nt={email:String(Fe.email).trim(),admin_editable_name:Fe.admin_editable_name||void 0,user_role:["prescriber","pharmacy_staff","admin","prescriber_staff"].includes(Fe.user_role)?Fe.user_role:"prescriber",npi_status:["unverified","pending","verified","rejected"].includes(Fe.npi_status)?Fe.npi_status:"unverified",practice_name:Fe.practice_name||void 0,pharmacy_name:Fe.pharmacy_name||void 0,phone:Fe.phone||void 0,address:Fe.address||void 0,zip:Fe.zip||void 0,point_of_contact:Fe.point_of_contact||void 0,npi:Fe.npi||void 0,status:["active","invited","suspended"].includes(Fe.status)?Fe.status:"active",auth_id:Fe.auth_id||void 0,pharmacy_id:Fe.pharmacy_id||void 0};try{await Dw(Nt)}catch(bt){console.warn("Import row failed:",(bt==null?void 0:bt.message)||bt)}}const Ue=await Je.list();l(Ue),alert("Import completed")}catch(re){console.error("Import failed:",re),alert("Import failed. Please check your CSV format.")}finally{D(!1),A.current&&(A.current.value="")}}},ee=q=>{K(q),de(""),ie(7),O(!0)},xe=async()=>{if(!F||!ne){alert("Enter a temporary password.");return}const q=await aU(ne),Y=new Date(Date.now()+Number(te||0)*24*60*60*1e3).toISOString();try{const se=await Je.update(F.id,{temp_password_hash:q,temp_password_expires:Y,requires_password_reset:!0});l(re=>re.map(ge=>ge.id===F.id?{...ge,...se}:ge)),O(!1)}catch(se){console.error("Failed setting temp password:",se),alert("Failed to set temp password.")}};return n?a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Loading users..."]}):!e||e.user_role!=="admin"?a.jsx("div",{className:"p-6",children:a.jsxs(tt,{className:"max-w-2xl mx-auto",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Admin Users"}),a.jsx(Ct,{children:"Only admins can view and manage users."})]}),a.jsx(ot,{children:a.jsx("p",{className:"text-sm text-gray-600",children:"You do not have permission to access this page."})})]})}):a.jsxs("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:[a.jsxs(tt,{className:"max-w-6xl mx-auto",children:[a.jsxs(_t,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ZR,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx(wt,{children:"Admin Users"}),a.jsx(Ct,{children:"Manage roles and profile details for app users."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[" ",a.jsxs("div",{className:"relative flex-1 min-w-[160px]",children:[" ",a.jsx(Gm,{className:"w-4 h-4 absolute left-2 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx(Ie,{className:"pl-8 w-full sm:w-64",placeholder:"Search by email, name, org...",value:d,onChange:q=>f(q.target.value)})]}),a.jsx(Se,{variant:"outline",onClick:()=>w(!0),className:"w-full sm:w-auto",children:"Invite User"})," ",a.jsx(Se,{onClick:()=>P(!0),className:"w-full sm:w-auto",children:"Add User"})," ",a.jsxs(Se,{variant:"secondary",onClick:ae,disabled:L,className:"w-full sm:w-auto",children:[L?a.jsx(rt,{className:"w-4 h-4 animate-spin mr-2"}):null,"Import CSV"]}),a.jsx("input",{ref:A,type:"file",accept:".csv,text/csv",className:"hidden",onChange:H})]})]}),a.jsx(ot,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[be.map(q=>a.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[" ",a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium truncate",children:q.admin_editable_name||q.full_name||"Unnamed"}),a.jsx("p",{className:"text-xs text-gray-600 truncate",children:q.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[a.jsx(hn,{variant:"outline",children:q.user_role||"prescriber"}),a.jsx(hn,{className:q.npi_status==="verified"?"bg-green-600 text-white":"bg-gray-200 text-gray-700",children:q.npi_status||"unverified"}),q.status&&a.jsx(hn,{className:q.status==="active"?"bg-blue-600 text-white":q.status==="invited"?"bg-yellow-500 text-black":q.status==="suspended"?"bg-red-600 text-white":"bg-gray-200 text-gray-700",children:q.status})]}),a.jsxs("div",{className:"text-xs text-gray-600 mt-2 space-y-1",children:[q.practice_name&&a.jsxs("p",{children:["Practice: ",q.practice_name]}),q.pharmacy_name&&a.jsxs("p",{children:["Pharmacy: ",q.pharmacy_name]}),(q.address||q.zip)&&a.jsxs("p",{children:[q.address," ",q.zip?`(${q.zip})`:""]}),q.phone&&a.jsxs("p",{children:["Phone: ",q.phone]}),q.npi&&a.jsxs("p",{children:["NPI: ",q.npi]})]})]}),a.jsxs("div",{className:"flex flex-row sm:flex-col flex-wrap gap-2 w-full sm:w-auto",children:[" ",a.jsx(Se,{variant:"outline",size:"sm",onClick:()=>ve(q),className:"flex-1 sm:flex-none min-w-[120px]",children:"Edit"}),a.jsxs(Se,{variant:"secondary",size:"sm",onClick:()=>ee(q),className:"gap-1 flex-1 sm:flex-none min-w-[150px]",children:[a.jsx(T0,{className:"w-4 h-4"})," Temp Password"]}),a.jsx(Se,{variant:"destructive",size:"sm",onClick:()=>W(q.id),className:"flex-1 sm:flex-none min-w-[120px]",children:"Delete"})]})]})},q.id)),be.length===0&&a.jsx("div",{className:"col-span-full text-sm text-gray-600 py-8 text-center",children:"No users match your search."})]})})]}),a.jsx(to,{open:I,onOpenChange:O,children:a.jsxs(Js,{className:"max-w-md",children:[a.jsxs(Zs,{children:[a.jsx(ti,{children:"Set Temporary Password"}),a.jsx(Gl,{children:"Provide a temporary password the user will replace at first login."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"User"}),a.jsx(Ie,{value:(F==null?void 0:F.email)||"",disabled:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Temporary Password"}),a.jsx(Ie,{value:ne,onChange:q=>de(q.target.value),placeholder:"e.g., Spring#2025!"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Expires (days)"}),a.jsx(Ie,{type:"number",min:"1",step:"1",value:String(te),onChange:q=>ie(q.target.value)})]})]}),a.jsxs(ei,{className:"pt-4",children:[a.jsx(Se,{variant:"ghost",onClick:()=>O(!1),children:"Cancel"}),a.jsx(Se,{onClick:xe,children:"Save"})]})]})}),a.jsx(to,{open:p,onOpenChange:v,children:a.jsxs(Js,{className:"max-w-lg",children:[a.jsx(Zs,{children:a.jsx(ti,{children:"Edit User"})}),g&&a.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-10rem)] overflow-y-auto pr-1",style:{WebkitOverflowScrolling:"touch"},children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Email"}),a.jsx(Ie,{value:g.email,disabled:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Display Name"}),a.jsx(Ie,{value:g.admin_editable_name,onChange:q=>u({...g,admin_editable_name:q.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Role"}),a.jsxs(Br,{value:g.user_role,onValueChange:q=>u({...g,user_role:q}),children:[a.jsx(vr,{children:a.jsx(zr,{placeholder:"Role"})}),a.jsxs(yr,{children:[a.jsx(pt,{value:"admin",children:"Admin"}),a.jsx(pt,{value:"prescriber",children:"Prescriber"}),a.jsx(pt,{value:"pharmacy_staff",children:"Pharmacy"}),a.jsx(pt,{value:"prescriber_staff",children:"Prescriber Staff"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"NPI Status"}),a.jsxs(Br,{value:g.npi_status,onValueChange:q=>u({...g,npi_status:q}),children:[a.jsx(vr,{children:a.jsx(zr,{placeholder:"NPI status"})}),a.jsxs(yr,{children:[a.jsx(pt,{value:"unverified",children:"Unverified"}),a.jsx(pt,{value:"pending",children:"Pending"}),a.jsx(pt,{value:"verified",children:"Verified"}),a.jsx(pt,{value:"rejected",children:"Rejected"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Practice Name"}),a.jsx(Ie,{value:g.practice_name,onChange:q=>u({...g,practice_name:q.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Pharmacy Name"}),a.jsx(Ie,{value:g.pharmacy_name,onChange:q=>u({...g,pharmacy_name:q.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Phone"}),a.jsx(Ie,{value:g.phone,onChange:q=>u({...g,phone:q.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"ZIP"}),a.jsx(Ie,{value:g.zip,onChange:q=>u({...g,zip:q.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Address"}),a.jsx(Ie,{value:g.address,onChange:q=>u({...g,address:q.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Point of Contact"}),a.jsx(Ie,{value:g.point_of_contact,onChange:q=>u({...g,point_of_contact:q.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"NPI"}),a.jsx(Ie,{value:g.npi||"",onChange:q=>u({...g,npi:q.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),a.jsxs(Br,{value:g.status||"active",onValueChange:q=>u({...g,status:q}),children:[a.jsx(vr,{children:a.jsx(zr,{placeholder:"Status"})}),a.jsxs(yr,{children:[a.jsx(pt,{value:"active",children:"Active"}),a.jsx(pt,{value:"invited",children:"Invited"}),a.jsx(pt,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Auth ID"}),a.jsx(Ie,{value:g.auth_id||"",onChange:q=>u({...g,auth_id:q.target.value}),placeholder:"External auth provider ID (optional)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Pharmacy ID"}),a.jsx(Ie,{value:g.pharmacy_id||"",onChange:q=>u({...g,pharmacy_id:q.target.value}),placeholder:"Link to Pharmacy.id (optional)"})]})]}),a.jsxs(ei,{className:"pt-4",children:[a.jsx(Se,{variant:"ghost",onClick:()=>v(!1),children:"Cancel"}),a.jsxs(Se,{onClick:pe,disabled:h,children:[h?a.jsx(rt,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save"]})]})]})}),a.jsx(to,{open:C,onOpenChange:P,children:a.jsxs(Js,{className:"max-w-lg",children:[a.jsx(Zs,{children:a.jsx(ti,{children:"Create User"})}),a.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-10rem)] overflow-y-auto pr-1",style:{WebkitOverflowScrolling:"touch"},children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Email"}),a.jsx(Ie,{value:j.email,onChange:q=>E({...j,email:q.target.value}),placeholder:"user@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Display Name"}),a.jsx(Ie,{value:j.admin_editable_name,onChange:q=>E({...j,admin_editable_name:q.target.value}),placeholder:"Shown name"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Role"}),a.jsxs(Br,{value:j.user_role,onValueChange:q=>E({...j,user_role:q}),children:[a.jsx(vr,{children:a.jsx(zr,{placeholder:"Role"})}),a.jsxs(yr,{children:[a.jsx(pt,{value:"admin",children:"Admin"}),a.jsx(pt,{value:"prescriber",children:"Prescriber"}),a.jsx(pt,{value:"pharmacy_staff",children:"Pharmacy"}),a.jsx(pt,{value:"prescriber_staff",children:"Prescriber Staff"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"NPI Status"}),a.jsxs(Br,{value:j.npi_status,onValueChange:q=>E({...j,npi_status:q}),children:[a.jsx(vr,{children:a.jsx(zr,{placeholder:"NPI status"})}),a.jsxs(yr,{children:[a.jsx(pt,{value:"unverified",children:"Unverified"}),a.jsx(pt,{value:"pending",children:"Pending"}),a.jsx(pt,{value:"verified",children:"Verified"}),a.jsx(pt,{value:"rejected",children:"Rejected"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Practice Name"}),a.jsx(Ie,{value:j.practice_name,onChange:q=>E({...j,practice_name:q.target.value}),placeholder:"If prescriber"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Pharmacy Name"}),a.jsx(Ie,{value:j.pharmacy_name,onChange:q=>E({...j,pharmacy_name:q.target.value}),placeholder:"If pharmacy"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Phone"}),a.jsx(Ie,{value:j.phone,onChange:q=>E({...j,phone:q.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"ZIP"}),a.jsx(Ie,{value:j.zip,onChange:q=>E({...j,zip:q.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Address"}),a.jsx(Ie,{value:j.address,onChange:q=>E({...j,address:q.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Point of Contact"}),a.jsx(Ie,{value:j.point_of_contact,onChange:q=>E({...j,point_of_contact:q.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"NPI"}),a.jsx(Ie,{value:j.npi,onChange:q=>E({...j,npi:q.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),a.jsxs(Br,{value:j.status,onValueChange:q=>E({...j,status:q}),children:[a.jsx(vr,{children:a.jsx(zr,{placeholder:"Status"})}),a.jsxs(yr,{children:[a.jsx(pt,{value:"active",children:"Active"}),a.jsx(pt,{value:"invited",children:"Invited"}),a.jsx(pt,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Auth ID"}),a.jsx(Ie,{value:j.auth_id,onChange:q=>E({...j,auth_id:q.target.value}),placeholder:"External auth provider ID (optional)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Pharmacy ID"}),a.jsx(Ie,{value:j.pharmacy_id,onChange:q=>E({...j,pharmacy_id:q.target.value}),placeholder:"Link to Pharmacy.id (optional)"})]})]}),a.jsxs(ei,{className:"pt-4",children:[a.jsx(Se,{variant:"ghost",onClick:()=>P(!1),children:"Cancel"}),a.jsxs(Se,{onClick:J,disabled:h||!j.email.trim(),children:[h?a.jsx(rt,{className:"w-4 h-4 animate-spin mr-2"}):null,"Create"]})]})]})}),a.jsx(to,{open:b,onOpenChange:w,children:a.jsxs(Js,{className:"max-w-md",children:[a.jsxs(Zs,{children:[a.jsx(ti,{children:"Invite a User"}),a.jsx(Gl,{children:"How to add new users"})]}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[a.jsx("p",{children:"To add a new user via the platform invite flow:"}),a.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[a.jsx("li",{children:"Go to your Base44 dashboard."}),a.jsx("li",{children:"Open the app’s Users section."}),a.jsx("li",{children:"Click Invite User and enter their email."})]}),a.jsx("p",{className:"text-gray-500",children:"Alternatively, use the Add User button above to pre-provision a user record, or Import CSV for bulk provisioning."})]}),a.jsx(ei,{className:"pt-4",children:a.jsx(Se,{onClick:()=>w(!1),children:"Done"})})]})})]})}function ij(){const[e,t]=U.useState(null),[n,s]=U.useState(!0),[o,l]=U.useState([]),[d,f]=U.useState("");U.useEffect(()=>{(async()=>{try{const h=await Je.me();if(t(h),(h==null?void 0:h.user_role)==="admin"){const y=await Je.filter({npi_status:"pending"},"-created_date",200);l(y)}}finally{s(!1)}})()},[]);const p=async(u,h)=>{await Je.update(u.id,{npi_status:"verified",user_role:h||u.user_role||"prescriber"}),l(y=>y.filter(b=>b.id!==u.id))},v=async u=>{await Je.update(u.id,{npi_status:"rejected"}),l(h=>h.filter(y=>y.id!==u.id))},g=o.filter(u=>{const h=d.trim().toLowerCase();return h?(u.email||"").toLowerCase().includes(h)||(u.full_name||"").toLowerCase().includes(h)||(u.practice_name||"").toLowerCase().includes(h)||(u.pharmacy_name||"").toLowerCase().includes(h):!0});return n?a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Loading pending NPIs..."]}):!e||e.user_role!=="admin"?a.jsx("div",{className:"p-6",children:a.jsxs(tt,{className:"max-w-2xl mx-auto",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"NPI Verification"}),a.jsx(Ct,{children:"Admins only."})]}),a.jsx(ot,{children:a.jsx("p",{className:"text-sm text-gray-600",children:"You do not have permission to access this page."})})]})}):a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-6xl mx-auto",children:[a.jsxs(_t,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wp,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{children:[a.jsx(wt,{children:"NPI Verification"}),a.jsx(Ct,{children:"Approve or reject users awaiting verification."})]})]}),a.jsx(Ie,{placeholder:"Search by email or name...",value:d,onChange:u=>f(u.target.value),className:"w-full sm:w-80"})]}),a.jsx(ot,{children:g.length===0?a.jsx("div",{className:"text-sm text-gray-600 py-10 text-center",children:"No pending users."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:g.map(u=>a.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:u.full_name||u.admin_editable_name||"Unnamed"}),a.jsx("p",{className:"text-xs text-gray-600 truncate",children:u.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(hn,{variant:"outline",children:u.user_role||"prescriber"}),a.jsx(hn,{className:"bg-amber-500 text-white",children:"pending"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Br,{defaultValue:u.user_role||"prescriber",onValueChange:h=>{u.__selectedRole=h},children:[a.jsx(vr,{className:"h-8",children:a.jsx(zr,{placeholder:"Role"})}),a.jsxs(yr,{children:[a.jsx(pt,{value:"prescriber",children:"Prescriber"}),a.jsx(pt,{value:"pharmacy_staff",children:"Pharmacy"}),a.jsx(pt,{value:"admin",children:"Admin"})]})]}),a.jsxs(Se,{size:"sm",className:"w-full",onClick:()=>p(u,u.__selectedRole),children:[a.jsx(Wp,{className:"w-4 h-4 mr-1"})," Verify"]}),a.jsxs(Se,{size:"sm",variant:"destructive",className:"w-full",onClick:()=>v(u),children:[a.jsx(rA,{className:"w-4 h-4 mr-1"})," Reject"]})]})]})},u.id))})})]})})}const lU=({status:e})=>{const t={pending:"bg-amber-100 text-amber-800",has_in_stock:"bg-emerald-100 text-emerald-800",no_stock:"bg-red-100 text-red-800"};return a.jsx(hn,{className:t[e]||"bg-gray-100 text-gray-800",children:e})};function oj(){const[e,t]=U.useState(!0),[n,s]=U.useState([]),[o,l]=U.useState("all"),[d,f]=U.useState("");U.useEffect(()=>{(async()=>{try{const g=await Ht.filter({},"-created_date",200);s(g)}finally{t(!1)}})()},[]);const p=n.filter(v=>{const g=o==="all"||v.status===o,u=d.trim().toLowerCase(),h=`${v.medication_name||""} ${v.prescriber_email||""}`.toLowerCase();return g&&(u?h.includes(u):!0)});return e?a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Loading requests..."]}):a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-7xl mx-auto",children:[a.jsxs(_t,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(UR,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx(wt,{children:"Medication Requests"}),a.jsx(Ct,{children:"Non-PHI overview of broadcast requests and statuses."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Br,{value:o,onValueChange:l,children:[a.jsx(vr,{className:"w-40",children:a.jsx(zr,{placeholder:"Status"})}),a.jsxs(yr,{children:[a.jsx(pt,{value:"all",children:"All"}),a.jsx(pt,{value:"pending",children:"Pending"}),a.jsx(pt,{value:"has_in_stock",children:"Has In Stock"}),a.jsx(pt,{value:"no_stock",children:"No Stock"})]})]}),a.jsx(Ie,{placeholder:"Search med or prescriber email…",value:d,onChange:v=>f(v.target.value),className:"w-64"})]})]}),a.jsx(ot,{children:p.length===0?a.jsx("div",{className:"text-sm text-gray-600 py-10 text-center",children:"No requests found."}):a.jsx("div",{className:"divide-y",children:p.map(v=>a.jsxs("div",{className:"py-3 flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-800 truncate",children:v.medication_name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Prescriber: ",v.prescriber_email||"—"]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Created: ",_g(v.created_date)]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(lU,{status:v.status}),a.jsxs(hn,{variant:"outline",children:[v.radius||0," mi"]})]})]},v.id))})})]})})}st.functions.sendToTrillian;const cU=st.functions.rxnormSearch,uU=st.functions.broadcastStockCheck,dU=st.functions.getMedicationStrengths,Uu=st.functions.manageStaff;st.functions.adminCreateUser;st.functions.events;st.functions.pingBellNotify;st.functions.respondToStockCheck;const fU=st.functions.sendKeragonSms;st.functions.checkControlledSubstance;const hU=st.functions.getPrescriptionPublic;st.functions.respondToPublicInquiry;st.functions.eventsHealth;st.functions.keragon_emit;st.functions.sendToKeragon;function aj(){const[e,t]=U.useState(null),[n,s]=U.useState(!0),[o,l]=U.useState([]),[d,f]=U.useState(null),[p,v]=U.useState(""),[g,u]=U.useState(!1),[h,y]=U.useState(!1);U.useEffect(()=>{(async()=>{try{const E=await Je.me();if(t(E),E.user_role!=="prescriber"&&E.user_role!=="admin"){s(!1);return}const{data:L}=await Uu({action:"list"});l(L.staff||[]),f(L.practice||null)}finally{s(!1)}})()},[]);const b=async()=>{const{data:j}=await Uu({action:"list"});l(j.staff||[]),f(j.practice||null)},w=async()=>{if(p.trim()){u(!0);try{await Uu({action:"add",email:p.trim()}),v(""),await b()}finally{u(!1)}}},C=async j=>{y(!0);try{await Uu({action:"remove",email:j}),await b()}finally{y(!1)}};if(n)return a.jsxs("div",{className:"p-6 flex items-center justify-center min-h-[50vh] text-gray-700",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Loading team..."]});if(!e||e.user_role!=="prescriber"&&e.user_role!=="admin")return a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-xl mx-auto",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Team Access"}),a.jsx(Ct,{children:"Only prescribers or admins can manage staff."})]}),a.jsx(ot,{children:a.jsx("p",{className:"text-sm text-gray-600",children:"Please log in as a prescriber to view and manage staff access."})})]})});const P=Math.max(0,5-o.length);return a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-2xl mx-auto",children:[a.jsx(_t,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mA,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx(wt,{children:"Team Access"}),a.jsx(Ct,{children:"Add up to 5 staff by email. They’ll use your practice info (no PHI)."})]})]})}),a.jsxs(ot,{className:"space-y-6",children:[d&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Practice:"}),a.jsx(hn,{variant:"outline",children:d.name})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(Ie,{placeholder:"staff@example.com",value:p,onChange:j=>v(j.target.value),className:"flex-1",inputMode:"email"}),a.jsxs(Se,{onClick:w,disabled:!p.trim()||g||P<=0,className:"gap-2",children:[g?a.jsx(rt,{className:"w-4 h-4 animate-spin"}):a.jsx(N0,{className:"w-4 h-4"}),"Add Staff"]})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Remaining slots: ",P]}),a.jsx("div",{className:"space-y-2",children:o.length===0?a.jsx("div",{className:"text-sm text-gray-600",children:"No staff yet."}):o.map(j=>a.jsxs("div",{className:"flex items-center justify-between border rounded-md p-2 bg-white",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:j.email}),j.full_name?a.jsx("p",{className:"text-xs text-gray-500 truncate",children:j.full_name}):null]}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>C(j.email),disabled:h,className:"gap-1",children:[a.jsx(oc,{className:"w-4 h-4"})," Remove"]})]},j.id))}),a.jsx("div",{className:"text-xs text-gray-500",children:"Staff access is limited to non-PHI workflows (requests and messaging snapshots)."})]})]})})}function lj(){const[e,t]=U.useState(!0),[n,s]=U.useState([]);return U.useEffect(()=>{(async()=>{try{const l=await Ml.filter({},"-accuracy_score",200);s(l)}finally{t(!1)}})()},[]),e?a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Loading analytics..."]}):a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-4xl mx-auto",children:[a.jsxs(_t,{children:[a.jsxs(wt,{className:"flex items-center gap-2",children:[a.jsx(_R,{className:"w-5 h-5 text-indigo-600"}),"Pharmacy Ranking"]}),a.jsx(Ct,{children:"Accuracy is fulfilled_count / yes_responses."})]}),a.jsx(ot,{children:n.length===0?a.jsx("div",{className:"text-sm text-gray-600",children:"No analytics yet."}):a.jsx("div",{className:"divide-y",children:n.map(o=>a.jsxs("div",{className:"py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:o.pharmacy_name||o.pharmacy_email}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Yes: ",o.yes_responses||0," • Accepted: ",o.accepted_responses||0," • Ready: ",o.ready_count||0," • Fulfilled: ",o.fulfilled_count||0]})]}),a.jsxs(hn,{className:"bg-indigo-100 text-indigo-800",children:[(Number(o.accuracy_score||0)*100).toFixed(0),"%"]})]},o.id))})})]})})}async function Fw(e){const t=new TextEncoder,n=await crypto.subtle.digest("SHA-256",t.encode(e));return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function cj(){const[e,t]=U.useState(!0),[n,s]=U.useState(null),[o,l]=U.useState(""),[d,f]=U.useState(""),[p,v]=U.useState(""),[g,u]=U.useState(!1),[h,y]=U.useState("");U.useEffect(()=>{(async()=>{try{const C=await Je.me();if(s(C),!C.requires_password_reset){const P=window.__RTX_NAVIGATE__;typeof P=="function"?P(Le("Home")):window.location.href=Le("Home");return}}catch{const C=window.__RTX_NAVIGATE__;typeof C=="function"?C(Le("signin")):window.location.href=Le("signin");return}finally{t(!1)}})()},[]);const b=async()=>{if(!g){if(y(""),!o||!d||!p){y("Please fill all fields.");return}if(d!==p){y("Passwords do not match.");return}u(!0);try{const w=await Fw(o);if(n.temp_password_hash&&n.temp_password_hash!==w){y("Temporary password is incorrect."),u(!1);return}const C=Date.now();if(n.temp_password_expires&&new Date(n.temp_password_expires).getTime()<C){y("Temporary password has expired."),u(!1);return}const P=await Fw(d);await Je.updateMyUserData({app_password_hash:P,requires_password_reset:!1,temp_password_hash:null,temp_password_expires:null});const j=window.__RTX_NAVIGATE__;typeof j=="function"?j(Le("Home")):window.location.href=Le("Home")}finally{u(!1)}}};return e?a.jsxs("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-600",children:[a.jsx(rt,{className:"w-6 h-6 animate-spin mr-2"})," Preparing reset..."]}):a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)] flex items-center justify-center",children:a.jsxs(tt,{className:"w-full max-w-md",children:[a.jsxs(_t,{children:[a.jsxs(wt,{className:"flex items-center gap-2",children:[a.jsx(T0,{className:"w-5 h-5 text-blue-600"}),"Set Your Password"]}),a.jsx(Ct,{children:"Enter the temporary password from your admin, then create a new one."})]}),a.jsxs(ot,{className:"space-y-3",children:[h&&a.jsx("div",{className:"text-sm text-red-600",children:h}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Temporary Password"}),a.jsx(Ie,{value:o,onChange:w=>l(w.target.value),type:"password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"New Password"}),a.jsx(Ie,{value:d,onChange:w=>f(w.target.value),type:"password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Confirm New Password"}),a.jsx(Ie,{value:p,onChange:w=>v(w.target.value),type:"password"})]}),a.jsxs(Se,{onClick:b,disabled:g,className:"w-full",children:[g?a.jsx(rt,{className:"w-4 h-4 animate-spin mr-2"}):a.jsx(Wp,{className:"w-4 h-4 mr-2"}),"Save and Continue"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Note: This password is used inside the app (auth remains via secure sign-in)."})]})]})})}function pU({allowControlledSubstances:e=!1,onBroadcastComplete:t}){const[n,s]=U.useState(""),[o,l]=U.useState(!1),[d,f]=U.useState([]),[p,v]=U.useState(null),[g,u]=U.useState([]),[h,y]=U.useState(-1),[b,w]=U.useState(!1),[C,P]=U.useState(null),[j,E]=U.useState(""),[L,D]=U.useState(""),[A,I]=U.useState(10),[O,F]=U.useState(!0),[K,ne]=U.useState(""),[de,te]=U.useState(!1),[ie,be]=U.useState(""),[ve,pe]=U.useState(!1),W=!!p&&h>=0&&L.trim().length>=5&&Number(A)>0&&Number(j)>0&&K!=="",J=U.useRef(null);U.useEffect(()=>{if(!n||n.trim().length<2){f([]);return}return J.current&&clearTimeout(J.current),J.current=setTimeout(async()=>{l(!0);const{data:Y}=await cU({query:n.trim(),includeControlled:!!e});f(Array.isArray(Y==null?void 0:Y.suggestions)?Y.suggestions:[]),l(!1)},350),()=>{J.current&&clearTimeout(J.current)}},[n,e]);const ae=async Y=>{v(Y),y(-1),u([]);const se=Y!=null&&Y.desired_strength&&(Y!=null&&Y.desired_strength.value)&&(Y!=null&&Y.desired_strength.unit)?{value:Number(Y.desired_strength.value),unit:String(Y.desired_strength.unit).toLowerCase().replace(/s$/,"")}:null;if(P(se),!Y)return;w(!0);const{data:re}=await dU({name:Y.name,rxcui:Y.rxcui,includeControlled:!!e}),ge=Array.isArray(re==null?void 0:re.strengths)?re.strengths:[];if(u(ge),w(!1),se&&Array.isArray(ge)&&ge.length>0){const we=Ue=>{const le=H(Ue);return le?{value:Number(le.value),unit:String(le.unit)}:null};let Oe=-1;for(let Ue=0;Ue<ge.length;Ue++){const le=ge[Ue],Fe=we((le==null?void 0:le.strength)||(le==null?void 0:le.label)||(le==null?void 0:le.name));if(Fe&&Fe.unit===se.unit&&Math.abs(Fe.value-se.value)<1e-4){Oe=Ue;break}}Oe>=0&&y(Oe)}};function H(Y){const re=String(Y||"").toLowerCase().match(/(\d+(?:\.\d+)?)\s*(mg|g|mcg|ml|units?)/i);return re?{value:Number(re[1]),unit:re[2].toLowerCase().replace(/s$/,"")}:null}const ee=Y=>Y?Y.label?Y.label:Y.strength&&Y.form?`${Y.strength} — ${Y.form}`:Y.name||"Option":"";U.useEffect(()=>{if(!K){be("");return}let Y="";K==="medicare_medicaid"||K==="unsure"?Y="Pricing information for Medicare or Medicaid covered prescriptions is not available in this app. Please advise your patient to contact their pharmacy directly for coverage and cost details.":K==="commercial_private"?Y=de?"You are viewing cash pricing only. Insurance benefits are not applied through this app.":"Insurance pricing is not displayed in this app. Please advise your patient to contact their pharmacy for insurance coverage and cost information.":K==="no_insurance"&&(Y="You are viewing cash pricing only. Insurance is not billed or processed in this app."),be(Y)},[K,de]);const xe=async Y=>{if(Y.preventDefault(),!W)return;const se=g[h],re={id:String((se==null?void 0:se.rxcui)||(p==null?void 0:p.rxcui)||(p==null?void 0:p.name)||"med"),rxcui:String((se==null?void 0:se.rxcui)||(p==null?void 0:p.rxcui)||""),name:(p==null?void 0:p.name)||(se==null?void 0:se.label)||"Medication",display_name:(p==null?void 0:p.display_name)||(p==null?void 0:p.name)||(se?ee(se):"Medication"),dosage:(se==null?void 0:se.strength)||null,form:(se==null?void 0:se.form)||null,quantity:Number(j)||null};pe(!0);const{data:ge}=await uU({zip:L.trim(),radius:Number(A),generic_acceptable:!!O,medications:[re],insurance_coverage_type:K,cash_pricing_requested:!!de});pe(!1),typeof t=="function"&&t({requestId:(ge==null?void 0:ge.medication_request_id)||null,referenceNumber:(ge==null?void 0:ge.reference_number)||null})},q=Array.isArray(d)?d.slice(0,4):[];return a.jsxs("div",{className:"space-y-2 sm:space-y-3 overflow-x-hidden",children:[a.jsx(tt,{className:"border-amber-200",children:a.jsx(ot,{className:"p-2 sm:p-3",children:a.jsx("div",{className:"text-[10px] sm:text-[11px] text-amber-700 leading-snug",children:"Do not enter any patient PHI. This tool only checks pharmacy stock availability."})})}),a.jsxs("form",{onSubmit:xe,className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{className:"label",children:"Medication search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ie,{value:n,onChange:Y=>s(Y.target.value),placeholder:"Search generic or brand name…",className:"pr-10 h-9"}),a.jsx(Gm,{className:"w-4 h-4 text-gray-400 absolute right-3 top-1/2 -translate-y-1/2"})]}),o&&a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[a.jsx(rt,{className:"w-3.5 h-3.5 animate-spin"}),"Searching…"]}),q.length>0&&a.jsx("div",{className:"border rounded-md overflow-hidden max-h-28 sm:max-h-40 overflow-y-hidden",children:q.map((Y,se)=>a.jsx("button",{type:"button",className:`w-full text-left px-3 py-2 hover:bg-gray-50 ${(p==null?void 0:p.rxcui)===Y.rxcui?"bg-gray-50":""}`,onClick:()=>ae(Y),title:Y.display_name||Y.name,children:a.jsx("div",{className:"text-sm font-medium truncate",children:Y.display_name||Y.name})},`${Y.rxcui||Y.name}-${se}`))})]}),p&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{className:"label",children:"Strength & form"}),b?a.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[a.jsx(rt,{className:"w-3.5 h-3.5 animate-spin"}),"Loading strengths…"]}):g.length>0?a.jsxs("select",{className:"select h-9",value:String(h),onChange:Y=>y(Number(Y.target.value)),children:[a.jsx("option",{value:-1,disabled:!0,children:"Select a strength/form…"}),g.map((Y,se)=>a.jsx("option",{value:se,children:ee(Y)},`${Y.rxcui||se}`))]}):a.jsx("div",{className:"text-xs text-gray-500",children:"No strength/form options found for this drug name."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 items-end",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{className:"label",children:"Quantity"}),a.jsx(Ie,{value:j,onChange:Y=>E(Y.target.value.replace(/[^\d]/g,"")),inputMode:"numeric",placeholder:"e.g., 30",className:"h-10"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{className:"label",children:"ZIP"}),a.jsx(Ie,{value:L,onChange:Y=>D(Y.target.value.replace(/[^\d]/g,"").slice(0,5)),inputMode:"numeric",placeholder:"ZIP",maxLength:5,className:"h-10"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 items-end",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{className:"label",children:"Search radius"}),a.jsxs("select",{className:"select h-10",value:A,onChange:Y=>I(Number(Y.target.value)),children:[a.jsx("option",{value:5,children:"5 miles"}),a.jsx("option",{value:10,children:"10 miles"}),a.jsx("option",{value:25,children:"25 miles"}),a.jsx("option",{value:50,children:"50 miles"})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{className:"label",children:"Patient’s Insurance Coverage Type"}),a.jsxs("select",{className:"select h-10",value:K,onChange:Y=>{const se=Y.target.value;ne(se),se!=="commercial_private"&&te(!1)},required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Select insurance type…"}),a.jsx("option",{value:"medicare_medicaid",children:"Medicare or Medicaid"}),a.jsx("option",{value:"commercial_private",children:"Commercial/Private Insurance"}),a.jsx("option",{value:"no_insurance",children:"No Insurance Coverage"}),a.jsx("option",{value:"unsure",children:"Unsure"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bd,{id:"genericOk",checked:O,onCheckedChange:Y=>F(!!Y)}),a.jsx("label",{htmlFor:"genericOk",className:"text-sm",children:"Generic acceptable"})]}),K==="commercial_private"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bd,{id:"cashPrice",checked:de,onCheckedChange:Y=>te(!!Y)}),a.jsx("label",{htmlFor:"cashPrice",className:"text-sm",children:"Show cash price"})]})]}),ie&&a.jsx(tt,{className:"border-blue-200",children:a.jsx(ot,{className:"p-2 sm:p-3",children:a.jsx("div",{className:"text-[10px] sm:text-[11px] text-blue-700 leading-snug",children:ie})})}),a.jsx("div",{className:"sticky-actions",children:a.jsx("div",{className:"actions",style:{margin:"8px 8px calc(8px + env(safe-area-inset-bottom))"},children:a.jsx(Se,{type:"submit",className:"flex-1",disabled:!W||ve,children:ve?a.jsxs(a.Fragment,{children:[a.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Broadcasting…"]}):a.jsxs(a.Fragment,{children:[a.jsx(E0,{className:"w-4 h-4 mr-2"}),"Send to pharmacies"]})})})})]})]})}function uj(){const t=new URLSearchParams(window.location.search).has("hide_badge"),[n,s]=U.useState(!1);return U.useEffect(()=>{(async()=>{try{const o=await Je.me(),l=(o==null?void 0:o.user_role)==="prescriber"&&(o==null?void 0:o.npi_status)==="verified",d=(o==null?void 0:o.user_role)==="prescriber_staff";s(!!(l||d))}catch{s(!1)}})()},[]),a.jsx("div",{className:"page",children:t?a.jsxs(a.Fragment,{children:[a.jsx("h1",{style:{fontWeight:700,fontSize:18,margin:"8px 12px 4px"},children:"Start New"}),a.jsx("div",{className:"form-card p-2",id:"formCard",style:{maxHeight:"none",overflow:"visible"},children:a.jsx("div",{className:"text-sm text-gray-600",children:"Preview mode: data calls disabled."})})]}):a.jsxs(a.Fragment,{children:[a.jsx("h1",{style:{fontWeight:700,fontSize:18,margin:"8px 12px 4px"},children:"Start New"}),a.jsx("div",{className:"form-card p-2",id:"formCard",style:{maxHeight:"none",overflow:"visible"},children:a.jsx(pU,{allowControlledSubstances:n,onBroadcastComplete:({requestId:o,referenceNumber:l})=>{if(o){const d=window.__RTX_NAVIGATE__,f=`/PrescriberRequest?requestId=${encodeURIComponent(o)}`;typeof d=="function"?d(f):window.location.href=f}else{const d=window.__RTX_NAVIGATE__;typeof d=="function"?d("/PrescriberTool"):window.location.href="/PrescriberTool"}}})})]})})}function mU(e){if(!e||typeof e!="object")return null;const t=Object.values(e).map(n=>Number(n)).filter(n=>Number.isFinite(n));return t.length?t.reduce((n,s)=>n+s,0):null}function gU({requestId:e,onBack:t}){const[n,s]=U.useState(!0),[o,l]=U.useState(null),[d,f]=U.useState(""),[p,v]=U.useState(!1),[g,u]=U.useState(""),h=U.useCallback(async()=>{s(!0);const A=await Ht.get(e);l(A),s(!1),f(new Date().toISOString())},[e]);U.useEffect(()=>{e&&h()},[e,h]),U.useEffect(()=>{if(!e||new URLSearchParams(window.location.search).has("hide_badge"))return;const O=dn("request_update",F=>{try{const K=(F==null?void 0:F.requestId)||(F==null?void 0:F.request_id)||(F==null?void 0:F.requestID),ne=((F==null?void 0:F.status)||"").toLowerCase();if(String(K)===String(e)){if(ne==="options_available"||ne==="accepted"||ne==="ready")try{Sn({volume:1})}catch{}h()}}catch{}});return _s(),()=>{O()}},[e,h]);const y=U.useMemo(()=>{const A=o==null?void 0:o.insurance_coverage_type;return!A||A==="medicare_medicaid"||A==="unsure"?!1:A==="commercial_private"?!!(o!=null&&o.cash_pricing_requested):A==="no_insurance"},[o]),b=U.useMemo(()=>{const A=o==null?void 0:o.insurance_coverage_type;return A?A==="medicare_medicaid"||A==="unsure"?"Pricing information for Medicare or Medicaid covered prescriptions is not available in this app. Please advise your patient to contact their pharmacy directly for coverage and cost details.":A==="commercial_private"?o!=null&&o.cash_pricing_requested?"You are viewing cash pricing only. Insurance benefits are not applied through this app.":"Insurance pricing is not displayed in this app. Please advise your patient to contact their pharmacy for insurance coverage and cost information.":A==="no_insurance"?"You are viewing cash pricing only. Insurance is not billed or processed in this app.":"":""},[o]),w=A=>{const I=String(A||"pending").replaceAll("_"," "),O=A==="ready"||A==="has_in_stock"?"bg-green-100 text-green-800":A==="accepted"?"bg-indigo-100 text-indigo-800":A==="fulfilled"?"bg-gray-200 text-gray-700":A==="no_stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800";return a.jsx(hn,{className:O,children:I})},C=async A=>{var O;if(!o||!A)return;const I=new Date().toISOString();if(await Ht.update(o.id,{accepted_pharmacy_email:A.pharmacy_email||null,accepted_pharmacy_thread_id:A.thread_id||null,accepted_date:I,status:"accepted"}),A.pharmacy_email){await ad.create({user_email:A.pharmacy_email,recipient_role:"pharmacy_staff",title:"You were selected to fill a prescription",link_to_thread_id:A.thread_id||null,meta:{reference_number:o.reference_number||null,status:"accepted",med_names:(o.medications||[]).map(F=>F.name).slice(0,3)}});try{await wm({channel:A.pharmacy_email,event:"request_update",payload:{requestId:o.id,status:"accepted",med_name:o.medications&&((O=o.medications[0])==null?void 0:O.name)||o.medication_name||"Medication",updated_at:I}})}catch{}}await h()},P=async()=>{if(!(o!=null&&o.reference_number)||!g)return;const A=window.location.origin+Le(`MedicationPublic?reference_number=${encodeURIComponent(o.reference_number)}`);await fU({patient_mobile_number:g,reference_number:o.reference_number,qr_url:A}),v(!1),u("")};if(n)return a.jsx("div",{className:"p-4 flex items-center justify-center",children:a.jsx(rt,{className:"w-6 h-6 animate-spin text-indigo-600"})});if(!o)return a.jsx("div",{className:"p-4",children:a.jsx(tt,{children:a.jsxs(ot,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Request not found."}),a.jsx("div",{className:"mt-3",children:a.jsxs(Se,{variant:"secondary",onClick:t,children:[a.jsx($x,{className:"w-4 h-4 mr-1"})," Back"]})})]})})});const j=Array.isArray(o.medications)&&o.medications.length?o.medications:o.medication_name?[{name:o.medication_name,dosage:o.dosage,quantity:o.quantity}]:[],E=Array.isArray(o.pharmacy_responses)?o.pharmacy_responses:[],L=!!o.accepted_pharmacy_thread_id,D=o!=null&&o.reference_number?window.location.origin+Le(`MedicationPublic?reference_number=${encodeURIComponent(o.reference_number)}`):"";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Se,{variant:"secondary",size:"sm",onClick:t,children:[a.jsx($x,{className:"w-4 h-4 mr-1"}),"Back"]})}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsxs("span",{children:["Last checked: ",d?new Date(d).toLocaleTimeString():"-"]}),a.jsx(Se,{variant:"ghost",size:"icon",onClick:h,title:"Refresh",children:a.jsx(qm,{className:"w-4 h-4"})})]})]}),a.jsxs(tt,{children:[a.jsxs(_t,{className:"pb-2",children:[a.jsxs(wt,{children:["Ref #",o.reference_number||"—"]}),a.jsxs(Ct,{children:["Created ",_g(o.created_date)," • ",w(o.status)]})]}),a.jsxs(ot,{className:"p-4",children:[a.jsx("div",{className:"mb-3 font-semibold",children:"Medications"}),a.jsx("ul",{className:"text-sm space-y-1",children:j.map((A,I)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-white text-xs font-bold flex-shrink-0",children:I+1}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium",children:A.name||"Medication"}),a.jsxs("div",{className:"text-xs text-gray-600",children:[A.dosage?`${A.dosage}`:"",A.form?` • ${A.form}`:"",typeof A.quantity=="number"?` • Qty: ${A.quantity}`:""]})]})]},I))})]})]}),a.jsxs(tt,{children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Pharmacy responses"}),a.jsx(Ct,{children:"Updates appear here as pharmacies respond."})]}),a.jsxs(ot,{className:"p-4",children:[b?a.jsx("div",{className:"mb-3 rounded-md border border-blue-200 bg-blue-50 text-blue-800 text-sm p-3",children:b}):null,E.length===0?a.jsx("div",{className:"text-sm text-gray-600",children:"No responses yet."}):a.jsx("div",{className:"space-y-3",children:E.map((A,I)=>{const O=mU(A==null?void 0:A.med_prices)??(Number.isFinite(A==null?void 0:A.cash_price)?A.cash_price:null),F=(A==null?void 0:A.status)==="in_stock"?"In stock":(A==null?void 0:A.status)==="out_of_stock"?"Out of stock":"Pending",K=(A==null?void 0:A.status)==="in_stock"?"bg-green-100 text-green-800":(A==null?void 0:A.status)==="out_of_stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",ne=y&&Number.isFinite(O),de=L&&String(o.accepted_pharmacy_thread_id)===String(A.thread_id);return a.jsxs("div",{className:"rtx-card",children:[a.jsxs("div",{className:"rtx-row",children:[a.jsxs("div",{className:"rtx-col min-w-0",children:[a.jsx("div",{className:"rtx-title truncate",children:(A==null?void 0:A.pharmacy_name)||"Pharmacy"}),a.jsxs("div",{className:"rtx-muted",children:[A!=null&&A.zip?`ZIP ${A.zip}`:"",A!=null&&A.distance_miles?` • ${A.distance_miles.toFixed(1)} mi`:""]}),A!=null&&A.response_date?a.jsxs("div",{className:"text-xs text-gray-500",children:["Updated ",hO(A.response_date)]}):null]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(hn,{className:K,children:F}),ne?a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-50 text-emerald-900 border border-emerald-200",children:[a.jsx("span",{className:"text-[11px] uppercase tracking-wide font-semibold",children:"Total"}),a.jsxs("span",{className:"font-bold",children:["$",Number(O).toFixed(2)]})]}):null]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:de?a.jsx(hn,{className:"bg-indigo-100 text-indigo-800",children:"Selected"}):a.jsx(Se,{size:"sm",variant:"secondary",disabled:(A==null?void 0:A.status)!=="in_stock"||L,onClick:()=>C(A),children:"Select pharmacy"})})]},I)})}),L&&a.jsx("div",{className:"mt-4 px-3 flex justify-end",children:a.jsx(Se,{size:"sm",onClick:()=>v(!0),children:"Share with patient"})})]})]}),a.jsx(to,{open:p,onOpenChange:v,children:a.jsxs(Js,{children:[a.jsx(Zs,{children:a.jsx(ti,{children:"Share with patient"})}),a.jsxs("div",{className:"space-y-4",children:[D?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{alt:"Scan QR to view prescription",className:"w-72 h-72 sm:w-80 sm:h-80 border rounded",src:`https://api.qrserver.com/v1/create-qr-code/?size=520x520&data=${encodeURIComponent(D)}`}),a.jsx("div",{className:"mt-2 text-xs text-gray-600 break-all text-center px-2",children:D})]}):null,a.jsx("div",{className:"text-sm text-gray-600",children:"Send a secure link by SMS or have the patient scan the QR code. No PHI is included."}),a.jsx(Ie,{placeholder:"Patient mobile number (e.g., 555-555-5555)",value:g,onChange:A=>u(A.target.value),inputMode:"tel"})]}),a.jsxs(ei,{children:[a.jsx(Se,{variant:"secondary",onClick:()=>v(!1),children:"Cancel"}),a.jsx(Se,{onClick:P,disabled:!g||!(o!=null&&o.reference_number),children:"Send SMS"})]})]})})]})}function dj(){const[e,t]=U.useState(null);return U.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("requestId");t(s||null)},[]),e?a.jsxs("div",{className:"page",children:[a.jsx("h1",{style:{fontWeight:700,fontSize:18,margin:"8px 12px 4px"},children:"Request"}),a.jsx("div",{style:{margin:"0 12px"},children:a.jsx(gU,{requestId:e,onBack:()=>{const n=window.__RTX_NAVIGATE__;typeof n=="function"?n("PrescriberTool"):window.location.href=Le("PrescriberTool")}})})]}):a.jsxs("div",{className:"page",children:[a.jsx("h1",{style:{fontWeight:700,fontSize:18,margin:"8px 12px 4px"},children:"Request"}),a.jsx("div",{className:"form-card",children:a.jsx("div",{className:"text-sm text-gray-600",children:"No request ID provided."})})]})}const vU=["Medication","Pharmacy","ChatMessage","Thread","Message","Notification","AppSettings","MedicationRequest","Practice","PharmacyStats","User"],Uw=new Set(["name","brand_name","generic_name","dosage","form","ndc","manufacturer","chain","address","city","state","zip","phone","pharmacist_on_duty","npi","prescriber_email","rxcui","reference_number","status","pharmacy_email","pharmacy_name","author","author_name","title","recipient_role","user_email","helpdesk_phone_number","prescriber_practice_name","initiated_by","owner_email","practice_name","specialty","user_role","admin_editable_name","delegated_by","hours_of_operation","point_of_contact","auth_id","pharmacy_id","practice_id","wickr_id"]);function fj(){const[e,t]=U.useState([]);U.useEffect(()=>{(async()=>{const s=[];for(const o of vU)try{const l=ni[o];if(!l||typeof l.schema!="function")continue;const d=await l.schema(),f=[],p=(d==null?void 0:d.properties)||{};Object.entries(p).forEach(([v,g])=>{var u;(g==null?void 0:g.type)==="string"&&!Uw.has(v)&&f.push({field:v,description:g.description||""}),(g==null?void 0:g.type)==="array"&&((u=g==null?void 0:g.items)==null?void 0:u.type)==="string"&&!Uw.has(v)&&f.push({field:v,description:g.description||""})}),f.length>0&&s.push({entity:o,risky:f})}catch{}t(s)})()},[]);const n=e.length>0;return a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-5xl mx-auto",children:[a.jsxs(_t,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dA,{className:`w-5 h-5 ${n?"text-amber-600":"text-emerald-600"}`}),a.jsx(wt,{children:"Security Check (PHI Risk Scan)"})]}),a.jsx(Ct,{children:"Automatically scans entity schemas for potentially risky free-text string fields. Only trusted, structured fields should exist. This tool is advisory and cannot guarantee compliance."})]}),a.jsxs(ot,{children:[n?a.jsx("div",{className:"space-y-4",children:e.map(s=>a.jsxs("div",{className:"border rounded-md p-3 bg-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(hn,{variant:"outline",children:s.entity}),a.jsxs("span",{className:"text-sm text-amber-700",children:[s.risky.length," potential risk",s.risky.length>1?"s":""]})]}),a.jsx("ul",{className:"list-disc pl-6 text-sm text-gray-700",children:s.risky.map((o,l)=>a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:o.field}),o.description?a.jsxs("span",{className:"text-gray-500",children:[" — ",o.description]}):null]},l))})]},s.entity))}):a.jsx("div",{className:"text-sm text-emerald-700",children:"No risky string fields detected in known entities."}),a.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"Reminder: This platform is only for general medication inventory and pharmacy lookup. Never use for patient-specific data or PHI."})]})]})})}function hj(){const[e,t]=U.useState(null),[n,s]=U.useState([]),[o,l]=U.useState(!0),[d,f]=U.useState(!1),[p,v]=U.useState({medication_key:"",medication_name:"",dosage:"",form:"",ndc:"",cash_price:""});U.useEffect(()=>{(async()=>{try{const b=await Je.me();if(t(b||null),b!=null&&b.email){const w=await na.filter({pharmacy_email:b.email},"-updated_date",200);s(Array.isArray(w)?w:[])}}finally{l(!1)}})()},[]);const g=()=>v({medication_key:"",medication_name:"",dosage:"",form:"",ndc:"",cash_price:""}),u=async()=>{if(!(e!=null&&e.email)||!p.medication_key.trim()||!String(p.cash_price).trim())return;f(!0);const b={pharmacy_email:e.email,medication_key:p.medication_key.trim(),medication_name:p.medication_name||p.medication_key.trim(),dosage:p.dosage||void 0,form:p.form||void 0,ndc:p.ndc||void 0,cash_price:Number(p.cash_price)},w=await na.create(b);s(C=>[w,...C]),g(),f(!1)},h=async(b,w)=>{s(C=>C.map(P=>P.id===b?{...P,...w}:P)),await na.update(b,w)},y=async b=>{s(w=>w.filter(C=>C.id!==b)),await na.delete(b)};return o?a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)] flex items-center justify-center",children:a.jsx(rt,{className:"w-6 h-6 animate-spin text-blue-600"})}):e!=null&&e.email?a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-4xl mx-auto",children:[a.jsx(_t,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx(wt,{children:"My Prices"}),a.jsx(Ct,{children:"Preset cash prices per medication for quick quoting."})]})}),a.jsxs(ot,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 mb-4",children:[a.jsx(Ie,{placeholder:"Medication key (RxCUI or name)",value:p.medication_key,onChange:b=>v({...p,medication_key:b.target.value}),className:"md:col-span-2"}),a.jsx(Ie,{placeholder:"Display name (optional)",value:p.medication_name,onChange:b=>v({...p,medication_name:b.target.value})}),a.jsx(Ie,{placeholder:"Dosage (e.g., 10mg)",value:p.dosage,onChange:b=>v({...p,dosage:b.target.value})}),a.jsx(Ie,{placeholder:"Form (e.g., tablet)",value:p.form,onChange:b=>v({...p,form:b.target.value})}),a.jsx(Ie,{placeholder:"NDC (optional)",value:p.ndc,onChange:b=>v({...p,ndc:b.target.value})}),a.jsx(Ie,{placeholder:"Price",inputMode:"decimal",value:p.cash_price,onChange:b=>{const w=b.target.value.replace(/[^\d.]/g,"").slice(0,8);v({...p,cash_price:w})}}),a.jsx("div",{className:"flex items-center",children:a.jsxs(Se,{onClick:u,disabled:d||!p.medication_key||!p.cash_price,className:"w-full",children:[d?a.jsx(rt,{className:"w-4 h-4 animate-spin mr-2"}):a.jsx(N0,{className:"w-4 h-4 mr-2"}),"Add"]})})]}),a.jsx("div",{className:"space-y-2",children:n.length===0?a.jsx("div",{className:"text-sm text-gray-600",children:"No presets yet. Add your most common medications and prices above."}):n.map(b=>a.jsxs("div",{className:"rounded-md border bg-white p-3 flex flex-col sm:flex-row sm:items-center gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:b.medication_name||b.medication_key}),a.jsxs("div",{className:"text-xs text-gray-600 truncate",children:["Key: ",b.medication_key,b.dosage?` • ${b.dosage}`:"",b.form?` • ${b.form}`:"",b.ndc?` • NDC: ${b.ndc}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ie,{className:"w-28 h-8",inputMode:"decimal",value:String(b.cash_price??""),onChange:w=>{const C=w.target.value.replace(/[^\d.]/g,"").slice(0,8);h(b.id,{cash_price:C?Number(C):null})}}),a.jsx(Se,{variant:"outline",size:"sm",onClick:()=>y(b.id),children:a.jsx(cA,{className:"w-4 h-4"})})]})]},b.id))})]})]})}):a.jsx("div",{className:"p-6",children:a.jsx(tt,{className:"max-w-2xl mx-auto",children:a.jsxs(_t,{children:[a.jsx(wt,{children:"My Prices"}),a.jsx(Ct,{children:"Sign in to manage your pharmacy's price presets."})]})})})}function pj(){var v;const[e,t]=U.useState(!0),[n,s]=U.useState(null),[o,l]=U.useState("");U.useEffect(()=>{(async()=>{try{const u=new URLSearchParams(window.location.search),h=u.get("reference_number")||u.get("ref");if(!h){l("Missing reference number."),t(!1);return}const{data:y}=await hU({reference_number:h});if(!(y!=null&&y.ok)){l("Prescription not found."),t(!1);return}s(y.data||null)}catch{l("Unable to load prescription.")}finally{t(!1)}})()},[]);const d=U.useMemo(()=>typeof window>"u"?"":window.location.href,[]);if(U.useMemo(()=>{const g=n==null?void 0:n.pharmacy;return g!=null&&g.name?`https://www.google.com/search?q=${encodeURIComponent(`${g.name} screening appointment`)}`:"https://www.google.com/health/screenings"},[n]),e)return a.jsx("div",{className:"min-h-[50vh] flex items-center justify-center p-6",children:a.jsx(tt,{className:"max-w-xl w-full",children:a.jsx(ot,{className:"p-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Loading…"})})})});if(o||!n)return a.jsx("div",{className:"min-h-[50vh] flex items-center justify-center p-6",children:a.jsx(tt,{className:"max-w-xl w-full",children:a.jsxs(ot,{className:"p-6 text-center",children:[a.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Prescription"}),a.jsx("p",{className:"text-sm text-gray-600",children:o||"Not found."})]})})});const f=Array.isArray(n.medications)?n.medications:[],p=Array.isArray(n.responses)?n.responses:[];return a.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:a.jsx(tt,{className:"max-w-2xl w-full",children:a.jsxs(ot,{className:"p-5 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Prescription Reference"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Ref #",n.reference_number||"—"]})]}),a.jsx("img",{alt:"Scan QR",className:"w-56 h-56 sm:w-64 sm:h-64 border rounded",src:`https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=${encodeURIComponent(d)}`})]}),a.jsxs("div",{className:"rounded-md border p-3",children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Medications"}),a.jsx("ul",{className:"text-sm space-y-1",children:f.map((g,u)=>a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:g.name||"Medication"}),g.dosage?` — ${g.dosage}`:"",g.form?` • ${g.form}`:"",typeof g.quantity=="number"?` • Qty: ${g.quantity}`:""]},u))})]}),n.pharmacy?a.jsxs("div",{className:"rounded-md border p-3 space-y-2",children:[a.jsx("div",{className:"text-sm font-semibold",children:"Chosen Pharmacy"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:n.pharmacy.name||"Pharmacy"}),n.pharmacy.address?a.jsxs("div",{className:"text-gray-700",children:[n.pharmacy.address,n.pharmacy.zip?`, ${n.pharmacy.zip}`:""]}):null,n.pharmacy.phone?a.jsx("div",{children:a.jsx("a",{href:`tel:${encodeURIComponent(n.pharmacy.phone)}`,className:"text-blue-600 underline",children:n.pharmacy.phone})}):null]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.pharmacy.address?a.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(n.pharmacy.address)}`,target:"_blank",rel:"noreferrer",children:a.jsx(Se,{variant:"secondary",children:"Open in Maps"})}):null,n.pharmacy.coupon_url?a.jsx("a",{href:n.pharmacy.coupon_url,target:"_blank",rel:"noreferrer",children:a.jsx(Se,{className:"bg-amber-600 hover:bg-amber-700",children:"View Pharmacy Coupons"})}):null,n.pharmacy.scheduling_url?a.jsx("a",{href:n.pharmacy.scheduling_url,target:"_blank",rel:"noreferrer",children:a.jsx(Se,{className:"bg-blue-600 hover:bg-blue-700",children:"Schedule Vaccines & Screenings"})}):null]}),n.pharmacy.discount_info?a.jsx("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:n.pharmacy.discount_info}):null]}):null,p.length>0?a.jsxs("div",{className:"rounded-md border p-3 space-y-2",children:[a.jsx("div",{className:"text-sm font-semibold",children:"Responses from Pharmacies"}),a.jsx("ul",{className:"space-y-2",children:p.map((g,u)=>a.jsxs("li",{className:"text-sm border rounded p-2",children:[a.jsx("div",{className:"font-medium",children:g.pharmacy_name||"Pharmacy"}),g.address?a.jsxs("div",{className:"text-gray-700",children:[g.address,g.zip?`, ${g.zip}`:""]}):null,g.phone?a.jsx("div",{children:a.jsx("a",{href:`tel:${encodeURIComponent(g.phone)}`,className:"text-blue-600 underline",children:g.phone})}):null,a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold border",children:String(g.status||"pending").replace(/_/g," ")})}),g.note?a.jsx("div",{className:"text-xs text-gray-700 mt-1",children:g.note}):null,a.jsxs("div",{className:"flex gap-2 mt-2",children:[g.coupon_url?a.jsx("a",{href:g.coupon_url,target:"_blank",rel:"noreferrer",children:a.jsx(Se,{size:"sm",className:"bg-amber-600 hover:bg-amber-700",children:"Coupons"})}):null,g.discount_info?a.jsx("div",{className:"text-[11px] text-gray-700 border rounded px-2 py-1 bg-gray-50",children:g.discount_info}):null]})]},u))})]}):null,Number.isFinite((v=n==null?void 0:n.pharmacy)==null?void 0:v.price_total)?a.jsxs("div",{className:"rounded-md border p-3 bg-emerald-50 border-emerald-200 text-emerald-900",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Estimated Cash Price: "}),"$",Number(n.pharmacy.price_total).toFixed(2)]}),a.jsx("div",{className:"text-xs mt-1",children:"Pricing shown is cash-only and for reference. Insurance billing and pricing occur directly between patient and pharmacy."})]}):null,a.jsx("div",{className:"rounded-md border p-3 bg-blue-50 border-blue-200 text-blue-900 text-xs",children:"No personal health information (PHI) is displayed or stored on this page. Use the reference number with the chosen pharmacy."})]})})})}function mj(){return a.jsx(wd,{})}async function yU(e,t){await e.removeUser(),await e.signinRedirect()}function Ep({icon:e,title:t,desc:n,onClick:s}){return a.jsxs(tt,{className:"hover:shadow-md transition-shadow",children:[a.jsxs(_t,{className:"flex flex-row items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-md bg-blue-50 text-blue-700",children:a.jsx(e,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx(wt,{className:"text-base",children:t}),a.jsx(Ct,{children:n})]})]}),a.jsx(ot,{children:a.jsx(Se,{onClick:s,className:"w-full",children:"Continue"})})]})}function gj(){const[e,t]=U.useState(!1),n=sc(),s=async o=>{if(!e){t(!0);try{await yU(n,o)}catch{}finally{t(!1)}}};return a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Choose your role"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Select how you’ll use RealTimeRx. You can update this later in your profile."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Ep,{icon:R0,title:"Prescriber",desc:"For clinicians initiating requests",onClick:()=>s("prescriber")}),a.jsx(Ep,{icon:hA,title:"Prescriber Staff",desc:"For team members assisting prescribers",onClick:()=>s("prescriber_staff")}),a.jsx(Ep,{icon:yR,title:"Pharmacy Staff",desc:"For pharmacy users responding to requests",onClick:()=>s("pharmacy_staff")})]}),e&&a.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[a.jsx(rt,{className:"w-4 h-4 animate-spin mr-2"})," Saving your choice…"]})]})})}function vj(){const[e,t]=U.useState(null),[n,s]=U.useState(""),[o,l]=U.useState(""),[d,f]=U.useState(!1),[p,v]=U.useState("");U.useEffect(()=>{(async()=>{const u=await Je.me().catch(()=>null);t(u),s((u==null?void 0:u.pharmacy_coupon_url)||""),l((u==null?void 0:u.pharmacy_discount_info)||"")})()},[]);const g=async()=>{f(!0),await Je.updateMyUserData({pharmacy_coupon_url:n||"",pharmacy_discount_info:o||""}),f(!1),v(new Date().toLocaleTimeString())};return a.jsx("div",{className:"p-4 sm:p-6 md:p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:a.jsxs(tt,{className:"max-w-2xl mx-auto",children:[a.jsxs(_t,{children:[a.jsx(wt,{children:"Pharmacy Settings"}),a.jsx(Ct,{children:"Customize the patient-facing coupon link and discount info shown after your pharmacy is selected."})]}),a.jsxs(ot,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Coupon page URL"}),a.jsx(Ie,{placeholder:"https://yourpharmacy.example/coupons",value:n,onChange:u=>s(u.target.value),inputMode:"url"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Public link to your pharmacy’s coupon or discount page."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Discount info (short blurb)"}),a.jsx(ec,{placeholder:"e.g., 10% off generics with our savings card. Prices vary. See website for details.",value:o,onChange:u=>l(u.target.value),rows:4}),a.jsx("p",{className:"text-xs text-gray-500",children:"Displayed on the patient link after your pharmacy is chosen."})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[p?a.jsxs("span",{className:"text-xs text-gray-500",children:["Saved ",p]}):null,a.jsx(Se,{onClick:g,disabled:d,children:d?"Saving…":"Save"})]})]})]})})}function xU(){const e=sc(),t=Jr();return S.useEffect(()=>{(async()=>{try{await e.signinRedirectCallback(),t("/post-auth",{replace:!0})}catch(n){console.error(n),t("/signin",{replace:!0})}})()},[]),a.jsx("div",{children:"Signing you in…"})}const _U=e=>{var s;const t=((s=e.user)==null?void 0:s.profile)||{};return t["custom:appRole"]||t.appRole||null};function wU(){const e=sc(),t=Jr();return S.useEffect(()=>{if(e.isLoading)return;if(!e.isAuthenticated){t("/signin",{replace:!0});return}const n=_U(e);if(!n){t("/role-selection",{replace:!0});return}n==="pharmacy"?t("/pharmacy",{replace:!0}):t("/prescriber",{replace:!0})},[e.isLoading,e.isAuthenticated]),a.jsx("div",{children:"Loading…"})}const Vw={PharmacyInterface:Ek,PrescriberAccess:Rk,PharmacyAccess:Ak,signin:wd,prescriber:Ik,pharmacy:Mk,admin:Lk,AdminSettings:Hk,logout:Wk,PrescriberTool:Zk,Home:ej,Onboarding:tj,ProfileSettings:nj,PendingNPIVerification:rj,AdminUsers:sj,AdminNPIVerification:ij,AdminMedicationRequests:oj,TeamAccess:aj,AdminAnalytics:lj,FirstLoginReset:cj,PrescriberToolNew:uj,PrescriberRequest:dj,SecurityCheck:fj,PharmacyPrices:hj,MedicationPublic:pj,PrescriberLogin:mj,RoleSelection:gj,PharmacySettings:vj};function bU(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(Vw).find(s=>s.toLowerCase()===t.toLowerCase())||Object.keys(Vw)[0]}function SU(){const e=Sr(),t=bU(e.pathname);return a.jsx(uO,{currentPageName:t,children:a.jsxs(_T,{children:[a.jsx(ht,{path:"/",element:a.jsx(wd,{})}),a.jsx(ht,{path:"/oidc-callback",element:a.jsx(xU,{})}),a.jsx(ht,{path:"/post-auth",element:a.jsx(wU,{})}),a.jsx(ht,{path:"/PharmacyInterface",element:a.jsx(Ek,{})}),a.jsx(ht,{path:"/PrescriberAccess",element:a.jsx(Rk,{})}),a.jsx(ht,{path:"/PharmacyAccess",element:a.jsx(Ak,{})}),a.jsx(ht,{path:"/signin",element:a.jsx(wd,{})}),a.jsx(ht,{path:"/prescriber",element:a.jsx(Ik,{})}),a.jsx(ht,{path:"/pharmacy",element:a.jsx(Mk,{})}),a.jsx(ht,{path:"/admin",element:a.jsx(Lk,{})}),a.jsx(ht,{path:"/AdminSettings",element:a.jsx(Hk,{})}),a.jsx(ht,{path:"/logout",element:a.jsx(Wk,{})}),a.jsx(ht,{path:"/PrescriberTool",element:a.jsx(Zk,{})}),a.jsx(ht,{path:"/Home",element:a.jsx(ej,{})}),a.jsx(ht,{path:"/Onboarding",element:a.jsx(tj,{})}),a.jsx(ht,{path:"/ProfileSettings",element:a.jsx(nj,{})}),a.jsx(ht,{path:"/PendingNPIVerification",element:a.jsx(rj,{})}),a.jsx(ht,{path:"/AdminUsers",element:a.jsx(sj,{})}),a.jsx(ht,{path:"/AdminNPIVerification",element:a.jsx(ij,{})}),a.jsx(ht,{path:"/AdminMedicationRequests",element:a.jsx(oj,{})}),a.jsx(ht,{path:"/TeamAccess",element:a.jsx(aj,{})}),a.jsx(ht,{path:"/AdminAnalytics",element:a.jsx(lj,{})}),a.jsx(ht,{path:"/FirstLoginReset",element:a.jsx(cj,{})}),a.jsx(ht,{path:"/PrescriberToolNew",element:a.jsx(uj,{})}),a.jsx(ht,{path:"/PrescriberRequest",element:a.jsx(dj,{})}),a.jsx(ht,{path:"/SecurityCheck",element:a.jsx(fj,{})}),a.jsx(ht,{path:"/PharmacyPrices",element:a.jsx(hj,{})}),a.jsx(ht,{path:"/MedicationPublic",element:a.jsx(pj,{})}),a.jsx(ht,{path:"/PrescriberLogin",element:a.jsx(mj,{})}),a.jsx(ht,{path:"/RoleSelection",element:a.jsx(gj,{})}),a.jsx(ht,{path:"/PharmacySettings",element:a.jsx(vj,{})}),a.jsx(ht,{path:"*",element:a.jsx(yT,{to:"/signin",replace:!0})})]})})}function CU(){return a.jsx(a.Fragment,{children:a.jsx(SU,{})})}function kU(){const[e,t]=S.useState(()=>{try{const l=localStorage.getItem("rtx_user");return l?JSON.parse(l):null}catch{return null}}),n=S.useCallback((l,d="pharmacy")=>{const f={email:l,role:d};try{localStorage.setItem("rtx_user",JSON.stringify(f))}catch(p){console.warn("unable to persist user",p)}return t(f),f},[]),s=S.useCallback(()=>{try{localStorage.removeItem("rtx_user")}catch(l){console.warn("unable to remove user",l)}t(null)},[]),o=S.useCallback((...l)=>e?l.includes(e.role):!1,[e]);return{user:e,login:n,logout:s,requireRole:o}}function jU(){kU();const e=sc(),t=Jr(),n=Sr();return S.useEffect(()=>{if(!(!e||!e.isAuthenticated))return(async()=>{try{const s=await Je.me(),o=s==null?void 0:s.user_role;if(!(s!=null&&s.onboarding_complete)){n.pathname!==Le("RoleSelection")&&t(Le("RoleSelection"));return}t(Le(o==="admin"?"AdminUsers":o==="pharmacy_staff"?"PharmacyInterface":"PrescriberTool"))}catch{}})(),()=>{}},[e&&e.isAuthenticated]),a.jsxs(a.Fragment,{children:[a.jsx(CU,{}),a.jsx(F0,{})]})}function PU(){const e=Jr();return U.useEffect(()=>{try{window.__RTX_NAVIGATE__=t=>{try{if(typeof t!="string")return;if(t.startsWith("http://")||t.startsWith("https://")){window.location.href=t;return}if(t.startsWith("/")){e(t);return}const n=Le(t);e(n)}catch{}}}catch{}return()=>{try{delete window.__RTX_NAVIGATE__}catch{}}},[e]),null}const $w=typeof window<"u"&&window.location&&window.location.origin?window.location.origin:"http://localhost:5173",Zi="https://us-east-1e7jguoyub.auth.us-east-1.amazoncognito.com",yj={authority:Zi,client_id:"1ohivbrbk8aitpge7lu7ov1kna",redirect_uri:`${$w}/oidc-callback/`,response_type:"code",scope:"openid email profile",post_logout_redirect_uri:`${$w}/logout`,metadata:{issuer:Zi,authorization_endpoint:`${Zi}/oauth2/authorize`,token_endpoint:`${Zi}/oauth2/token`,userinfo_endpoint:`${Zi}/oauth2/userInfo`,jwks_uri:`${Zi}/.well-known/jwks.json`,end_session_endpoint:`${Zi}/logout`}};function TU(e,t){try{const n=new URL(e),s=new URL(t);return n.host===s.host&&n.protocol===s.protocol}catch{return!1}}function NU(){if(typeof window>"u")return;const e=window.location.origin,{redirect_uri:t,post_logout_redirect_uri:n,client_id:s,authority:o}=yj;t&&!TU(t,e)&&console.warn("[OIDC] redirect_uri host mismatch:",{redirect_uri:t,origin:e,tip:"Start login from the environment you are using. If on Netlify, redirect_uri must be your Netlify URL; if local, run npm run dev so localhost:5173 is alive."}),t&&!t.endsWith("/")&&console.warn("[OIDC] redirect_uri should have a trailing slash for Cognito exact match:",t),n&&!n.endsWith("/logout")&&console.warn("[OIDC] post_logout_redirect_uri should usually end with /logout:",n);const l={authority:o,client_id:s,redirect_uri:t,post_logout_redirect_uri:n};try{window.__OIDC_CFG__=l}catch{}console.info("[OIDC] Config snapshot:",l)}const EU=(()=>{const e=Object.create(null),t=l=>e[l]===void 0?null:e[l],n=(l,d)=>{e[l]=d},s=l=>{delete e[l]};return{get:t,set:n,remove:s,getItem:t,setItem:n,removeItem:s,getAllKeys:()=>Object.keys(e)}})(),RU={...yj,userStore:new Vm({store:EU}),automaticSilentRenew:!1};try{NU()}catch{}NP.createRoot(document.getElementById("root")).render(a.jsx(zT,{children:a.jsxs(lE,{...RU,children:[a.jsx(PU,{}),a.jsx(jU,{})]})}));
